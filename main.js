/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/.pnpm/tiny-pinyin@1.3.2/node_modules/tiny-pinyin/dist/dict.js
var require_dict = __commonJS({
  "node_modules/.pnpm/tiny-pinyin@1.3.2/node_modules/tiny-pinyin/dist/dict.js"(exports, module2) {
    "use strict";
    var UNIHANS = ["\u963F", "\u54CE", "\u5B89", "\u80AE", "\u51F9", "\u516B", "\u6300", "\u6273", "\u90A6", "\u52F9", "\u9642", "\u5954", "\u4F3B", "\u5C44", "\u8FB9", "\u706C", "\u618B", "\u6C43", "\u51AB", "\u7676", "\u5CEC", "\u5693", "\u5072", "\u53C2", "\u4ED3", "\u64A1", "\u518A", "\u5D7E", "\u66FD", "\u53C9", "\u8286", "\u8FBF", "\u4F25", "\u6284", "\u8F66", "\u62BB", "\u9637", "\u5403", "\u5145", "\u62BD", "\u51FA", "\u6B3B", "\u63E3", "\u5DDB", "\u5205", "\u5439", "\u65FE", "\u9034", "\u5472", "\u5306", "\u51D1", "\u7C97", "\u6C46", "\u5D14", "\u90A8", "\u6413", "\u5491", "\u5446", "\u4E39", "\u5F53", "\u5200", "\u561A", "\u6265", "\u706F", "\u6C10", "\u7538", "\u5201", "\u7239", "\u4E01", "\u4E1F", "\u4E1C", "\u543A", "\u53BE", "\u8011", "\u5796", "\u5428", "\u591A", "\u59B8", "\u8BF6", "\u5940", "\u97A5", "\u513F", "\u53D1", "\u5E06", "\u531A", "\u98DE", "\u5206", "\u4E30", "\u8985", "\u4ECF", "\u7D11", "\u592B", "\u65EE", "\u4F85", "\u7518", "\u5188", "\u768B", "\u6208", "\u7ED9", "\u6839", "\u522F", "\u5DE5", "\u52FE", "\u4F30", "\u74DC", "\u4E56", "\u5173", "\u5149", "\u5F52", "\u4E28", "\u5459", "\u54C8", "\u548D", "\u4F44", "\u592F", "\u8320", "\u8BC3", "\u9ED2", "\u62EB", "\u4EA8", "\u5677", "\u53FF", "\u9F41", "\u4E4E", "\u82B1", "\u6000", "\u6B22", "\u5DDF", "\u7070", "\u660F", "\u5419", "\u4E0C", "\u52A0", "\u620B", "\u6C5F", "\u827D", "\u9636", "\u5DFE", "\u5755", "\u5182", "\u4E29", "\u51E5", "\u59E2", "\u5658", "\u519B", "\u5494", "\u5F00", "\u520A", "\u5FFC", "\u5C3B", "\u533C", "\u808E", "\u52A5", "\u7A7A", "\u62A0", "\u625D", "\u5938", "\u84AF", "\u5BBD", "\u5321", "\u4E8F", "\u5764", "\u6269", "\u5783", "\u6765", "\u5170", "\u5577", "\u635E", "\u808B", "\u52D2", "\u5D1A", "\u54E9", "\u4FE9", "\u5941", "\u826F", "\u64A9", "\u6BDF", "\u62CE", "\u4F36", "\u6E9C", "\u56D6", "\u9F99", "\u779C", "\u565C", "\u9A74", "\u5A08", "\u63A0", "\u62A1", "\u7F57", "\u5463", "\u5988", "\u57CB", "\u5ADA", "\u7264", "\u732B", "\u4E48", "\u5445", "\u95E8", "\u753F", "\u54AA", "\u5B80", "\u55B5", "\u4E5C", "\u6C11", "\u540D", "\u8C2C", "\u6478", "\u54DE", "\u6BEA", "\u55EF", "\u62CF", "\u8149", "\u56E1", "\u56D4", "\u5B6C", "\u7592", "\u5A1E", "\u6041", "\u80FD", "\u59AE", "\u62C8", "\u5A18", "\u9E1F", "\u634F", "\u56DC", "\u5B81", "\u599E", "\u519C", "\u7FBA", "\u5974", "\u5973", "\u597B", "\u759F", "\u9EC1", "\u632A", "\u5594", "\u8BB4", "\u5991", "\u62CD", "\u7705", "\u4E53", "\u629B", "\u5478", "\u55B7", "\u5309", "\u4E15", "\u56E8", "\u527D", "\u6C15", "\u59D8", "\u4E52", "\u948B", "\u5256", "\u4EC6", "\u4E03", "\u6390", "\u5343", "\u545B", "\u6084", "\u767F", "\u4EB2", "\u9751", "\u536D", "\u4E18", "\u533A", "\u5CD1", "\u7F3A", "\u590B", "\u5465", "\u7A63", "\u5A06", "\u60F9", "\u4EBA", "\u6254", "\u65E5", "\u8338", "\u53B9", "\u909A", "\u633C", "\u5827", "\u5A51", "\u77A4", "\u637C", "\u4EE8", "\u6BE2", "\u4E09", "\u6852", "\u63BB", "\u95AA", "\u68EE", "\u50E7", "\u6740", "\u7B5B", "\u5C71", "\u4F24", "\u5F30", "\u5962", "\u7533", "\u5347", "\u5C38", "\u53CE", "\u4E66", "\u5237", "\u8870", "\u95E9", "\u53CC", "\u813D", "\u542E", "\u8BF4", "\u53B6", "\u5FEA", "\u635C", "\u82CF", "\u72FB", "\u590A", "\u5B59", "\u5506", "\u4ED6", "\u56FC", "\u574D", "\u6C64", "\u5932", "\u5FD1", "\u71A5", "\u5254", "\u5929", "\u65EB", "\u5E16", "\u5385", "\u56F2", "\u5077", "\u51F8", "\u6E4D", "\u63A8", "\u541E", "\u4E47", "\u7A75", "\u6B6A", "\u5F2F", "\u5C23", "\u5371", "\u6637", "\u7FC1", "\u631D", "\u4E4C", "\u5915", "\u8672", "\u4ED9", "\u4E61", "\u7071", "\u4E9B", "\u5FC3", "\u661F", "\u51F6", "\u4F11", "\u5401", "\u5405", "\u524A", "\u5743", "\u4E2B", "\u6079", "\u592E", "\u5E7A", "\u503B", "\u4E00", "\u56D9", "\u5E94", "\u54DF", "\u4F63", "\u4F18", "\u625C", "\u56E6", "\u66F0", "\u6655", "\u5E00", "\u707D", "\u5142", "\u5328", "\u50AE", "\u5219", "\u8D3C", "\u600E", "\u5897", "\u624E", "\u635A", "\u6CBE", "\u5F20", "\u4F4B", "\u8707", "\u8D1E", "\u4E89", "\u4E4B", "\u4E2D", "\u5DDE", "\u6731", "\u6293", "\u62FD", "\u4E13", "\u5986", "\u96B9", "\u5B92", "\u5353", "\u4E72", "\u5B97", "\u90B9", "\u79DF", "\u94BB", "\u539C", "\u5C0A", "\u6628", "\u5159"];
    var PINYINS = ["A", "AI", "AN", "ANG", "AO", "BA", "BAI", "BAN", "BANG", "BAO", "BEI", "BEN", "BENG", "BI", "BIAN", "BIAO", "BIE", "BIN", "BING", "BO", "BU", "CA", "CAI", "CAN", "CANG", "CAO", "CE", "CEN", "CENG", "CHA", "CHAI", "CHAN", "CHANG", "CHAO", "CHE", "CHEN", "CHENG", "CHI", "CHONG", "CHOU", "CHU", "CHUA", "CHUAI", "CHUAN", "CHUANG", "CHUI", "CHUN", "CHUO", "CI", "CONG", "COU", "CU", "CUAN", "CUI", "CUN", "CUO", "DA", "DAI", "DAN", "DANG", "DAO", "DE", "DEN", "DENG", "DI", "DIAN", "DIAO", "DIE", "DING", "DIU", "DONG", "DOU", "DU", "DUAN", "DUI", "DUN", "DUO", "E", "EI", "EN", "ENG", "ER", "FA", "FAN", "FANG", "FEI", "FEN", "FENG", "FIAO", "FO", "FOU", "FU", "GA", "GAI", "GAN", "GANG", "GAO", "GE", "GEI", "GEN", "GENG", "GONG", "GOU", "GU", "GUA", "GUAI", "GUAN", "GUANG", "GUI", "GUN", "GUO", "HA", "HAI", "HAN", "HANG", "HAO", "HE", "HEI", "HEN", "HENG", "HM", "HONG", "HOU", "HU", "HUA", "HUAI", "HUAN", "HUANG", "HUI", "HUN", "HUO", "JI", "JIA", "JIAN", "JIANG", "JIAO", "JIE", "JIN", "JING", "JIONG", "JIU", "JU", "JUAN", "JUE", "JUN", "KA", "KAI", "KAN", "KANG", "KAO", "KE", "KEN", "KENG", "KONG", "KOU", "KU", "KUA", "KUAI", "KUAN", "KUANG", "KUI", "KUN", "KUO", "LA", "LAI", "LAN", "LANG", "LAO", "LE", "LEI", "LENG", "LI", "LIA", "LIAN", "LIANG", "LIAO", "LIE", "LIN", "LING", "LIU", "LO", "LONG", "LOU", "LU", "LV", "LUAN", "LVE", "LUN", "LUO", "M", "MA", "MAI", "MAN", "MANG", "MAO", "ME", "MEI", "MEN", "MENG", "MI", "MIAN", "MIAO", "MIE", "MIN", "MING", "MIU", "MO", "MOU", "MU", "N", "NA", "NAI", "NAN", "NANG", "NAO", "NE", "NEI", "NEN", "NENG", "NI", "NIAN", "NIANG", "NIAO", "NIE", "NIN", "NING", "NIU", "NONG", "NOU", "NU", "NV", "NUAN", "NVE", "NUN", "NUO", "O", "OU", "PA", "PAI", "PAN", "PANG", "PAO", "PEI", "PEN", "PENG", "PI", "PIAN", "PIAO", "PIE", "PIN", "PING", "PO", "POU", "PU", "QI", "QIA", "QIAN", "QIANG", "QIAO", "QIE", "QIN", "QING", "QIONG", "QIU", "QU", "QUAN", "QUE", "QUN", "RAN", "RANG", "RAO", "RE", "REN", "RENG", "RI", "RONG", "ROU", "RU", "RUA", "RUAN", "RUI", "RUN", "RUO", "SA", "SAI", "SAN", "SANG", "SAO", "SE", "SEN", "SENG", "SHA", "SHAI", "SHAN", "SHANG", "SHAO", "SHE", "SHEN", "SHENG", "SHI", "SHOU", "SHU", "SHUA", "SHUAI", "SHUAN", "SHUANG", "SHUI", "SHUN", "SHUO", "SI", "SONG", "SOU", "SU", "SUAN", "SUI", "SUN", "SUO", "TA", "TAI", "TAN", "TANG", "TAO", "TE", "TENG", "TI", "TIAN", "TIAO", "TIE", "TING", "TONG", "TOU", "TU", "TUAN", "TUI", "TUN", "TUO", "WA", "WAI", "WAN", "WANG", "WEI", "WEN", "WENG", "WO", "WU", "XI", "XIA", "XIAN", "XIANG", "XIAO", "XIE", "XIN", "XING", "XIONG", "XIU", "XU", "XUAN", "XUE", "XUN", "YA", "YAN", "YANG", "YAO", "YE", "YI", "YIN", "YING", "YO", "YONG", "YOU", "YU", "YUAN", "YUE", "YUN", "ZA", "ZAI", "ZAN", "ZANG", "ZAO", "ZE", "ZEI", "ZEN", "ZENG", "ZHA", "ZHAI", "ZHAN", "ZHANG", "ZHAO", "ZHE", "ZHEN", "ZHENG", "ZHI", "ZHONG", "ZHOU", "ZHU", "ZHUA", "ZHUAI", "ZHUAN", "ZHUANG", "ZHUI", "ZHUN", "ZHUO", "ZI", "ZONG", "ZOU", "ZU", "ZUAN", "ZUI", "ZUN", "ZUO", ""];
    var EXCEPTIONS = {
      "\u66FE": "ZENG",
      "\u6C88": "SHEN",
      "\u55F2": "DIA",
      "\u78A1": "ZHOU",
      "\u8052": "GUO",
      "\u7094": "QUE",
      "\u86B5": "KE",
      "\u7809": "HUA",
      "\u5B24": "MO",
      "\u5B37": "MO",
      "\u8E52": "PAN",
      "\u8E4A": "XI",
      "\u4E2C": "PAN",
      "\u9730": "XIAN",
      "\u8398": "XIN",
      "\u8C49": "CHI",
      "\u9967": "XING",
      "\u7B60": "JUN",
      "\u957F": "CHANG",
      "\u5E27": "ZHEN",
      "\u5CD9": "SHI",
      "\u90CD": "NA",
      "\u828E": "XIONG",
      "\u8C01": "SHUI"
    };
    module2.exports = {
      PINYINS,
      UNIHANS,
      EXCEPTIONS
    };
  }
});

// node_modules/.pnpm/tiny-pinyin@1.3.2/node_modules/tiny-pinyin/dist/core.js
var require_core = __commonJS({
  "node_modules/.pnpm/tiny-pinyin@1.3.2/node_modules/tiny-pinyin/dist/core.js"(exports, module2) {
    "use strict";
    var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
      return typeof obj;
    } : function(obj) {
      return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
    var DICT = require_dict();
    var FIRST_PINYIN_UNIHAN = "\u963F";
    var LAST_PINYIN_UNIHAN = "\u9FFF";
    var LATIN = 1;
    var PINYIN = 2;
    var UNKNOWN = 3;
    var supported = null;
    var COLLATOR = void 0;
    function patchDict(patchers) {
      if (!patchers)
        return;
      if (typeof patchers === "function") {
        patchers = [patchers];
      }
      if (patchers.forEach) {
        patchers.forEach(function(p) {
          typeof p === "function" && p(DICT);
        });
      }
    }
    function isSupported(force) {
      if (!force && supported !== null) {
        return supported;
      }
      if ((typeof Intl === "undefined" ? "undefined" : _typeof(Intl)) === "object" && Intl.Collator) {
        COLLATOR = new Intl.Collator(["zh-Hans-CN", "zh-CN"]);
        supported = Intl.Collator.supportedLocalesOf(["zh-CN"]).length === 1;
      } else {
        supported = false;
      }
      return supported;
    }
    function genToken(ch) {
      var UNIHANS = DICT.UNIHANS;
      var PINYINS = DICT.PINYINS;
      var EXCEPTIONS = DICT.EXCEPTIONS;
      var token = {
        source: ch
      };
      if (ch in EXCEPTIONS) {
        token.type = PINYIN;
        token.target = EXCEPTIONS[ch];
        return token;
      }
      var offset = -1;
      var cmp = void 0;
      if (ch.charCodeAt(0) < 256) {
        token.type = LATIN;
        token.target = ch;
        return token;
      } else {
        cmp = COLLATOR.compare(ch, FIRST_PINYIN_UNIHAN);
        if (cmp < 0) {
          token.type = UNKNOWN;
          token.target = ch;
          return token;
        } else if (cmp === 0) {
          token.type = PINYIN;
          offset = 0;
        } else {
          cmp = COLLATOR.compare(ch, LAST_PINYIN_UNIHAN);
          if (cmp > 0) {
            token.type = UNKNOWN;
            token.target = ch;
            return token;
          } else if (cmp === 0) {
            token.type = PINYIN;
            offset = UNIHANS.length - 1;
          }
        }
      }
      token.type = PINYIN;
      if (offset < 0) {
        var begin = 0;
        var end = UNIHANS.length - 1;
        while (begin <= end) {
          offset = ~~((begin + end) / 2);
          var unihan = UNIHANS[offset];
          cmp = COLLATOR.compare(ch, unihan);
          if (cmp === 0) {
            break;
          } else if (cmp > 0) {
            begin = offset + 1;
          } else {
            end = offset - 1;
          }
        }
      }
      if (cmp < 0) {
        offset--;
      }
      token.target = PINYINS[offset];
      if (!token.target) {
        token.type = UNKNOWN;
        token.target = token.source;
      }
      return token;
    }
    function parse2(str) {
      if (typeof str !== "string") {
        throw new Error("argument should be string.");
      }
      if (!isSupported()) {
        throw new Error("not support Intl or zh-CN language.");
      }
      return str.split("").map(function(v) {
        return genToken(v);
      });
    }
    module2.exports = {
      isSupported,
      parse: parse2,
      patchDict,
      genToken,
      convertToPinyin: function convertToPinyin(str, separator, lowerCase) {
        return parse2(str).map(function(v) {
          if (lowerCase && v.type === PINYIN) {
            return v.target.toLowerCase();
          }
          return v.target;
        }).join(separator || "");
      }
    };
  }
});

// node_modules/.pnpm/tiny-pinyin@1.3.2/node_modules/tiny-pinyin/dist/patchers/56l.js
var require_l = __commonJS({
  "node_modules/.pnpm/tiny-pinyin@1.3.2/node_modules/tiny-pinyin/dist/patchers/56l.js"(exports, module2) {
    "use strict";
    exports = module2.exports = function patcher(DICT) {
      DICT.EXCEPTIONS = {
        "\u55F2": "DIA",
        "\u78A1": "ZHOU",
        "\u8052": "GUO",
        "\u7094": "QUE",
        "\u86B5": "KE",
        "\u7809": "HUA",
        "\u5B37": "MO",
        "\u8E4A": "XI",
        "\u4E2C": "PAN",
        "\u9730": "XIAN",
        "\u8C49": "CHI",
        "\u9967": "XING",
        "\u5E27": "ZHEN",
        "\u828E": "XIONG",
        "\u8C01": "SHUI",
        "\u94B6": "KE"
      };
      DICT.UNIHANS[91] = "\u4F15";
      DICT.UNIHANS[347] = "\u4EDA";
      DICT.UNIHANS[393] = "\u8BCC";
      DICT.UNIHANS[39] = "\u5A64";
      DICT.UNIHANS[50] = "\u8160";
      DICT.UNIHANS[369] = "\u6538";
      DICT.UNIHANS[123] = "\u4E6F";
      DICT.UNIHANS[171] = "\u5215";
      DICT.UNIHANS[102] = "\u4F5D";
      DICT.UNIHANS[126] = "\u72BF";
      DICT.UNIHANS[176] = "\u5217";
      DICT.UNIHANS[178] = "\u5222";
      DICT.UNIHANS[252] = "\u5A1D";
      DICT.UNIHANS[330] = "\u5078";
    };
    exports.shouldPatch = function shouldPatch(toToken) {
      if (typeof toToken !== "function")
        return false;
      if (toToken("\u4F15").target === "FOU" && toToken("\u4EDA").target === "XIA" && toToken("\u8BCC").target === "ZHONG" && toToken("\u5A64").target === "CHONG" && toToken("\u8160").target === "CONG" && toToken("\u6538").target === "YONG" && toToken("\u4E6F").target === "HOU" && toToken("\u5215").target === "LENG" && toToken("\u4F5D").target === "GONG" && toToken("\u72BF").target === "HUAI" && toToken("\u5217").target === "LIAO" && toToken("\u5222").target === "LIN" && toToken("\u94B6").target === "E") {
        return true;
      }
      return false;
    };
  }
});

// node_modules/.pnpm/tiny-pinyin@1.3.2/node_modules/tiny-pinyin/dist/index.js
var require_dist = __commonJS({
  "node_modules/.pnpm/tiny-pinyin@1.3.2/node_modules/tiny-pinyin/dist/index.js"(exports, module2) {
    "use strict";
    var pinyin2 = require_core();
    var patcher56L = require_l();
    if (pinyin2.isSupported() && patcher56L.shouldPatch(pinyin2.genToken)) {
      pinyin2.patchDict(patcher56L);
    }
    module2.exports = pinyin2;
  }
});

// tabSwitcherIndex.ts
var tabSwitcherIndex_exports = {};
__export(tabSwitcherIndex_exports, {
  default: () => TabSwitcher
});
module.exports = __toCommonJS(tabSwitcherIndex_exports);
var import_obsidian = require("obsidian");

// node_modules/.pnpm/fuse.js@6.6.2/node_modules/fuse.js/dist/fuse.esm.js
function isArray(value) {
  return !Array.isArray ? getTag(value) === "[object Array]" : Array.isArray(value);
}
var INFINITY = 1 / 0;
function baseToString(value) {
  if (typeof value == "string") {
    return value;
  }
  let result = value + "";
  return result == "0" && 1 / value == -INFINITY ? "-0" : result;
}
function toString(value) {
  return value == null ? "" : baseToString(value);
}
function isString(value) {
  return typeof value === "string";
}
function isNumber(value) {
  return typeof value === "number";
}
function isBoolean(value) {
  return value === true || value === false || isObjectLike(value) && getTag(value) == "[object Boolean]";
}
function isObject(value) {
  return typeof value === "object";
}
function isObjectLike(value) {
  return isObject(value) && value !== null;
}
function isDefined(value) {
  return value !== void 0 && value !== null;
}
function isBlank(value) {
  return !value.trim().length;
}
function getTag(value) {
  return value == null ? value === void 0 ? "[object Undefined]" : "[object Null]" : Object.prototype.toString.call(value);
}
var INCORRECT_INDEX_TYPE = "Incorrect 'index' type";
var LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = (key) => `Invalid value for key ${key}`;
var PATTERN_LENGTH_TOO_LARGE = (max) => `Pattern length exceeds max of ${max}.`;
var MISSING_KEY_PROPERTY = (name) => `Missing ${name} property in key`;
var INVALID_KEY_WEIGHT_VALUE = (key) => `Property 'weight' in key '${key}' must be a positive integer`;
var hasOwn = Object.prototype.hasOwnProperty;
var KeyStore = class {
  constructor(keys) {
    this._keys = [];
    this._keyMap = {};
    let totalWeight = 0;
    keys.forEach((key) => {
      let obj = createKey(key);
      totalWeight += obj.weight;
      this._keys.push(obj);
      this._keyMap[obj.id] = obj;
      totalWeight += obj.weight;
    });
    this._keys.forEach((key) => {
      key.weight /= totalWeight;
    });
  }
  get(keyId) {
    return this._keyMap[keyId];
  }
  keys() {
    return this._keys;
  }
  toJSON() {
    return JSON.stringify(this._keys);
  }
};
function createKey(key) {
  let path = null;
  let id = null;
  let src = null;
  let weight = 1;
  let getFn = null;
  if (isString(key) || isArray(key)) {
    src = key;
    path = createKeyPath(key);
    id = createKeyId(key);
  } else {
    if (!hasOwn.call(key, "name")) {
      throw new Error(MISSING_KEY_PROPERTY("name"));
    }
    const name = key.name;
    src = name;
    if (hasOwn.call(key, "weight")) {
      weight = key.weight;
      if (weight <= 0) {
        throw new Error(INVALID_KEY_WEIGHT_VALUE(name));
      }
    }
    path = createKeyPath(name);
    id = createKeyId(name);
    getFn = key.getFn;
  }
  return { path, id, weight, src, getFn };
}
function createKeyPath(key) {
  return isArray(key) ? key : key.split(".");
}
function createKeyId(key) {
  return isArray(key) ? key.join(".") : key;
}
function get(obj, path) {
  let list = [];
  let arr = false;
  const deepGet = (obj2, path2, index) => {
    if (!isDefined(obj2)) {
      return;
    }
    if (!path2[index]) {
      list.push(obj2);
    } else {
      let key = path2[index];
      const value = obj2[key];
      if (!isDefined(value)) {
        return;
      }
      if (index === path2.length - 1 && (isString(value) || isNumber(value) || isBoolean(value))) {
        list.push(toString(value));
      } else if (isArray(value)) {
        arr = true;
        for (let i = 0, len = value.length; i < len; i += 1) {
          deepGet(value[i], path2, index + 1);
        }
      } else if (path2.length) {
        deepGet(value, path2, index + 1);
      }
    }
  };
  deepGet(obj, isString(path) ? path.split(".") : path, 0);
  return arr ? list : list[0];
}
var MatchOptions = {
  includeMatches: false,
  findAllMatches: false,
  minMatchCharLength: 1
};
var BasicOptions = {
  isCaseSensitive: false,
  includeScore: false,
  keys: [],
  shouldSort: true,
  sortFn: (a, b) => a.score === b.score ? a.idx < b.idx ? -1 : 1 : a.score < b.score ? -1 : 1
};
var FuzzyOptions = {
  location: 0,
  threshold: 0.6,
  distance: 100
};
var AdvancedOptions = {
  useExtendedSearch: false,
  getFn: get,
  ignoreLocation: false,
  ignoreFieldNorm: false,
  fieldNormWeight: 1
};
var Config = {
  ...BasicOptions,
  ...MatchOptions,
  ...FuzzyOptions,
  ...AdvancedOptions
};
var SPACE = /[^ ]+/g;
function norm(weight = 1, mantissa = 3) {
  const cache = /* @__PURE__ */ new Map();
  const m = Math.pow(10, mantissa);
  return {
    get(value) {
      const numTokens = value.match(SPACE).length;
      if (cache.has(numTokens)) {
        return cache.get(numTokens);
      }
      const norm2 = 1 / Math.pow(numTokens, 0.5 * weight);
      const n = parseFloat(Math.round(norm2 * m) / m);
      cache.set(numTokens, n);
      return n;
    },
    clear() {
      cache.clear();
    }
  };
}
var FuseIndex = class {
  constructor({
    getFn = Config.getFn,
    fieldNormWeight = Config.fieldNormWeight
  } = {}) {
    this.norm = norm(fieldNormWeight, 3);
    this.getFn = getFn;
    this.isCreated = false;
    this.setIndexRecords();
  }
  setSources(docs = []) {
    this.docs = docs;
  }
  setIndexRecords(records = []) {
    this.records = records;
  }
  setKeys(keys = []) {
    this.keys = keys;
    this._keysMap = {};
    keys.forEach((key, idx) => {
      this._keysMap[key.id] = idx;
    });
  }
  create() {
    if (this.isCreated || !this.docs.length) {
      return;
    }
    this.isCreated = true;
    if (isString(this.docs[0])) {
      this.docs.forEach((doc, docIndex) => {
        this._addString(doc, docIndex);
      });
    } else {
      this.docs.forEach((doc, docIndex) => {
        this._addObject(doc, docIndex);
      });
    }
    this.norm.clear();
  }
  add(doc) {
    const idx = this.size();
    if (isString(doc)) {
      this._addString(doc, idx);
    } else {
      this._addObject(doc, idx);
    }
  }
  removeAt(idx) {
    this.records.splice(idx, 1);
    for (let i = idx, len = this.size(); i < len; i += 1) {
      this.records[i].i -= 1;
    }
  }
  getValueForItemAtKeyId(item, keyId) {
    return item[this._keysMap[keyId]];
  }
  size() {
    return this.records.length;
  }
  _addString(doc, docIndex) {
    if (!isDefined(doc) || isBlank(doc)) {
      return;
    }
    let record = {
      v: doc,
      i: docIndex,
      n: this.norm.get(doc)
    };
    this.records.push(record);
  }
  _addObject(doc, docIndex) {
    let record = { i: docIndex, $: {} };
    this.keys.forEach((key, keyIndex) => {
      let value = key.getFn ? key.getFn(doc) : this.getFn(doc, key.path);
      if (!isDefined(value)) {
        return;
      }
      if (isArray(value)) {
        let subRecords = [];
        const stack = [{ nestedArrIndex: -1, value }];
        while (stack.length) {
          const { nestedArrIndex, value: value2 } = stack.pop();
          if (!isDefined(value2)) {
            continue;
          }
          if (isString(value2) && !isBlank(value2)) {
            let subRecord = {
              v: value2,
              i: nestedArrIndex,
              n: this.norm.get(value2)
            };
            subRecords.push(subRecord);
          } else if (isArray(value2)) {
            value2.forEach((item, k) => {
              stack.push({
                nestedArrIndex: k,
                value: item
              });
            });
          } else
            ;
        }
        record.$[keyIndex] = subRecords;
      } else if (isString(value) && !isBlank(value)) {
        let subRecord = {
          v: value,
          n: this.norm.get(value)
        };
        record.$[keyIndex] = subRecord;
      }
    });
    this.records.push(record);
  }
  toJSON() {
    return {
      keys: this.keys,
      records: this.records
    };
  }
};
function createIndex(keys, docs, { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}) {
  const myIndex = new FuseIndex({ getFn, fieldNormWeight });
  myIndex.setKeys(keys.map(createKey));
  myIndex.setSources(docs);
  myIndex.create();
  return myIndex;
}
function parseIndex(data, { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}) {
  const { keys, records } = data;
  const myIndex = new FuseIndex({ getFn, fieldNormWeight });
  myIndex.setKeys(keys);
  myIndex.setIndexRecords(records);
  return myIndex;
}
function computeScore$1(pattern, {
  errors = 0,
  currentLocation = 0,
  expectedLocation = 0,
  distance = Config.distance,
  ignoreLocation = Config.ignoreLocation
} = {}) {
  const accuracy = errors / pattern.length;
  if (ignoreLocation) {
    return accuracy;
  }
  const proximity = Math.abs(expectedLocation - currentLocation);
  if (!distance) {
    return proximity ? 1 : accuracy;
  }
  return accuracy + proximity / distance;
}
function convertMaskToIndices(matchmask = [], minMatchCharLength = Config.minMatchCharLength) {
  let indices = [];
  let start = -1;
  let end = -1;
  let i = 0;
  for (let len = matchmask.length; i < len; i += 1) {
    let match = matchmask[i];
    if (match && start === -1) {
      start = i;
    } else if (!match && start !== -1) {
      end = i - 1;
      if (end - start + 1 >= minMatchCharLength) {
        indices.push([start, end]);
      }
      start = -1;
    }
  }
  if (matchmask[i - 1] && i - start >= minMatchCharLength) {
    indices.push([start, i - 1]);
  }
  return indices;
}
var MAX_BITS = 32;
function search(text, pattern, patternAlphabet, {
  location = Config.location,
  distance = Config.distance,
  threshold = Config.threshold,
  findAllMatches = Config.findAllMatches,
  minMatchCharLength = Config.minMatchCharLength,
  includeMatches = Config.includeMatches,
  ignoreLocation = Config.ignoreLocation
} = {}) {
  if (pattern.length > MAX_BITS) {
    throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS));
  }
  const patternLen = pattern.length;
  const textLen = text.length;
  const expectedLocation = Math.max(0, Math.min(location, textLen));
  let currentThreshold = threshold;
  let bestLocation = expectedLocation;
  const computeMatches = minMatchCharLength > 1 || includeMatches;
  const matchMask = computeMatches ? Array(textLen) : [];
  let index;
  while ((index = text.indexOf(pattern, bestLocation)) > -1) {
    let score = computeScore$1(pattern, {
      currentLocation: index,
      expectedLocation,
      distance,
      ignoreLocation
    });
    currentThreshold = Math.min(score, currentThreshold);
    bestLocation = index + patternLen;
    if (computeMatches) {
      let i = 0;
      while (i < patternLen) {
        matchMask[index + i] = 1;
        i += 1;
      }
    }
  }
  bestLocation = -1;
  let lastBitArr = [];
  let finalScore = 1;
  let binMax = patternLen + textLen;
  const mask = 1 << patternLen - 1;
  for (let i = 0; i < patternLen; i += 1) {
    let binMin = 0;
    let binMid = binMax;
    while (binMin < binMid) {
      const score2 = computeScore$1(pattern, {
        errors: i,
        currentLocation: expectedLocation + binMid,
        expectedLocation,
        distance,
        ignoreLocation
      });
      if (score2 <= currentThreshold) {
        binMin = binMid;
      } else {
        binMax = binMid;
      }
      binMid = Math.floor((binMax - binMin) / 2 + binMin);
    }
    binMax = binMid;
    let start = Math.max(1, expectedLocation - binMid + 1);
    let finish = findAllMatches ? textLen : Math.min(expectedLocation + binMid, textLen) + patternLen;
    let bitArr = Array(finish + 2);
    bitArr[finish + 1] = (1 << i) - 1;
    for (let j = finish; j >= start; j -= 1) {
      let currentLocation = j - 1;
      let charMatch = patternAlphabet[text.charAt(currentLocation)];
      if (computeMatches) {
        matchMask[currentLocation] = +!!charMatch;
      }
      bitArr[j] = (bitArr[j + 1] << 1 | 1) & charMatch;
      if (i) {
        bitArr[j] |= (lastBitArr[j + 1] | lastBitArr[j]) << 1 | 1 | lastBitArr[j + 1];
      }
      if (bitArr[j] & mask) {
        finalScore = computeScore$1(pattern, {
          errors: i,
          currentLocation,
          expectedLocation,
          distance,
          ignoreLocation
        });
        if (finalScore <= currentThreshold) {
          currentThreshold = finalScore;
          bestLocation = currentLocation;
          if (bestLocation <= expectedLocation) {
            break;
          }
          start = Math.max(1, 2 * expectedLocation - bestLocation);
        }
      }
    }
    const score = computeScore$1(pattern, {
      errors: i + 1,
      currentLocation: expectedLocation,
      expectedLocation,
      distance,
      ignoreLocation
    });
    if (score > currentThreshold) {
      break;
    }
    lastBitArr = bitArr;
  }
  const result = {
    isMatch: bestLocation >= 0,
    score: Math.max(1e-3, finalScore)
  };
  if (computeMatches) {
    const indices = convertMaskToIndices(matchMask, minMatchCharLength);
    if (!indices.length) {
      result.isMatch = false;
    } else if (includeMatches) {
      result.indices = indices;
    }
  }
  return result;
}
function createPatternAlphabet(pattern) {
  let mask = {};
  for (let i = 0, len = pattern.length; i < len; i += 1) {
    const char = pattern.charAt(i);
    mask[char] = (mask[char] || 0) | 1 << len - i - 1;
  }
  return mask;
}
var BitapSearch = class {
  constructor(pattern, {
    location = Config.location,
    threshold = Config.threshold,
    distance = Config.distance,
    includeMatches = Config.includeMatches,
    findAllMatches = Config.findAllMatches,
    minMatchCharLength = Config.minMatchCharLength,
    isCaseSensitive = Config.isCaseSensitive,
    ignoreLocation = Config.ignoreLocation
  } = {}) {
    this.options = {
      location,
      threshold,
      distance,
      includeMatches,
      findAllMatches,
      minMatchCharLength,
      isCaseSensitive,
      ignoreLocation
    };
    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();
    this.chunks = [];
    if (!this.pattern.length) {
      return;
    }
    const addChunk = (pattern2, startIndex) => {
      this.chunks.push({
        pattern: pattern2,
        alphabet: createPatternAlphabet(pattern2),
        startIndex
      });
    };
    const len = this.pattern.length;
    if (len > MAX_BITS) {
      let i = 0;
      const remainder = len % MAX_BITS;
      const end = len - remainder;
      while (i < end) {
        addChunk(this.pattern.substr(i, MAX_BITS), i);
        i += MAX_BITS;
      }
      if (remainder) {
        const startIndex = len - MAX_BITS;
        addChunk(this.pattern.substr(startIndex), startIndex);
      }
    } else {
      addChunk(this.pattern, 0);
    }
  }
  searchIn(text) {
    const { isCaseSensitive, includeMatches } = this.options;
    if (!isCaseSensitive) {
      text = text.toLowerCase();
    }
    if (this.pattern === text) {
      let result2 = {
        isMatch: true,
        score: 0
      };
      if (includeMatches) {
        result2.indices = [[0, text.length - 1]];
      }
      return result2;
    }
    const {
      location,
      distance,
      threshold,
      findAllMatches,
      minMatchCharLength,
      ignoreLocation
    } = this.options;
    let allIndices = [];
    let totalScore = 0;
    let hasMatches = false;
    this.chunks.forEach(({ pattern, alphabet, startIndex }) => {
      const { isMatch, score, indices } = search(text, pattern, alphabet, {
        location: location + startIndex,
        distance,
        threshold,
        findAllMatches,
        minMatchCharLength,
        includeMatches,
        ignoreLocation
      });
      if (isMatch) {
        hasMatches = true;
      }
      totalScore += score;
      if (isMatch && indices) {
        allIndices = [...allIndices, ...indices];
      }
    });
    let result = {
      isMatch: hasMatches,
      score: hasMatches ? totalScore / this.chunks.length : 1
    };
    if (hasMatches && includeMatches) {
      result.indices = allIndices;
    }
    return result;
  }
};
var BaseMatch = class {
  constructor(pattern) {
    this.pattern = pattern;
  }
  static isMultiMatch(pattern) {
    return getMatch(pattern, this.multiRegex);
  }
  static isSingleMatch(pattern) {
    return getMatch(pattern, this.singleRegex);
  }
  search() {
  }
};
function getMatch(pattern, exp) {
  const matches = pattern.match(exp);
  return matches ? matches[1] : null;
}
var ExactMatch = class extends BaseMatch {
  constructor(pattern) {
    super(pattern);
  }
  static get type() {
    return "exact";
  }
  static get multiRegex() {
    return /^="(.*)"$/;
  }
  static get singleRegex() {
    return /^=(.*)$/;
  }
  search(text) {
    const isMatch = text === this.pattern;
    return {
      isMatch,
      score: isMatch ? 0 : 1,
      indices: [0, this.pattern.length - 1]
    };
  }
};
var InverseExactMatch = class extends BaseMatch {
  constructor(pattern) {
    super(pattern);
  }
  static get type() {
    return "inverse-exact";
  }
  static get multiRegex() {
    return /^!"(.*)"$/;
  }
  static get singleRegex() {
    return /^!(.*)$/;
  }
  search(text) {
    const index = text.indexOf(this.pattern);
    const isMatch = index === -1;
    return {
      isMatch,
      score: isMatch ? 0 : 1,
      indices: [0, text.length - 1]
    };
  }
};
var PrefixExactMatch = class extends BaseMatch {
  constructor(pattern) {
    super(pattern);
  }
  static get type() {
    return "prefix-exact";
  }
  static get multiRegex() {
    return /^\^"(.*)"$/;
  }
  static get singleRegex() {
    return /^\^(.*)$/;
  }
  search(text) {
    const isMatch = text.startsWith(this.pattern);
    return {
      isMatch,
      score: isMatch ? 0 : 1,
      indices: [0, this.pattern.length - 1]
    };
  }
};
var InversePrefixExactMatch = class extends BaseMatch {
  constructor(pattern) {
    super(pattern);
  }
  static get type() {
    return "inverse-prefix-exact";
  }
  static get multiRegex() {
    return /^!\^"(.*)"$/;
  }
  static get singleRegex() {
    return /^!\^(.*)$/;
  }
  search(text) {
    const isMatch = !text.startsWith(this.pattern);
    return {
      isMatch,
      score: isMatch ? 0 : 1,
      indices: [0, text.length - 1]
    };
  }
};
var SuffixExactMatch = class extends BaseMatch {
  constructor(pattern) {
    super(pattern);
  }
  static get type() {
    return "suffix-exact";
  }
  static get multiRegex() {
    return /^"(.*)"\$$/;
  }
  static get singleRegex() {
    return /^(.*)\$$/;
  }
  search(text) {
    const isMatch = text.endsWith(this.pattern);
    return {
      isMatch,
      score: isMatch ? 0 : 1,
      indices: [text.length - this.pattern.length, text.length - 1]
    };
  }
};
var InverseSuffixExactMatch = class extends BaseMatch {
  constructor(pattern) {
    super(pattern);
  }
  static get type() {
    return "inverse-suffix-exact";
  }
  static get multiRegex() {
    return /^!"(.*)"\$$/;
  }
  static get singleRegex() {
    return /^!(.*)\$$/;
  }
  search(text) {
    const isMatch = !text.endsWith(this.pattern);
    return {
      isMatch,
      score: isMatch ? 0 : 1,
      indices: [0, text.length - 1]
    };
  }
};
var FuzzyMatch = class extends BaseMatch {
  constructor(pattern, {
    location = Config.location,
    threshold = Config.threshold,
    distance = Config.distance,
    includeMatches = Config.includeMatches,
    findAllMatches = Config.findAllMatches,
    minMatchCharLength = Config.minMatchCharLength,
    isCaseSensitive = Config.isCaseSensitive,
    ignoreLocation = Config.ignoreLocation
  } = {}) {
    super(pattern);
    this._bitapSearch = new BitapSearch(pattern, {
      location,
      threshold,
      distance,
      includeMatches,
      findAllMatches,
      minMatchCharLength,
      isCaseSensitive,
      ignoreLocation
    });
  }
  static get type() {
    return "fuzzy";
  }
  static get multiRegex() {
    return /^"(.*)"$/;
  }
  static get singleRegex() {
    return /^(.*)$/;
  }
  search(text) {
    return this._bitapSearch.searchIn(text);
  }
};
var IncludeMatch = class extends BaseMatch {
  constructor(pattern) {
    super(pattern);
  }
  static get type() {
    return "include";
  }
  static get multiRegex() {
    return /^'"(.*)"$/;
  }
  static get singleRegex() {
    return /^'(.*)$/;
  }
  search(text) {
    let location = 0;
    let index;
    const indices = [];
    const patternLen = this.pattern.length;
    while ((index = text.indexOf(this.pattern, location)) > -1) {
      location = index + patternLen;
      indices.push([index, location - 1]);
    }
    const isMatch = !!indices.length;
    return {
      isMatch,
      score: isMatch ? 0 : 1,
      indices
    };
  }
};
var searchers = [
  ExactMatch,
  IncludeMatch,
  PrefixExactMatch,
  InversePrefixExactMatch,
  InverseSuffixExactMatch,
  SuffixExactMatch,
  InverseExactMatch,
  FuzzyMatch
];
var searchersLen = searchers.length;
var SPACE_RE = / +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;
var OR_TOKEN = "|";
function parseQuery(pattern, options = {}) {
  return pattern.split(OR_TOKEN).map((item) => {
    let query = item.trim().split(SPACE_RE).filter((item2) => item2 && !!item2.trim());
    let results = [];
    for (let i = 0, len = query.length; i < len; i += 1) {
      const queryItem = query[i];
      let found = false;
      let idx = -1;
      while (!found && ++idx < searchersLen) {
        const searcher = searchers[idx];
        let token = searcher.isMultiMatch(queryItem);
        if (token) {
          results.push(new searcher(token, options));
          found = true;
        }
      }
      if (found) {
        continue;
      }
      idx = -1;
      while (++idx < searchersLen) {
        const searcher = searchers[idx];
        let token = searcher.isSingleMatch(queryItem);
        if (token) {
          results.push(new searcher(token, options));
          break;
        }
      }
    }
    return results;
  });
}
var MultiMatchSet = /* @__PURE__ */ new Set([FuzzyMatch.type, IncludeMatch.type]);
var ExtendedSearch = class {
  constructor(pattern, {
    isCaseSensitive = Config.isCaseSensitive,
    includeMatches = Config.includeMatches,
    minMatchCharLength = Config.minMatchCharLength,
    ignoreLocation = Config.ignoreLocation,
    findAllMatches = Config.findAllMatches,
    location = Config.location,
    threshold = Config.threshold,
    distance = Config.distance
  } = {}) {
    this.query = null;
    this.options = {
      isCaseSensitive,
      includeMatches,
      minMatchCharLength,
      findAllMatches,
      ignoreLocation,
      location,
      threshold,
      distance
    };
    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();
    this.query = parseQuery(this.pattern, this.options);
  }
  static condition(_, options) {
    return options.useExtendedSearch;
  }
  searchIn(text) {
    const query = this.query;
    if (!query) {
      return {
        isMatch: false,
        score: 1
      };
    }
    const { includeMatches, isCaseSensitive } = this.options;
    text = isCaseSensitive ? text : text.toLowerCase();
    let numMatches = 0;
    let allIndices = [];
    let totalScore = 0;
    for (let i = 0, qLen = query.length; i < qLen; i += 1) {
      const searchers2 = query[i];
      allIndices.length = 0;
      numMatches = 0;
      for (let j = 0, pLen = searchers2.length; j < pLen; j += 1) {
        const searcher = searchers2[j];
        const { isMatch, indices, score } = searcher.search(text);
        if (isMatch) {
          numMatches += 1;
          totalScore += score;
          if (includeMatches) {
            const type = searcher.constructor.type;
            if (MultiMatchSet.has(type)) {
              allIndices = [...allIndices, ...indices];
            } else {
              allIndices.push(indices);
            }
          }
        } else {
          totalScore = 0;
          numMatches = 0;
          allIndices.length = 0;
          break;
        }
      }
      if (numMatches) {
        let result = {
          isMatch: true,
          score: totalScore / numMatches
        };
        if (includeMatches) {
          result.indices = allIndices;
        }
        return result;
      }
    }
    return {
      isMatch: false,
      score: 1
    };
  }
};
var registeredSearchers = [];
function register(...args) {
  registeredSearchers.push(...args);
}
function createSearcher(pattern, options) {
  for (let i = 0, len = registeredSearchers.length; i < len; i += 1) {
    let searcherClass = registeredSearchers[i];
    if (searcherClass.condition(pattern, options)) {
      return new searcherClass(pattern, options);
    }
  }
  return new BitapSearch(pattern, options);
}
var LogicalOperator = {
  AND: "$and",
  OR: "$or"
};
var KeyType = {
  PATH: "$path",
  PATTERN: "$val"
};
var isExpression = (query) => !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);
var isPath = (query) => !!query[KeyType.PATH];
var isLeaf = (query) => !isArray(query) && isObject(query) && !isExpression(query);
var convertToExplicit = (query) => ({
  [LogicalOperator.AND]: Object.keys(query).map((key) => ({
    [key]: query[key]
  }))
});
function parse(query, options, { auto = true } = {}) {
  const next = (query2) => {
    let keys = Object.keys(query2);
    const isQueryPath = isPath(query2);
    if (!isQueryPath && keys.length > 1 && !isExpression(query2)) {
      return next(convertToExplicit(query2));
    }
    if (isLeaf(query2)) {
      const key = isQueryPath ? query2[KeyType.PATH] : keys[0];
      const pattern = isQueryPath ? query2[KeyType.PATTERN] : query2[key];
      if (!isString(pattern)) {
        throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key));
      }
      const obj = {
        keyId: createKeyId(key),
        pattern
      };
      if (auto) {
        obj.searcher = createSearcher(pattern, options);
      }
      return obj;
    }
    let node = {
      children: [],
      operator: keys[0]
    };
    keys.forEach((key) => {
      const value = query2[key];
      if (isArray(value)) {
        value.forEach((item) => {
          node.children.push(next(item));
        });
      }
    });
    return node;
  };
  if (!isExpression(query)) {
    query = convertToExplicit(query);
  }
  return next(query);
}
function computeScore(results, { ignoreFieldNorm = Config.ignoreFieldNorm }) {
  results.forEach((result) => {
    let totalScore = 1;
    result.matches.forEach(({ key, norm: norm2, score }) => {
      const weight = key ? key.weight : null;
      totalScore *= Math.pow(score === 0 && weight ? Number.EPSILON : score, (weight || 1) * (ignoreFieldNorm ? 1 : norm2));
    });
    result.score = totalScore;
  });
}
function transformMatches(result, data) {
  const matches = result.matches;
  data.matches = [];
  if (!isDefined(matches)) {
    return;
  }
  matches.forEach((match) => {
    if (!isDefined(match.indices) || !match.indices.length) {
      return;
    }
    const { indices, value } = match;
    let obj = {
      indices,
      value
    };
    if (match.key) {
      obj.key = match.key.src;
    }
    if (match.idx > -1) {
      obj.refIndex = match.idx;
    }
    data.matches.push(obj);
  });
}
function transformScore(result, data) {
  data.score = result.score;
}
function format(results, docs, {
  includeMatches = Config.includeMatches,
  includeScore = Config.includeScore
} = {}) {
  const transformers = [];
  if (includeMatches)
    transformers.push(transformMatches);
  if (includeScore)
    transformers.push(transformScore);
  return results.map((result) => {
    const { idx } = result;
    const data = {
      item: docs[idx],
      refIndex: idx
    };
    if (transformers.length) {
      transformers.forEach((transformer) => {
        transformer(result, data);
      });
    }
    return data;
  });
}
var Fuse = class {
  constructor(docs, options = {}, index) {
    this.options = { ...Config, ...options };
    if (this.options.useExtendedSearch && false) {
      throw new Error(EXTENDED_SEARCH_UNAVAILABLE);
    }
    this._keyStore = new KeyStore(this.options.keys);
    this.setCollection(docs, index);
  }
  setCollection(docs, index) {
    this._docs = docs;
    if (index && !(index instanceof FuseIndex)) {
      throw new Error(INCORRECT_INDEX_TYPE);
    }
    this._myIndex = index || createIndex(this.options.keys, this._docs, {
      getFn: this.options.getFn,
      fieldNormWeight: this.options.fieldNormWeight
    });
  }
  add(doc) {
    if (!isDefined(doc)) {
      return;
    }
    this._docs.push(doc);
    this._myIndex.add(doc);
  }
  remove(predicate = () => false) {
    const results = [];
    for (let i = 0, len = this._docs.length; i < len; i += 1) {
      const doc = this._docs[i];
      if (predicate(doc, i)) {
        this.removeAt(i);
        i -= 1;
        len -= 1;
        results.push(doc);
      }
    }
    return results;
  }
  removeAt(idx) {
    this._docs.splice(idx, 1);
    this._myIndex.removeAt(idx);
  }
  getIndex() {
    return this._myIndex;
  }
  search(query, { limit = -1 } = {}) {
    const {
      includeMatches,
      includeScore,
      shouldSort,
      sortFn,
      ignoreFieldNorm
    } = this.options;
    let results = isString(query) ? isString(this._docs[0]) ? this._searchStringList(query) : this._searchObjectList(query) : this._searchLogical(query);
    computeScore(results, { ignoreFieldNorm });
    if (shouldSort) {
      results.sort(sortFn);
    }
    if (isNumber(limit) && limit > -1) {
      results = results.slice(0, limit);
    }
    return format(results, this._docs, {
      includeMatches,
      includeScore
    });
  }
  _searchStringList(query) {
    const searcher = createSearcher(query, this.options);
    const { records } = this._myIndex;
    const results = [];
    records.forEach(({ v: text, i: idx, n: norm2 }) => {
      if (!isDefined(text)) {
        return;
      }
      const { isMatch, score, indices } = searcher.searchIn(text);
      if (isMatch) {
        results.push({
          item: text,
          idx,
          matches: [{ score, value: text, norm: norm2, indices }]
        });
      }
    });
    return results;
  }
  _searchLogical(query) {
    const expression = parse(query, this.options);
    const evaluate = (node, item, idx) => {
      if (!node.children) {
        const { keyId, searcher } = node;
        const matches = this._findMatches({
          key: this._keyStore.get(keyId),
          value: this._myIndex.getValueForItemAtKeyId(item, keyId),
          searcher
        });
        if (matches && matches.length) {
          return [
            {
              idx,
              item,
              matches
            }
          ];
        }
        return [];
      }
      const res = [];
      for (let i = 0, len = node.children.length; i < len; i += 1) {
        const child = node.children[i];
        const result = evaluate(child, item, idx);
        if (result.length) {
          res.push(...result);
        } else if (node.operator === LogicalOperator.AND) {
          return [];
        }
      }
      return res;
    };
    const records = this._myIndex.records;
    const resultMap = {};
    const results = [];
    records.forEach(({ $: item, i: idx }) => {
      if (isDefined(item)) {
        let expResults = evaluate(expression, item, idx);
        if (expResults.length) {
          if (!resultMap[idx]) {
            resultMap[idx] = { idx, item, matches: [] };
            results.push(resultMap[idx]);
          }
          expResults.forEach(({ matches }) => {
            resultMap[idx].matches.push(...matches);
          });
        }
      }
    });
    return results;
  }
  _searchObjectList(query) {
    const searcher = createSearcher(query, this.options);
    const { keys, records } = this._myIndex;
    const results = [];
    records.forEach(({ $: item, i: idx }) => {
      if (!isDefined(item)) {
        return;
      }
      let matches = [];
      keys.forEach((key, keyIndex) => {
        matches.push(...this._findMatches({
          key,
          value: item[keyIndex],
          searcher
        }));
      });
      if (matches.length) {
        results.push({
          idx,
          item,
          matches
        });
      }
    });
    return results;
  }
  _findMatches({ key, value, searcher }) {
    if (!isDefined(value)) {
      return [];
    }
    let matches = [];
    if (isArray(value)) {
      value.forEach(({ v: text, i: idx, n: norm2 }) => {
        if (!isDefined(text)) {
          return;
        }
        const { isMatch, score, indices } = searcher.searchIn(text);
        if (isMatch) {
          matches.push({
            score,
            key,
            value: text,
            idx,
            norm: norm2,
            indices
          });
        }
      });
    } else {
      const { v: text, n: norm2 } = value;
      const { isMatch, score, indices } = searcher.searchIn(text);
      if (isMatch) {
        matches.push({ score, key, value: text, norm: norm2, indices });
      }
    }
    return matches;
  }
};
Fuse.version = "6.6.2";
Fuse.createIndex = createIndex;
Fuse.parseIndex = parseIndex;
Fuse.config = Config;
{
  Fuse.parseQuery = parse;
}
{
  register(ExtendedSearch);
}

// tabSwitcherIndex.ts
var pinyin = require_dist();
var TabSwitcher = class extends import_obsidian.Plugin {
  async onload() {
    this.addCommand({
      id: "open-switcher-for-tabs",
      name: "Open Switcher For Tabs",
      callback: () => {
        this.searchModal = new TabSwitcherModal(this.app, this);
        this.searchModal.open();
      }
    });
  }
  onunload() {
    this.searchModal.close();
  }
};
var TabSwitcherModal = class extends import_obsidian.Modal {
  constructor(app2, plugin) {
    super(app2);
    this.availableLeaves = [];
    this.currentLeaves = [];
    this.keyString = "";
    this.plugin = plugin;
  }
  getCurrentLeavesInParent() {
    const existingLeaves = /* @__PURE__ */ new Set();
    const cb = (leaf2) => {
      existingLeaves.add(leaf2);
    };
    const leaf = app.workspace.activeLeaf;
    if (!leaf)
      return;
    app.workspace.iterateLeaves(cb, leaf.parentSplit);
    return [...existingLeaves.values()];
  }
  getAvailableLeaves() {
    const { contentEl } = this;
    const leafArray = this.getCurrentLeavesInParent();
    if (!leafArray) {
      contentEl.createDiv({ text: "No tabs opened", cls: "search-leaf-item-not-found" });
      contentEl == null ? void 0 : contentEl.classList.add("tab-switcher-modal-content");
      return;
    }
    this.availableLeaves = leafArray.filter((leaf) => {
      const viewType = leaf.view.getViewType();
      if (!/(backlink|file-explorer|outgoing-link|outline|search|starred|tag)/g.test(viewType))
        return true;
    });
  }
  buildLeavesArray() {
    const { contentEl } = this;
    if (this.availableLeaves.length === 0) {
      contentEl.createDiv({ text: "No tabs opened", cls: "search-leaf-item-not-found" });
      contentEl == null ? void 0 : contentEl.classList.add("tab-switcher-modal-content");
      return;
    }
    const currentLeaves = this.availableLeaves.sort((a, b) => {
      return b.activeTime - a.activeTime;
    });
    contentEl.empty();
    contentEl.createEl("div", {
      text: "Input the tab name or hotkey to switch.",
      cls: "search-leaf-item-tips"
    });
    currentLeaves.forEach((leaf, index) => {
      const leafEl = contentEl.createDiv({ cls: "search-leaf-item" });
      this.buildLeafItem(leafEl, leaf, index < 9 ? index + 1 : index === 9 ? 0 : -1);
    });
  }
  updateCurrentLeaves(key) {
    const { contentEl } = this;
    console.log(key);
    const options = {
      isCaseSensitive: false,
      includeMatches: true,
      shouldSort: true,
      threshold: 0,
      ignoreLocation: true,
      keys: [
        { name: "titleName", getFn: (leaf) => {
          return pinyin.convertToPinyin(leaf.tabHeaderEl.innerText.toString(), "", true);
        } }
      ],
      sortFn: (a, b) => {
        return b.item.activeTime - a.item.activeTime;
      }
    };
    const fuse = new Fuse(this.availableLeaves, options);
    this.currentLeaves = fuse.search({ titleName: key });
    contentEl.empty();
    contentEl.createEl("div", {
      text: "Input the tab name or hotkey to switch.",
      cls: "search-leaf-item-tips"
    });
    this.currentLeaves.forEach((item, index) => {
      const leaf = item.item;
      const leafEl = contentEl.createDiv({ cls: "search-leaf-item" });
      this.buildLeafItem(leafEl, leaf, index < 9 ? index + 1 : index === 9 ? 0 : -1);
    });
  }
  buildLeafItem(leafEl, leaf, index) {
    const leatPathEl = leafEl.createDiv({ cls: "search-leaf-item-path" });
    const leafHotkeyEl = leafEl.createDiv({ cls: "search-leaf-item-hotkey", text: index > -1 ? import_obsidian.Platform.isMacOS ? "CMD + " : "CTRL + " + index.toString() : "" });
    if (leaf.view.getViewType() === "markdown") {
      const iconEl = leatPathEl.createDiv({ cls: "search-leaf-item-icon" });
      (0, import_obsidian.setIcon)(iconEl, leaf.view.getIcon());
    } else {
      const iconEl = leaf.tabHeaderInnerIconEl.cloneNode(true);
      leatPathEl.appendChild(iconEl);
    }
    leatPathEl.createDiv({ text: leaf.tabHeaderEl.innerText, cls: "search-leaf-item-text" });
    this.plugin.registerDomEvent(leafEl, "click", (evt) => {
      this.close();
      app.workspace.setActiveLeaf(leaf);
    });
  }
  registerKeyBoardEvent() {
    this.cb = (evt) => {
      var _a, _b, _c, _d, _e;
      evt.preventDefault();
      if (/^[0-9]{1}$/.test(evt.key) && (evt.ctrlKey || evt.metaKey)) {
        if (((_a = this.currentLeaves) == null ? void 0 : _a.length) > 0) {
          const leaf = (_b = this.currentLeaves[parseInt(evt.key) - 1]) == null ? void 0 : _b.item;
          this.close();
          app.workspace.setActiveLeaf(leaf);
        } else if (((_c = this.availableLeaves) == null ? void 0 : _c.length) > 0) {
          const leaf = this.availableLeaves[parseInt(evt.key) - 1];
          this.close();
          app.workspace.setActiveLeaf(leaf);
        }
        return;
      }
      if (evt.key === "Tab") {
        this.contentEl.toggleClass("show-all", !this.contentEl.hasClass("show-all"));
      }
      if (evt.key === "Enter") {
        if (((_d = this.currentLeaves) == null ? void 0 : _d.length) > 0) {
          const leaf = (_e = this.currentLeaves[0]) == null ? void 0 : _e.item;
          this.close();
          app.workspace.setActiveLeaf(leaf);
        }
        return;
      }
      if (/^[a-zA-Z0-9-_ ]{1}$/.test(evt.key)) {
        this.keyString += evt.key;
        this.updateCurrentLeaves(this.keyString);
      }
      if ((evt.key === "Backspace" || evt.key === "Delete") && this.keyString.length > 0) {
        this.keyString = this.keyString.slice(0, -1);
        if (this.keyString === "") {
          this.currentLeaves.splice(0, this.currentLeaves.length);
          this.buildLeavesArray();
          return;
        }
        this.updateCurrentLeaves(this.keyString);
      }
    };
    activeWindow.addEventListener("keydown", this.cb, true);
  }
  onOpen() {
    var _a, _b;
    const { contentEl } = this;
    (_b = (_a = contentEl == null ? void 0 : contentEl.parentElement) == null ? void 0 : _a.parentElement) == null ? void 0 : _b.classList.add("tab-switcher-modal");
    this.registerKeyBoardEvent();
    this.getAvailableLeaves();
    this.buildLeavesArray();
  }
  onClose() {
    const { contentEl } = this;
    this.availableLeaves.splice(0, this.availableLeaves.length);
    this.currentLeaves.splice(0, this.currentLeaves.length);
    this.keyString = "";
    activeWindow.removeEventListener("keydown", this.cb, true);
    contentEl.empty();
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzLy5wbnBtL3RpbnktcGlueWluQDEuMy4yL25vZGVfbW9kdWxlcy90aW55LXBpbnlpbi9kaXN0L2RpY3QuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL3RpbnktcGlueWluQDEuMy4yL25vZGVfbW9kdWxlcy90aW55LXBpbnlpbi9kaXN0L2NvcmUuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL3RpbnktcGlueWluQDEuMy4yL25vZGVfbW9kdWxlcy90aW55LXBpbnlpbi9kaXN0L3BhdGNoZXJzLzU2bC5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vdGlueS1waW55aW5AMS4zLjIvbm9kZV9tb2R1bGVzL3RpbnktcGlueWluL2Rpc3QvaW5kZXguanMiLCAidGFiU3dpdGNoZXJJbmRleC50cyIsICJub2RlX21vZHVsZXMvLnBucG0vZnVzZS5qc0A2LjYuMi9ub2RlX21vZHVsZXMvZnVzZS5qcy9kaXN0L2Z1c2UuZXNtLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvKipcbiAqIFNvdXJjZTogPGh0dHBzOi8vYW5kcm9pZC5nb29nbGVzb3VyY2UuY29tL3BsYXRmb3JtL3BhY2thZ2VzL3Byb3ZpZGVycy9Db250YWN0c1Byb3ZpZGVyLysvMGM0OTcyMGZiM2Q1OGUzNDY3MzljMmNjZDU2ZWQyYjczOTI0OWUwNy9zcmMvY29tL2FuZHJvaWQvcHJvdmlkZXJzL2NvbnRhY3RzL0hhbnppVG9QaW55aW4uamF2YT5cbiAqIFVwZGF0ZWQgYnkgY3JlZXBlclxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBVTklIQU5TID0gWydcXHU5NjNGJywgJ1xcdTU0Q0UnLCAnXFx1NUI4OScsICdcXHU4MEFFJywgJ1xcdTUxRjknLCAnXFx1NTE2QicsICdcXHU2MzAwJywgJ1xcdTYyNzMnLCAnXFx1OTBBNicsICdcXHU1MkY5JywgJ1xcdTk2NDInLCAnXFx1NTk1NCcsICdcXHU0RjNCJywgJ1xcdTVDNDQnLCAnXFx1OEZCOScsICdcXHU3MDZDJywgJ1xcdTYxOEInLCAnXFx1NkM0MycsICdcXHU1MUFCJywgJ1xcdTc2NzYnLCAnXFx1NUNFQycsICdcXHU1NjkzJywgJ1xcdTUwNzInLCAnXFx1NTNDMicsICdcXHU0RUQzJywgJ1xcdTY0QTEnLCAnXFx1NTE4QScsICdcXHU1RDdFJywgJ1xcdTY2RkQnLCAnXFx1NTNDOScsICdcXHU4Mjg2JywgJ1xcdThGQkYnLCAnXFx1NEYyNScsICdcXHU2Mjg0JywgJ1xcdThGNjYnLCAnXFx1NjJCQicsICdcXHU5NjM3JywgJ1xcdTU0MDMnLCAnXFx1NTE0NScsICdcXHU2MkJEJywgJ1xcdTUxRkEnLCAnXFx1NkIzQicsICdcXHU2M0UzJywgJ1xcdTVEREInLCAnXFx1NTIwNScsICdcXHU1NDM5JywgJ1xcdTY1RkUnLCAnXFx1OTAzNCcsICdcXHU1NDcyJywgJ1xcdTUzMDYnLCAnXFx1NTFEMScsICdcXHU3Qzk3JywgJ1xcdTZDNDYnLCAnXFx1NUQxNCcsICdcXHU5MEE4JywgJ1xcdTY0MTMnLCAnXFx1NTQ5MScsICdcXHU1NDQ2JywgJ1xcdTRFMzknLCAnXFx1NUY1MycsICdcXHU1MjAwJywgJ1xcdTU2MUEnLCAnXFx1NjI2NScsICdcXHU3MDZGJywgJ1xcdTZDMTAnLCAnXFx1NzUzOCcsICdcXHU1MjAxJywgJ1xcdTcyMzknLCAnXFx1NEUwMScsICdcXHU0RTFGJywgJ1xcdTRFMUMnLCAnXFx1NTQzQScsICdcXHU1M0JFJywgJ1xcdTgwMTEnLCAnXFx1NTc5NicsICdcXHU1NDI4JywgJ1xcdTU5MUEnLCAnXFx1NTlCOCcsICdcXHU4QkY2JywgJ1xcdTU5NDAnLCAnXFx1OTdBNScsICdcXHU1MTNGJywgJ1xcdTUzRDEnLCAnXFx1NUUwNicsICdcXHU1MzFBJywgJ1xcdTk4REUnLCAnXFx1NTIwNicsICdcXHU0RTMwJywgJ1xcdTg5ODUnLCAnXFx1NEVDRicsICdcXHU3RDExJywgJ1xcdTU5MkInLCAnXFx1NjVFRScsICdcXHU0Rjg1JywgJ1xcdTc1MTgnLCAnXFx1NTE4OCcsICdcXHU3NjhCJywgJ1xcdTYyMDgnLCAnXFx1N0VEOScsICdcXHU2ODM5JywgJ1xcdTUyMkYnLCAnXFx1NURFNScsICdcXHU1MkZFJywgJ1xcdTRGMzAnLCAnXFx1NzREQycsICdcXHU0RTU2JywgJ1xcdTUxNzMnLCAnXFx1NTE0OScsICdcXHU1RjUyJywgJ1xcdTRFMjgnLCAnXFx1NTQ1OScsICdcXHU1NEM4JywgJ1xcdTU0OEQnLCAnXFx1NEY0NCcsICdcXHU1OTJGJywgJ1xcdTgzMjAnLCAnXFx1OEJDMycsICdcXHU5RUQyJywgJ1xcdTYyRUInLCAnXFx1NEVBOCcsICdcXHU1Njc3JywgJ1xcdTUzRkYnLCAnXFx1OUY0MScsICdcXHU0RTRFJywgJ1xcdTgyQjEnLCAnXFx1NjAwMCcsICdcXHU2QjIyJywgJ1xcdTVEREYnLCAnXFx1NzA3MCcsICdcXHU2NjBGJywgJ1xcdTU0MTknLCAnXFx1NEUwQycsICdcXHU1MkEwJywgJ1xcdTYyMEInLCAnXFx1NkM1RicsICdcXHU4MjdEJywgJ1xcdTk2MzYnLCAnXFx1NURGRScsICdcXHU1NzU1JywgJ1xcdTUxODInLCAnXFx1NEUyOScsICdcXHU1MUU1JywgJ1xcdTU5RTInLCAnXFx1NTY1OCcsICdcXHU1MTlCJywgJ1xcdTU0OTQnLCAnXFx1NUYwMCcsICdcXHU1MjBBJywgJ1xcdTVGRkMnLCAnXFx1NUMzQicsICdcXHU1MzNDJywgJ1xcdTgwOEUnLCAnXFx1NTJBNScsICdcXHU3QTdBJywgJ1xcdTYyQTAnLCAnXFx1NjI1RCcsICdcXHU1OTM4JywgJ1xcdTg0QUYnLCAnXFx1NUJCRCcsICdcXHU1MzIxJywgJ1xcdTRFOEYnLCAnXFx1NTc2NCcsICdcXHU2MjY5JywgJ1xcdTU3ODMnLCAnXFx1Njc2NScsICdcXHU1MTcwJywgJ1xcdTU1NzcnLCAnXFx1NjM1RScsICdcXHU4MDhCJywgJ1xcdTUyRDInLCAnXFx1NUQxQScsICdcXHU1NEU5JywgJ1xcdTRGRTknLCAnXFx1NTk0MScsICdcXHU4MjZGJywgJ1xcdTY0QTknLCAnXFx1NkJERicsICdcXHU2MkNFJywgJ1xcdTRGMzYnLCAnXFx1NkU5QycsICdcXHU1NkQ2JywgJ1xcdTlGOTknLCAnXFx1Nzc5QycsICdcXHU1NjVDJywgJ1xcdTlBNzQnLCAnXFx1NUEwOCcsICdcXHU2M0EwJywgJ1xcdTYyQTEnLCAnXFx1N0Y1NycsICdcXHU1NDYzJywgJ1xcdTU5ODgnLCAnXFx1NTdDQicsICdcXHU1QURBJywgJ1xcdTcyNjQnLCAnXFx1NzMyQicsICdcXHU0RTQ4JywgJ1xcdTU0NDUnLCAnXFx1OTVFOCcsICdcXHU3NTNGJywgJ1xcdTU0QUEnLCAnXFx1NUI4MCcsICdcXHU1NUI1JywgJ1xcdTRFNUMnLCAnXFx1NkMxMScsICdcXHU1NDBEJywgJ1xcdThDMkMnLCAnXFx1NjQ3OCcsICdcXHU1NERFJywgJ1xcdTZCRUEnLCAnXFx1NTVFRicsICdcXHU2MkNGJywgJ1xcdTgxNDknLCAnXFx1NTZFMScsICdcXHU1NkQ0JywgJ1xcdTVCNkMnLCAnXFx1NzU5MicsICdcXHU1QTFFJywgJ1xcdTYwNDEnLCAnXFx1ODBGRCcsICdcXHU1OUFFJywgJ1xcdTYyQzgnLCAnXFx1NUExOCcsICdcXHU5RTFGJywgJ1xcdTYzNEYnLCAnXFx1NTZEQycsICdcXHU1QjgxJywgJ1xcdTU5OUUnLCAnXFx1NTE5QycsICdcXHU3RkJBJywgJ1xcdTU5NzQnLCAnXFx1NTk3MycsICdcXHU1OTdCJywgJ1xcdTc1OUYnLCAnXFx1OUVDMScsICdcXHU2MzJBJywgJ1xcdTU1OTQnLCAnXFx1OEJCNCcsICdcXHU1OTkxJywgJ1xcdTYyQ0QnLCAnXFx1NzcwNScsICdcXHU0RTUzJywgJ1xcdTYyOUInLCAnXFx1NTQ3OCcsICdcXHU1NUI3JywgJ1xcdTUzMDknLCAnXFx1NEUxNScsICdcXHU1NkU4JywgJ1xcdTUyN0QnLCAnXFx1NkMxNScsICdcXHU1OUQ4JywgJ1xcdTRFNTInLCAnXFx1OTQ4QicsICdcXHU1MjU2JywgJ1xcdTRFQzYnLCAnXFx1NEUwMycsICdcXHU2MzkwJywgJ1xcdTUzNDMnLCAnXFx1NTQ1QicsICdcXHU2MDg0JywgJ1xcdTc2N0YnLCAnXFx1NEVCMicsICdcXHU5NzUxJywgJ1xcdTUzNkQnLCAnXFx1NEUxOCcsICdcXHU1MzNBJywgJ1xcdTVDRDEnLCAnXFx1N0YzQScsICdcXHU1OTBCJywgJ1xcdTU0NjUnLCAnXFx1N0E2MycsICdcXHU1QTA2JywgJ1xcdTYwRjknLCAnXFx1NEVCQScsICdcXHU2MjU0JywgJ1xcdTY1RTUnLCAnXFx1ODMzOCcsICdcXHU1M0I5JywgJ1xcdTkwOUEnLCAnXFx1NjMzQycsICdcXHU1ODI3JywgJ1xcdTVBNTEnLCAnXFx1NzdBNCcsICdcXHU2MzdDJywgJ1xcdTRFRTgnLCAnXFx1NkJFMicsICdcXHU0RTA5JywgJ1xcdTY4NTInLCAnXFx1NjNCQicsICdcXHU5NUFBJywgJ1xcdTY4RUUnLCAnXFx1NTBFNycsICdcXHU2NzQwJywgJ1xcdTdCNUInLCAnXFx1NUM3MScsICdcXHU0RjI0JywgJ1xcdTVGMzAnLCAnXFx1NTk2MicsICdcXHU3NTMzJywgJ1xcdTUzNDcnLCAnXFx1NUMzOCcsICdcXHU1M0NFJywgJ1xcdTRFNjYnLCAnXFx1NTIzNycsICdcXHU4ODcwJywgJ1xcdTk1RTknLCAnXFx1NTNDQycsICdcXHU4MTNEJywgJ1xcdTU0MkUnLCAnXFx1OEJGNCcsICdcXHU1M0I2JywgJ1xcdTVGRUEnLCAnXFx1NjM1QycsICdcXHU4MkNGJywgJ1xcdTcyRkInLCAnXFx1NTkwQScsICdcXHU1QjU5JywgJ1xcdTU1MDYnLCAnXFx1NEVENicsICdcXHU1NkZDJywgJ1xcdTU3NEQnLCAnXFx1NkM2NCcsICdcXHU1OTMyJywgJ1xcdTVGRDEnLCAnXFx1NzFBNScsICdcXHU1MjU0JywgJ1xcdTU5MjknLCAnXFx1NjVFQicsICdcXHU1RTE2JywgJ1xcdTUzODUnLCAnXFx1NTZGMicsICdcXHU1MDc3JywgJ1xcdTUxRjgnLCAnXFx1NkU0RCcsICdcXHU2M0E4JywgJ1xcdTU0MUUnLCAnXFx1NEU0NycsICdcXHU3QTc1JywgJ1xcdTZCNkEnLCAnXFx1NUYyRicsICdcXHU1QzIzJywgJ1xcdTUzNzEnLCAnXFx1NjYzNycsICdcXHU3RkMxJywgJ1xcdTYzMUQnLCAnXFx1NEU0QycsICdcXHU1OTE1JywgJ1xcdTg2NzInLCAnXFx1NEVEOScsICdcXHU0RTYxJywgJ1xcdTcwNzEnLCAnXFx1NEU5QicsICdcXHU1RkMzJywgJ1xcdTY2MUYnLCAnXFx1NTFGNicsICdcXHU0RjExJywgJ1xcdTU0MDEnLCAnXFx1NTQwNScsICdcXHU1MjRBJywgJ1xcdTU3NDMnLCAnXFx1NEUyQicsICdcXHU2MDc5JywgJ1xcdTU5MkUnLCAnXFx1NUU3QScsICdcXHU1MDNCJywgJ1xcdTRFMDAnLCAnXFx1NTZEOScsICdcXHU1RTk0JywgJ1xcdTU0REYnLCAnXFx1NEY2MycsICdcXHU0RjE4JywgJ1xcdTYyNUMnLCAnXFx1NTZFNicsICdcXHU2NkYwJywgJ1xcdTY2NTUnLCAnXFx1NUUwMCcsICdcXHU3MDdEJywgJ1xcdTUxNDInLCAnXFx1NTMyOCcsICdcXHU1MEFFJywgJ1xcdTUyMTknLCAnXFx1OEQzQycsICdcXHU2MDBFJywgJ1xcdTU4OTcnLCAnXFx1NjI0RScsICdcXHU2MzVBJywgJ1xcdTZDQkUnLCAnXFx1NUYyMCcsICdcXHU0RjRCJywgJ1xcdTg3MDcnLCAnXFx1OEQxRScsICdcXHU0RTg5JywgJ1xcdTRFNEInLCAnXFx1NEUyRCcsICdcXHU1RERFJywgJ1xcdTY3MzEnLCAnXFx1NjI5MycsICdcXHU2MkZEJywgJ1xcdTRFMTMnLCAnXFx1NTk4NicsICdcXHU5NkI5JywgJ1xcdTVCOTInLCAnXFx1NTM1MycsICdcXHU0RTcyJywgJ1xcdTVCOTcnLCAnXFx1OTBCOScsICdcXHU3OURGJywgJ1xcdTk0QkInLCAnXFx1NTM5QycsICdcXHU1QzBBJywgJ1xcdTY2MjgnLCAnXFx1NTE1OSddO1xuXG4vLyBjb252ZXJ0IGFzY2lpIGFycmF5IHRvIFBpbnlpblxudmFyIFBJTllJTlMgPSBbJ0EnLCAnQUknLCAnQU4nLCAnQU5HJywgJ0FPJywgJ0JBJywgJ0JBSScsICdCQU4nLCAnQkFORycsICdCQU8nLCAnQkVJJywgJ0JFTicsICdCRU5HJywgJ0JJJywgJ0JJQU4nLCAnQklBTycsICdCSUUnLCAnQklOJywgJ0JJTkcnLCAnQk8nLCAnQlUnLCAnQ0EnLCAnQ0FJJywgJ0NBTicsICdDQU5HJywgJ0NBTycsICdDRScsICdDRU4nLCAnQ0VORycsICdDSEEnLCAnQ0hBSScsICdDSEFOJywgJ0NIQU5HJywgJ0NIQU8nLCAnQ0hFJywgJ0NIRU4nLCAnQ0hFTkcnLCAnQ0hJJywgJ0NIT05HJywgJ0NIT1UnLCAnQ0hVJywgJ0NIVUEnLCAnQ0hVQUknLCAnQ0hVQU4nLCAnQ0hVQU5HJywgJ0NIVUknLCAnQ0hVTicsICdDSFVPJywgJ0NJJywgJ0NPTkcnLCAnQ09VJywgJ0NVJywgJ0NVQU4nLCAnQ1VJJywgJ0NVTicsICdDVU8nLCAnREEnLCAnREFJJywgJ0RBTicsICdEQU5HJywgJ0RBTycsICdERScsICdERU4nLCAnREVORycsICdESScsICdESUFOJywgJ0RJQU8nLCAnRElFJywgJ0RJTkcnLCAnRElVJywgJ0RPTkcnLCAnRE9VJywgJ0RVJywgJ0RVQU4nLCAnRFVJJywgJ0RVTicsICdEVU8nLCAnRScsICdFSScsICdFTicsICdFTkcnLCAnRVInLCAnRkEnLCAnRkFOJywgJ0ZBTkcnLCAnRkVJJywgJ0ZFTicsICdGRU5HJywgJ0ZJQU8nLCAnRk8nLCAnRk9VJywgJ0ZVJywgJ0dBJywgJ0dBSScsICdHQU4nLCAnR0FORycsICdHQU8nLCAnR0UnLCAnR0VJJywgJ0dFTicsICdHRU5HJywgJ0dPTkcnLCAnR09VJywgJ0dVJywgJ0dVQScsICdHVUFJJywgJ0dVQU4nLCAnR1VBTkcnLCAnR1VJJywgJ0dVTicsICdHVU8nLCAnSEEnLCAnSEFJJywgJ0hBTicsICdIQU5HJywgJ0hBTycsICdIRScsICdIRUknLCAnSEVOJywgJ0hFTkcnLCAnSE0nLCAnSE9ORycsICdIT1UnLCAnSFUnLCAnSFVBJywgJ0hVQUknLCAnSFVBTicsICdIVUFORycsICdIVUknLCAnSFVOJywgJ0hVTycsICdKSScsICdKSUEnLCAnSklBTicsICdKSUFORycsICdKSUFPJywgJ0pJRScsICdKSU4nLCAnSklORycsICdKSU9ORycsICdKSVUnLCAnSlUnLCAnSlVBTicsICdKVUUnLCAnSlVOJywgJ0tBJywgJ0tBSScsICdLQU4nLCAnS0FORycsICdLQU8nLCAnS0UnLCAnS0VOJywgJ0tFTkcnLCAnS09ORycsICdLT1UnLCAnS1UnLCAnS1VBJywgJ0tVQUknLCAnS1VBTicsICdLVUFORycsICdLVUknLCAnS1VOJywgJ0tVTycsICdMQScsICdMQUknLCAnTEFOJywgJ0xBTkcnLCAnTEFPJywgJ0xFJywgJ0xFSScsICdMRU5HJywgJ0xJJywgJ0xJQScsICdMSUFOJywgJ0xJQU5HJywgJ0xJQU8nLCAnTElFJywgJ0xJTicsICdMSU5HJywgJ0xJVScsICdMTycsICdMT05HJywgJ0xPVScsICdMVScsICdMVicsICdMVUFOJywgJ0xWRScsICdMVU4nLCAnTFVPJywgJ00nLCAnTUEnLCAnTUFJJywgJ01BTicsICdNQU5HJywgJ01BTycsICdNRScsICdNRUknLCAnTUVOJywgJ01FTkcnLCAnTUknLCAnTUlBTicsICdNSUFPJywgJ01JRScsICdNSU4nLCAnTUlORycsICdNSVUnLCAnTU8nLCAnTU9VJywgJ01VJywgJ04nLCAnTkEnLCAnTkFJJywgJ05BTicsICdOQU5HJywgJ05BTycsICdORScsICdORUknLCAnTkVOJywgJ05FTkcnLCAnTkknLCAnTklBTicsICdOSUFORycsICdOSUFPJywgJ05JRScsICdOSU4nLCAnTklORycsICdOSVUnLCAnTk9ORycsICdOT1UnLCAnTlUnLCAnTlYnLCAnTlVBTicsICdOVkUnLCAnTlVOJywgJ05VTycsICdPJywgJ09VJywgJ1BBJywgJ1BBSScsICdQQU4nLCAnUEFORycsICdQQU8nLCAnUEVJJywgJ1BFTicsICdQRU5HJywgJ1BJJywgJ1BJQU4nLCAnUElBTycsICdQSUUnLCAnUElOJywgJ1BJTkcnLCAnUE8nLCAnUE9VJywgJ1BVJywgJ1FJJywgJ1FJQScsICdRSUFOJywgJ1FJQU5HJywgJ1FJQU8nLCAnUUlFJywgJ1FJTicsICdRSU5HJywgJ1FJT05HJywgJ1FJVScsICdRVScsICdRVUFOJywgJ1FVRScsICdRVU4nLCAnUkFOJywgJ1JBTkcnLCAnUkFPJywgJ1JFJywgJ1JFTicsICdSRU5HJywgJ1JJJywgJ1JPTkcnLCAnUk9VJywgJ1JVJywgJ1JVQScsICdSVUFOJywgJ1JVSScsICdSVU4nLCAnUlVPJywgJ1NBJywgJ1NBSScsICdTQU4nLCAnU0FORycsICdTQU8nLCAnU0UnLCAnU0VOJywgJ1NFTkcnLCAnU0hBJywgJ1NIQUknLCAnU0hBTicsICdTSEFORycsICdTSEFPJywgJ1NIRScsICdTSEVOJywgJ1NIRU5HJywgJ1NISScsICdTSE9VJywgJ1NIVScsICdTSFVBJywgJ1NIVUFJJywgJ1NIVUFOJywgJ1NIVUFORycsICdTSFVJJywgJ1NIVU4nLCAnU0hVTycsICdTSScsICdTT05HJywgJ1NPVScsICdTVScsICdTVUFOJywgJ1NVSScsICdTVU4nLCAnU1VPJywgJ1RBJywgJ1RBSScsICdUQU4nLCAnVEFORycsICdUQU8nLCAnVEUnLCAnVEVORycsICdUSScsICdUSUFOJywgJ1RJQU8nLCAnVElFJywgJ1RJTkcnLCAnVE9ORycsICdUT1UnLCAnVFUnLCAnVFVBTicsICdUVUknLCAnVFVOJywgJ1RVTycsICdXQScsICdXQUknLCAnV0FOJywgJ1dBTkcnLCAnV0VJJywgJ1dFTicsICdXRU5HJywgJ1dPJywgJ1dVJywgJ1hJJywgJ1hJQScsICdYSUFOJywgJ1hJQU5HJywgJ1hJQU8nLCAnWElFJywgJ1hJTicsICdYSU5HJywgJ1hJT05HJywgJ1hJVScsICdYVScsICdYVUFOJywgJ1hVRScsICdYVU4nLCAnWUEnLCAnWUFOJywgJ1lBTkcnLCAnWUFPJywgJ1lFJywgJ1lJJywgJ1lJTicsICdZSU5HJywgJ1lPJywgJ1lPTkcnLCAnWU9VJywgJ1lVJywgJ1lVQU4nLCAnWVVFJywgJ1lVTicsICdaQScsICdaQUknLCAnWkFOJywgJ1pBTkcnLCAnWkFPJywgJ1pFJywgJ1pFSScsICdaRU4nLCAnWkVORycsICdaSEEnLCAnWkhBSScsICdaSEFOJywgJ1pIQU5HJywgJ1pIQU8nLCAnWkhFJywgJ1pIRU4nLCAnWkhFTkcnLCAnWkhJJywgJ1pIT05HJywgJ1pIT1UnLCAnWkhVJywgJ1pIVUEnLCAnWkhVQUknLCAnWkhVQU4nLCAnWkhVQU5HJywgJ1pIVUknLCAnWkhVTicsICdaSFVPJywgJ1pJJywgJ1pPTkcnLCAnWk9VJywgJ1pVJywgJ1pVQU4nLCAnWlVJJywgJ1pVTicsICdaVU8nLCAnJ107XG5cbi8vIFNlcGFyYXRlIGZyb20gVU5JSEFOUyAmIFBJTllJTlMuXG4vLyBTbyBQSU5ZSU5TIGFyZSBjb21wbGV0ZWx5IG9mIGFscGhhYmV0aWNhbCBvcmRlciwgYW5kIG5vIGR1cGxpY2F0ZSBwaW55aW4uXG52YXIgRVhDRVBUSU9OUyA9IHtcbiAgJ1xcdTY2RkUnOiAnWkVORycsIC8vIENFTkcgXHU2NkZFXG4gICdcXHU2Qzg4JzogJ1NIRU4nLCAvLyBDSEVOIFx1NkM4OFxuICAnXFx1NTVGMic6ICdESUEnLCAvLyBESUUgXHU1NUYyXG4gICdcXHU3OEExJzogJ1pIT1UnLCAvLyBEVSBcdTc4QTFcbiAgJ1xcdTgwNTInOiAnR1VPJywgLy8gR1VBIFx1ODA1MlxuICAnXFx1NzA5NCc6ICdRVUUnLCAvLyBHVUkgXHU3MDk0XG4gICdcXHU4NkI1JzogJ0tFJywgLy8gSEUgXHU4NkI1XG4gICdcXHU3ODA5JzogJ0hVQScsIC8vIEhVTyBcdTc4MDlcbiAgJ1xcdTVCMjQnOiAnTU8nLCAvLyBNQSBcdTVCMjRcbiAgJ1xcdTVCMzcnOiAnTU8nLCAvLyBNQSBcdTVCMzdcbiAgJ1xcdThFNTInOiAnUEFOJywgLy8gTUFOIFx1OEU1MlxuICAnXFx1OEU0QSc6ICdYSScsIC8vIFFJIFx1OEU0QVxuICAnXFx1NEUyQyc6ICdQQU4nLCAvLyBRSUFORyBcdTRFMkNcbiAgJ1xcdTk3MzAnOiAnWElBTicsIC8vIFNBTiBcdTk3MzBcbiAgJ1xcdTgzOTgnOiAnWElOJywgLy8gU0hFTiBcdTgzOThcbiAgJ1xcdThDNDknOiAnQ0hJJywgLy8gU0hJIFx1OEM0OVxuICAnXFx1OTk2Nyc6ICdYSU5HJywgLy8gVEFORyBcdTk5NjdcbiAgJ1xcdTdCNjAnOiAnSlVOJywgLy8gWVVOIFx1N0I2MFxuICAnXFx1OTU3Ric6ICdDSEFORycsIC8vIFpIQU5HIFx1OTU3RlxuICAnXFx1NUUyNyc6ICdaSEVOJywgLy8gWkhFTkcgXHU1RTI3XG4gICdcXHU1Q0Q5JzogJ1NISScsIC8vIFpISSBcdTVDRDlcbiAgJ1xcdTkwQ0QnOiAnTkEnLFxuICAnXFx1ODI4RSc6ICdYSU9ORycsXG4gICdcXHU4QzAxJzogJ1NIVUknXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgUElOWUlOUzogUElOWUlOUyxcbiAgVU5JSEFOUzogVU5JSEFOUyxcbiAgRVhDRVBUSU9OUzogRVhDRVBUSU9OU1xufTsiLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBESUNUID0gcmVxdWlyZSgnLi9kaWN0Jyk7XG5cbnZhciBGSVJTVF9QSU5ZSU5fVU5JSEFOID0gJ1xcdTk2M0YnO1xudmFyIExBU1RfUElOWUlOX1VOSUhBTiA9ICdcXHU5RkZGJztcblxudmFyIExBVElOID0gMTtcbnZhciBQSU5ZSU4gPSAyO1xudmFyIFVOS05PV04gPSAzO1xuXG52YXIgc3VwcG9ydGVkID0gbnVsbDtcbnZhciBDT0xMQVRPUiA9IHZvaWQgMDtcblxuZnVuY3Rpb24gcGF0Y2hEaWN0KHBhdGNoZXJzKSB7XG4gIGlmICghcGF0Y2hlcnMpIHJldHVybjtcbiAgaWYgKHR5cGVvZiBwYXRjaGVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHBhdGNoZXJzID0gW3BhdGNoZXJzXTtcbiAgfVxuICBpZiAocGF0Y2hlcnMuZm9yRWFjaCkge1xuICAgIHBhdGNoZXJzLmZvckVhY2goZnVuY3Rpb24gKHApIHtcbiAgICAgIHR5cGVvZiBwID09PSAnZnVuY3Rpb24nICYmIHAoRElDVCk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNTdXBwb3J0ZWQoZm9yY2UpIHtcbiAgaWYgKCFmb3JjZSAmJiBzdXBwb3J0ZWQgIT09IG51bGwpIHtcbiAgICByZXR1cm4gc3VwcG9ydGVkO1xuICB9XG4gIGlmICgodHlwZW9mIEludGwgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKEludGwpKSA9PT0gJ29iamVjdCcgJiYgSW50bC5Db2xsYXRvcikge1xuICAgIENPTExBVE9SID0gbmV3IEludGwuQ29sbGF0b3IoWyd6aC1IYW5zLUNOJywgJ3poLUNOJ10pO1xuICAgIHN1cHBvcnRlZCA9IEludGwuQ29sbGF0b3Iuc3VwcG9ydGVkTG9jYWxlc09mKFsnemgtQ04nXSkubGVuZ3RoID09PSAxO1xuICB9IGVsc2Uge1xuICAgIHN1cHBvcnRlZCA9IGZhbHNlO1xuICB9XG4gIHJldHVybiBzdXBwb3J0ZWQ7XG59XG5cbmZ1bmN0aW9uIGdlblRva2VuKGNoKSB7XG4gIC8vIEFjY2VzcyBESUNUIGhlcmUsIGdpdmUgdGhlIGNoYW5jZSB0byBwYXRjaCBESUNULlxuICB2YXIgVU5JSEFOUyA9IERJQ1QuVU5JSEFOUztcbiAgdmFyIFBJTllJTlMgPSBESUNULlBJTllJTlM7XG4gIHZhciBFWENFUFRJT05TID0gRElDVC5FWENFUFRJT05TO1xuICB2YXIgdG9rZW4gPSB7XG4gICAgc291cmNlOiBjaFxuXG4gICAgLy8gRmlyc3QgY2hlY2sgRVhDRVBUSU9OUyBtYXAsIHRoZW4gc2VhcmNoIHdpdGggVU5JSEFOUyB0YWJsZS5cbiAgfTtpZiAoY2ggaW4gRVhDRVBUSU9OUykge1xuICAgIHRva2VuLnR5cGUgPSBQSU5ZSU47XG4gICAgdG9rZW4udGFyZ2V0ID0gRVhDRVBUSU9OU1tjaF07XG4gICAgcmV0dXJuIHRva2VuO1xuICB9XG5cbiAgdmFyIG9mZnNldCA9IC0xO1xuICB2YXIgY21wID0gdm9pZCAwO1xuICBpZiAoY2guY2hhckNvZGVBdCgwKSA8IDI1Nikge1xuICAgIHRva2VuLnR5cGUgPSBMQVRJTjtcbiAgICB0b2tlbi50YXJnZXQgPSBjaDtcbiAgICByZXR1cm4gdG9rZW47XG4gIH0gZWxzZSB7XG4gICAgY21wID0gQ09MTEFUT1IuY29tcGFyZShjaCwgRklSU1RfUElOWUlOX1VOSUhBTik7XG4gICAgaWYgKGNtcCA8IDApIHtcbiAgICAgIHRva2VuLnR5cGUgPSBVTktOT1dOO1xuICAgICAgdG9rZW4udGFyZ2V0ID0gY2g7XG4gICAgICByZXR1cm4gdG9rZW47XG4gICAgfSBlbHNlIGlmIChjbXAgPT09IDApIHtcbiAgICAgIHRva2VuLnR5cGUgPSBQSU5ZSU47XG4gICAgICBvZmZzZXQgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbXAgPSBDT0xMQVRPUi5jb21wYXJlKGNoLCBMQVNUX1BJTllJTl9VTklIQU4pO1xuICAgICAgaWYgKGNtcCA+IDApIHtcbiAgICAgICAgdG9rZW4udHlwZSA9IFVOS05PV047XG4gICAgICAgIHRva2VuLnRhcmdldCA9IGNoO1xuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICB9IGVsc2UgaWYgKGNtcCA9PT0gMCkge1xuICAgICAgICB0b2tlbi50eXBlID0gUElOWUlOO1xuICAgICAgICBvZmZzZXQgPSBVTklIQU5TLmxlbmd0aCAtIDE7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdG9rZW4udHlwZSA9IFBJTllJTjtcbiAgaWYgKG9mZnNldCA8IDApIHtcbiAgICB2YXIgYmVnaW4gPSAwO1xuICAgIHZhciBlbmQgPSBVTklIQU5TLmxlbmd0aCAtIDE7XG4gICAgd2hpbGUgKGJlZ2luIDw9IGVuZCkge1xuICAgICAgb2Zmc2V0ID0gfn4oKGJlZ2luICsgZW5kKSAvIDIpO1xuICAgICAgdmFyIHVuaWhhbiA9IFVOSUhBTlNbb2Zmc2V0XTtcbiAgICAgIGNtcCA9IENPTExBVE9SLmNvbXBhcmUoY2gsIHVuaWhhbik7XG5cbiAgICAgIC8vIENhdGNoIGl0LlxuICAgICAgaWYgKGNtcCA9PT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vIFNlYXJjaCBhZnRlciBvZmZzZXQuXG4gICAgICBlbHNlIGlmIChjbXAgPiAwKSB7XG4gICAgICAgICAgYmVnaW4gPSBvZmZzZXQgKyAxO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNlYXJjaCBiZWZvcmUgdGhlIG9mZnNldC5cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbmQgPSBvZmZzZXQgLSAxO1xuICAgICAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoY21wIDwgMCkge1xuICAgIG9mZnNldC0tO1xuICB9XG5cbiAgdG9rZW4udGFyZ2V0ID0gUElOWUlOU1tvZmZzZXRdO1xuICBpZiAoIXRva2VuLnRhcmdldCkge1xuICAgIHRva2VuLnR5cGUgPSBVTktOT1dOO1xuICAgIHRva2VuLnRhcmdldCA9IHRva2VuLnNvdXJjZTtcbiAgfVxuICByZXR1cm4gdG9rZW47XG59XG5cbmZ1bmN0aW9uIHBhcnNlKHN0cikge1xuICBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2FyZ3VtZW50IHNob3VsZCBiZSBzdHJpbmcuJyk7XG4gIH1cbiAgaWYgKCFpc1N1cHBvcnRlZCgpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdub3Qgc3VwcG9ydCBJbnRsIG9yIHpoLUNOIGxhbmd1YWdlLicpO1xuICB9XG4gIHJldHVybiBzdHIuc3BsaXQoJycpLm1hcChmdW5jdGlvbiAodikge1xuICAgIHJldHVybiBnZW5Ub2tlbih2KTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc1N1cHBvcnRlZDogaXNTdXBwb3J0ZWQsXG4gIHBhcnNlOiBwYXJzZSxcbiAgcGF0Y2hEaWN0OiBwYXRjaERpY3QsXG4gIGdlblRva2VuOiBnZW5Ub2tlbiwgLy8gaW5uZXIgdXNhZ2VcbiAgY29udmVydFRvUGlueWluOiBmdW5jdGlvbiBjb252ZXJ0VG9QaW55aW4oc3RyLCBzZXBhcmF0b3IsIGxvd2VyQ2FzZSkge1xuICAgIHJldHVybiBwYXJzZShzdHIpLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgaWYgKGxvd2VyQ2FzZSAmJiB2LnR5cGUgPT09IFBJTllJTikge1xuICAgICAgICByZXR1cm4gdi50YXJnZXQudG9Mb3dlckNhc2UoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2LnRhcmdldDtcbiAgICB9KS5qb2luKHNlcGFyYXRvciB8fCAnJyk7XG4gIH1cbn07IiwgIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGF0Y2hlcihESUNUKSB7XG4gIC8vIFVwZGF0ZSBFWENFUFRJT05TIGRpY3QuXG4gIERJQ1QuRVhDRVBUSU9OUyA9IHtcbiAgICAnXFx1NTVGMic6ICdESUEnLCAvLyBESUUgXHU1NUYyXG4gICAgJ1xcdTc4QTEnOiAnWkhPVScsIC8vIERVIFx1NzhBMVxuICAgICdcXHU4MDUyJzogJ0dVTycsIC8vIEdVQSBcdTgwNTJcbiAgICAnXFx1NzA5NCc6ICdRVUUnLCAvLyBHVUkgXHU3MDk0XG4gICAgJ1xcdTg2QjUnOiAnS0UnLCAvLyBIRSBcdTg2QjVcbiAgICAnXFx1NzgwOSc6ICdIVUEnLCAvLyBIVU8gXHU3ODA5XG4gICAgJ1xcdTVCMzcnOiAnTU8nLCAvLyBNQSBcdTVCMzcgXHU2NUIwXHU1ODlFXG4gICAgJ1xcdThFNEEnOiAnWEknLCAvLyBRSSBcdThFNEFcbiAgICAnXFx1NEUyQyc6ICdQQU4nLCAvLyBRSUFORyBcdTRFMkNcbiAgICAnXFx1OTczMCc6ICdYSUFOJywgLy8gU0FOIFx1OTczMFxuICAgICdcXHU4QzQ5JzogJ0NISScsIC8vIFNISSBcdThDNDlcbiAgICAnXFx1OTk2Nyc6ICdYSU5HJywgLy8gVEFORyBcdTk5NjdcbiAgICAnXFx1NUUyNyc6ICdaSEVOJywgLy8gWkhFTkcgXHU1RTI3XG4gICAgJ1xcdTgyOEUnOiAnWElPTkcnLCAvLyBcdTgyOEVcbiAgICAnXFx1OEMwMSc6ICdTSFVJJywgLy8gXHU4QzAxXG4gICAgJ1xcdTk0QjYnOiAnS0UnIC8vIFx1OTRCNlxuXG5cbiAgICAvLyBVcGRhdGUgVU5JSEFOUyBkaWN0LlxuICB9O0RJQ1QuVU5JSEFOU1s5MV0gPSAnXFx1NEYxNSc7IC8vIEZVOiBcdTU5MkIgLS0+IFx1NEYxNVxuICBESUNULlVOSUhBTlNbMzQ3XSA9ICdcXHU0RURBJzsgLy8gWElBTjogXHU0RUQ5IC0tPiBcdTRFREFcbiAgRElDVC5VTklIQU5TWzM5M10gPSAnXFx1OEJDQyc7IC8vIFpIT1U6IFx1NURERSAtLT4gXHU4QkNDXG4gIERJQ1QuVU5JSEFOU1szOV0gPSAnXFx1NUE2NCc7IC8vIENIT1U6IFx1NjJCRCAtLT4gXHU1QTY0XG4gIERJQ1QuVU5JSEFOU1s1MF0gPSAnXFx1ODE2MCc7IC8vIENPVTogXHU1MUQxIC0tPiBcdTgxNjBcbiAgRElDVC5VTklIQU5TWzM2OV0gPSAnXFx1NjUzOCc7IC8vIFlPVTogXHU0RjE4IC0tPiBcdTY1MzhcbiAgRElDVC5VTklIQU5TWzEyM10gPSAnXFx1NEU2Ric7IC8vIEhVOiBcdTRFNEUgLS0+IFx1NEU2RlxuICBESUNULlVOSUhBTlNbMTcxXSA9ICdcXHU1MjE1JzsgLy8gTEk6IFx1NTRFOSAtLT4gXHU1MjE1XG4gIERJQ1QuVU5JSEFOU1sxMDJdID0gJ1xcdTRGNUQnOyAvLyBHT1U6IFx1NTJGRSAtLT4gXHU0RjVEXG4gIERJQ1QuVU5JSEFOU1sxMjZdID0gJ1xcdTcyQkYnOyAvLyBIVUFOOiBcdTZCMjIgLS0+IFx1NzJCRlxuICBESUNULlVOSUhBTlNbMTc2XSA9ICdcXHU1MjE3JzsgLy8gTElFOiBcdTZCREYgLS0+IFx1NTIxN1xuICBESUNULlVOSUhBTlNbMTc4XSA9ICdcXHU1MjIyJzsgLy8gTElORzogXHU0RjM2IC0tPiBcdTUyMjJcbiAgRElDVC5VTklIQU5TWzI1Ml0gPSAnXFx1NUExRCc7IC8vIFBPVTogXHU1MjU2IC0tPiBcdTVBMURcbiAgRElDVC5VTklIQU5TWzMzMF0gPSAnXFx1NTA3OCc7IC8vIFRPVTogXHU1MDc3IC0tPiBcdTUwNzhcbn07XG5cbmV4cG9ydHMuc2hvdWxkUGF0Y2ggPSBmdW5jdGlvbiBzaG91bGRQYXRjaCh0b1Rva2VuKSB7XG4gIGlmICh0eXBlb2YgdG9Ub2tlbiAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZhbHNlO1xuICAvLyBTcGVjaWFsIHVuaWhhbnMgdGhhdCBnZXQgaW5jb3JyZWN0IHBpbnlpbnMuXG4gIGlmICh0b1Rva2VuKCdcXHU0RjE1JykudGFyZ2V0ID09PSAnRk9VJyAmJiB0b1Rva2VuKCdcXHU0RURBJykudGFyZ2V0ID09PSAnWElBJyAmJiB0b1Rva2VuKCdcXHU4QkNDJykudGFyZ2V0ID09PSAnWkhPTkcnICYmIHRvVG9rZW4oJ1xcdTVBNjQnKS50YXJnZXQgPT09ICdDSE9ORycgJiYgdG9Ub2tlbignXFx1ODE2MCcpLnRhcmdldCA9PT0gJ0NPTkcnICYmIHRvVG9rZW4oJ1xcdTY1MzgnKS50YXJnZXQgPT09ICdZT05HJyAmJiB0b1Rva2VuKCdcXHU0RTZGJykudGFyZ2V0ID09PSAnSE9VJyAmJiB0b1Rva2VuKCdcXHU1MjE1JykudGFyZ2V0ID09PSAnTEVORycgJiYgdG9Ub2tlbignXFx1NEY1RCcpLnRhcmdldCA9PT0gJ0dPTkcnICYmIHRvVG9rZW4oJ1xcdTcyQkYnKS50YXJnZXQgPT09ICdIVUFJJyAmJiB0b1Rva2VuKCdcXHU1MjE3JykudGFyZ2V0ID09PSAnTElBTycgJiYgdG9Ub2tlbignXFx1NTIyMicpLnRhcmdldCA9PT0gJ0xJTicgJiYgdG9Ub2tlbignXFx1OTRCNicpLnRhcmdldCA9PT0gJ0UnKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTsiLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgcGlueWluID0gcmVxdWlyZSgnLi9jb3JlJyk7XG52YXIgcGF0Y2hlcjU2TCA9IHJlcXVpcmUoJy4vcGF0Y2hlcnMvNTZsJyk7XG5cbi8vIFBhdGNoIGRpY3QgZm9yIGljdWR0NTZsLmRhdCByZWxhdGVkIGVudiwgc3VjaCBhcyBzYWZhcml8bm9kZSB2NC5cbmlmIChwaW55aW4uaXNTdXBwb3J0ZWQoKSAmJiBwYXRjaGVyNTZMLnNob3VsZFBhdGNoKHBpbnlpbi5nZW5Ub2tlbikpIHtcbiAgcGlueWluLnBhdGNoRGljdChwYXRjaGVyNTZMKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBwaW55aW47IiwgImltcG9ydCB7IEFwcCwgTW9kYWwsIFBsYXRmb3JtLCBQbHVnaW4sIHNldEljb24sIFdvcmtzcGFjZUxlYWYsIFdvcmtzcGFjZVBhcmVudCB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCBGdXNlIGZyb20gJ2Z1c2UuanMnO1xuY29uc3QgcGlueWluID0gcmVxdWlyZSgndGlueS1waW55aW4nKTtcblxuZGVjbGFyZSBtb2R1bGUgXCJvYnNpZGlhblwiIHtcblx0aW50ZXJmYWNlIFdvcmtzcGFjZSB7XG5cdFx0aXRlcmF0ZUxlYXZlcyhjYWxsYmFjazogKGl0ZW06IFdvcmtzcGFjZUxlYWYpID0+IHVua25vd24sIGl0ZW06IFdvcmtzcGFjZVBhcmVudCk6IGJvb2xlYW47XG5cdH1cblx0aW50ZXJmYWNlIFdvcmtzcGFjZUxlYWYge1xuXHRcdHBhcmVudFNwbGl0OiBXb3Jrc3BhY2VQYXJlbnQ7XG5cdFx0dGFiSGVhZGVySW5uZXJJY29uRWw6IEhUTUxFbGVtZW50O1xuXHRcdHRhYkhlYWRlckVsOiBIVE1MRWxlbWVudDtcblx0XHRhY3RpdmVUaW1lOiBudW1iZXI7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFiU3dpdGNoZXIgZXh0ZW5kcyBQbHVnaW4ge1xuXHRwcml2YXRlIHNlYXJjaE1vZGFsOiBUYWJTd2l0Y2hlck1vZGFsO1xuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdvcGVuLXN3aXRjaGVyLWZvci10YWJzJyxcblx0XHRcdG5hbWU6ICdPcGVuIFN3aXRjaGVyIEZvciBUYWJzJyxcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdHRoaXMuc2VhcmNoTW9kYWwgPSBuZXcgVGFiU3dpdGNoZXJNb2RhbCh0aGlzLmFwcCwgdGhpcyk7XG5cdFx0XHRcdHRoaXMuc2VhcmNoTW9kYWwub3BlbigpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0b251bmxvYWQoKSB7XG5cdFx0dGhpcy5zZWFyY2hNb2RhbC5jbG9zZSgpO1xuXHR9XG59XG5cbmNsYXNzIFRhYlN3aXRjaGVyTW9kYWwgZXh0ZW5kcyBNb2RhbCAge1xuXHRwcml2YXRlIHBsdWdpbjogVGFiU3dpdGNoZXI7XG5cdHByaXZhdGUgYXZhaWxhYmxlTGVhdmVzOiBXb3Jrc3BhY2VMZWFmW10gPSBbXTtcblx0cHJpdmF0ZSBjdXJyZW50TGVhdmVzOiAgRnVzZS5GdXNlUmVzdWx0PFdvcmtzcGFjZUxlYWY+W10gPSBbXTtcblx0cHJpdmF0ZSBrZXlTdHJpbmc6IHN0cmluZyA9IFwiXCI7XG5cdHByaXZhdGUgY2I6IChldnQ6IEtleWJvYXJkRXZlbnQpPT52b2lkO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IFRhYlN3aXRjaGVyKSB7XG5cdFx0c3VwZXIoYXBwKTtcblxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0Z2V0Q3VycmVudExlYXZlc0luUGFyZW50KCkge1xuXHRcdGNvbnN0IGV4aXN0aW5nTGVhdmVzID0gbmV3IFNldDxXb3Jrc3BhY2VMZWFmPigpO1xuXHRcdGNvbnN0IGNiID0gKGxlYWY6IFdvcmtzcGFjZUxlYWYpID0+IHsgZXhpc3RpbmdMZWF2ZXMuYWRkKGxlYWYpOyB9O1xuXHRcdGNvbnN0IGxlYWYgPSBhcHAud29ya3NwYWNlLmFjdGl2ZUxlYWY7XG5cdFx0aWYoIWxlYWYpIHJldHVybjtcblxuXHRcdGFwcC53b3Jrc3BhY2UuaXRlcmF0ZUxlYXZlcyhjYiwgbGVhZi5wYXJlbnRTcGxpdCk7XG5cdFx0cmV0dXJuIFsuLi5leGlzdGluZ0xlYXZlcy52YWx1ZXMoKV07XG5cdH1cblxuXHRnZXRBdmFpbGFibGVMZWF2ZXMoKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cblx0XHRjb25zdCBsZWFmQXJyYXkgPSB0aGlzLmdldEN1cnJlbnRMZWF2ZXNJblBhcmVudCgpO1xuXHRcdGlmKCFsZWFmQXJyYXkpIHtcblx0XHRcdGNvbnRlbnRFbC5jcmVhdGVEaXYoe3RleHQ6IFwiTm8gdGFicyBvcGVuZWRcIiwgY2xzOiBcInNlYXJjaC1sZWFmLWl0ZW0tbm90LWZvdW5kXCJ9KTtcblx0XHRcdGNvbnRlbnRFbD8uY2xhc3NMaXN0LmFkZChcInRhYi1zd2l0Y2hlci1tb2RhbC1jb250ZW50XCIpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuYXZhaWxhYmxlTGVhdmVzID0gbGVhZkFycmF5LmZpbHRlcigobGVhZik9PiB7XG5cdFx0XHRjb25zdCB2aWV3VHlwZSA9IGxlYWYudmlldy5nZXRWaWV3VHlwZSgpO1xuXHRcdFx0aWYoISgvKGJhY2tsaW5rfGZpbGUtZXhwbG9yZXJ8b3V0Z29pbmctbGlua3xvdXRsaW5lfHNlYXJjaHxzdGFycmVkfHRhZykvZy50ZXN0KHZpZXdUeXBlKSkpIHJldHVybiB0cnVlO1xuXHRcdFx0Ly8gcmV0dXJuICh2aWV3VHlwZSAhPSBcImJhY2tsaW5rXCIgfHwgdmlld1R5cGUgIT0gXCJmaWxlLWV4cGxvcmVyXCIgfHwgdmlld1R5cGUgPT09IFwib3V0Z29pbmctbGlua1wiIHx8IHZpZXdUeXBlID09PSBcIm91dGxpbmVcIiB8fCB2aWV3VHlwZSAhPSBcInNlYXJjaFwiIHx8IHZpZXdUeXBlICE9IFwic3RhcnJlZFwiIHx8IHZpZXdUeXBlICE9IFwidGFnXCIpO1xuXHRcdH0pO1xuXHR9XG5cblx0YnVpbGRMZWF2ZXNBcnJheSgpIHtcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblxuXHRcdGlmKHRoaXMuYXZhaWxhYmxlTGVhdmVzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0Y29udGVudEVsLmNyZWF0ZURpdih7dGV4dDogXCJObyB0YWJzIG9wZW5lZFwiLCBjbHM6IFwic2VhcmNoLWxlYWYtaXRlbS1ub3QtZm91bmRcIn0pO1xuXHRcdFx0Y29udGVudEVsPy5jbGFzc0xpc3QuYWRkKFwidGFiLXN3aXRjaGVyLW1vZGFsLWNvbnRlbnRcIik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IGN1cnJlbnRMZWF2ZXMgPSB0aGlzLmF2YWlsYWJsZUxlYXZlcy5zb3J0KChhLCBiKSA9PiB7IHJldHVybiBiLmFjdGl2ZVRpbWUgLSBhLmFjdGl2ZVRpbWU7IH0pO1xuXG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XG5cdFx0Y29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIsIHtcblx0XHRcdHRleHQ6IFwiSW5wdXQgdGhlIHRhYiBuYW1lIG9yIGhvdGtleSB0byBzd2l0Y2guXCIsXG5cdFx0XHRjbHM6IFwic2VhcmNoLWxlYWYtaXRlbS10aXBzXCJcblx0XHR9KVxuXHRcdGN1cnJlbnRMZWF2ZXMuZm9yRWFjaCgobGVhZixpbmRleCkgPT4ge1xuXHRcdFx0Y29uc3QgbGVhZkVsID0gY29udGVudEVsLmNyZWF0ZURpdih7Y2xzOiBcInNlYXJjaC1sZWFmLWl0ZW1cIn0pO1xuXHRcdFx0dGhpcy5idWlsZExlYWZJdGVtKGxlYWZFbCwgbGVhZiwgaW5kZXggPCA5ID8gaW5kZXggKyAxIDogaW5kZXggPT09IDkgPyAwIDogLTEpO1xuXHRcdH0pXG5cdH1cblxuXHR1cGRhdGVDdXJyZW50TGVhdmVzKGtleTogc3RyaW5nKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cblx0XHRjb25zb2xlLmxvZyhrZXkpO1xuXG5cdFx0Y29uc3Qgb3B0aW9ucyA9IHtcblx0XHRcdGlzQ2FzZVNlbnNpdGl2ZTogZmFsc2UsXG5cdFx0XHRpbmNsdWRlTWF0Y2hlczogdHJ1ZSxcblx0XHRcdHNob3VsZFNvcnQ6IHRydWUsXG5cdFx0XHR0aHJlc2hvbGQ6IDAsXG5cdFx0XHRpZ25vcmVMb2NhdGlvbjogdHJ1ZSxcblx0XHRcdGtleXM6IFtcblx0XHRcdFx0eyBuYW1lOiAndGl0bGVOYW1lJywgZ2V0Rm46IChsZWFmOiBXb3Jrc3BhY2VMZWFmKSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIHBpbnlpbi5jb252ZXJ0VG9QaW55aW4obGVhZi50YWJIZWFkZXJFbC5pbm5lclRleHQudG9TdHJpbmcoKSwgJycsIHRydWUpO1xuXHRcdFx0XHR9fVxuXHRcdFx0XSxcblx0XHRcdHNvcnRGbjogKGE6IGFueSwgYjogYW55KSA9PiB7XG5cdFx0XHRcdHJldHVybiBiLml0ZW0uYWN0aXZlVGltZSAtIGEuaXRlbS5hY3RpdmVUaW1lO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRjb25zdCBmdXNlID0gbmV3IEZ1c2UodGhpcy5hdmFpbGFibGVMZWF2ZXMsIG9wdGlvbnMpO1xuXHRcdHRoaXMuY3VycmVudExlYXZlcyA9IGZ1c2Uuc2VhcmNoKHsgdGl0bGVOYW1lOiBrZXkgfSk7XG5cblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblx0XHRjb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIiwge1xuXHRcdFx0dGV4dDogXCJJbnB1dCB0aGUgdGFiIG5hbWUgb3IgaG90a2V5IHRvIHN3aXRjaC5cIixcblx0XHRcdGNsczogXCJzZWFyY2gtbGVhZi1pdGVtLXRpcHNcIlxuXHRcdH0pXG5cdFx0dGhpcy5jdXJyZW50TGVhdmVzLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG5cdFx0XHRjb25zdCBsZWFmID0gKGl0ZW0uaXRlbSBhcyBXb3Jrc3BhY2VMZWFmKTtcblx0XHRcdGNvbnN0IGxlYWZFbCA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoe2NsczogXCJzZWFyY2gtbGVhZi1pdGVtXCJ9KTtcblx0XHRcdHRoaXMuYnVpbGRMZWFmSXRlbShsZWFmRWwsIGxlYWYsIGluZGV4IDwgOSA/IGluZGV4ICsgMSA6IGluZGV4ID09PSA5ID8gMCA6IC0xKTtcblx0XHR9KVxuXHR9XG5cblx0Lypcblx0KiBCdWlsZCB0aGUgbGVhZiBpdGVtIGluIHRoZSBtb2RhbFxuXHQqL1xuXHRidWlsZExlYWZJdGVtKGxlYWZFbDogSFRNTEVsZW1lbnQsIGxlYWY6IFdvcmtzcGFjZUxlYWYsIGluZGV4OiBudW1iZXIpIHtcblx0XHRjb25zdCBsZWF0UGF0aEVsID0gbGVhZkVsLmNyZWF0ZURpdih7Y2xzOiBcInNlYXJjaC1sZWFmLWl0ZW0tcGF0aFwifSk7XG5cdFx0Y29uc3QgbGVhZkhvdGtleUVsID0gbGVhZkVsLmNyZWF0ZURpdih7Y2xzOiBcInNlYXJjaC1sZWFmLWl0ZW0taG90a2V5XCIsIHRleHQ6IGluZGV4ID4gLTEgPyAoUGxhdGZvcm0uaXNNYWNPUyA/IFwiQ01EICsgXCIgOiBcIkNUUkwgKyBcIiArIGluZGV4LnRvU3RyaW5nKCkpIDogXCJcIn0pO1xuXHRcdGlmKGxlYWYudmlldy5nZXRWaWV3VHlwZSgpID09PSBcIm1hcmtkb3duXCIpIHtcblx0XHRcdGNvbnN0IGljb25FbCA9IGxlYXRQYXRoRWwuY3JlYXRlRGl2KHtjbHM6IFwic2VhcmNoLWxlYWYtaXRlbS1pY29uXCJ9KTtcblx0XHRcdHNldEljb24oaWNvbkVsLCBsZWFmLnZpZXcuZ2V0SWNvbigpKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc3QgaWNvbkVsID0gbGVhZi50YWJIZWFkZXJJbm5lckljb25FbC5jbG9uZU5vZGUodHJ1ZSkgYXMgSFRNTEVsZW1lbnQ7XG5cdFx0XHRsZWF0UGF0aEVsLmFwcGVuZENoaWxkKGljb25FbCk7XG5cdFx0fVxuXHRcdGxlYXRQYXRoRWwuY3JlYXRlRGl2KHt0ZXh0OiBsZWFmLnRhYkhlYWRlckVsLmlubmVyVGV4dCAsIGNsczogXCJzZWFyY2gtbGVhZi1pdGVtLXRleHRcIn0pO1xuXHRcdHRoaXMucGx1Z2luLnJlZ2lzdGVyRG9tRXZlbnQobGVhZkVsLCBcImNsaWNrXCIsIChldnQpID0+IHtcblx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHRcdGFwcC53b3Jrc3BhY2Uuc2V0QWN0aXZlTGVhZihsZWFmKTtcblx0XHR9KTtcblx0fVxuXG5cdC8qXG5cdCogUmVnaXN0ZXIga2V5Ym9hcmQgZXZlbnQgdG8gbGlzdGVuIGZvciBrZXlkb3duXG5cdCogRm9yIGZpbHRlcmluZyB0aGUgbGlzdCBvZiB0YWJzO1xuXHQqL1xuXHRyZWdpc3RlcktleUJvYXJkRXZlbnQoKSB7XG5cdFx0dGhpcy5jYiA9IChldnQ6IEtleWJvYXJkRXZlbnQpPT57XG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0aWYoL15bMC05XXsxfSQvLnRlc3QoZXZ0LmtleSkgJiYgKGV2dC5jdHJsS2V5IHx8IGV2dC5tZXRhS2V5KSkge1xuXHRcdFx0XHRpZih0aGlzLmN1cnJlbnRMZWF2ZXM/Lmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRjb25zdCBsZWFmID0gdGhpcy5jdXJyZW50TGVhdmVzW3BhcnNlSW50KGV2dC5rZXkpIC0gMV0/Lml0ZW0gYXMgV29ya3NwYWNlTGVhZjtcblx0XHRcdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0XHRcdFx0YXBwLndvcmtzcGFjZS5zZXRBY3RpdmVMZWFmKGxlYWYpO1xuXHRcdFx0XHR9ZWxzZSBpZih0aGlzLmF2YWlsYWJsZUxlYXZlcz8ubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdGNvbnN0IGxlYWYgPSB0aGlzLmF2YWlsYWJsZUxlYXZlc1twYXJzZUludChldnQua2V5KSAtIDFdIGFzIFdvcmtzcGFjZUxlYWY7XG5cdFx0XHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdFx0XHRcdGFwcC53b3Jrc3BhY2Uuc2V0QWN0aXZlTGVhZihsZWFmKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmKGV2dC5rZXkgPT09IFwiVGFiXCIpIHtcblx0XHRcdFx0dGhpcy5jb250ZW50RWwudG9nZ2xlQ2xhc3MoXCJzaG93LWFsbFwiLCAhdGhpcy5jb250ZW50RWwuaGFzQ2xhc3MoXCJzaG93LWFsbFwiKSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmKGV2dC5rZXkgPT09IFwiRW50ZXJcIikge1xuXHRcdFx0XHRpZih0aGlzLmN1cnJlbnRMZWF2ZXM/Lmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRjb25zdCBsZWFmID0gdGhpcy5jdXJyZW50TGVhdmVzWzBdPy5pdGVtIGFzIFdvcmtzcGFjZUxlYWY7XG5cdFx0XHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdFx0XHRcdGFwcC53b3Jrc3BhY2Uuc2V0QWN0aXZlTGVhZihsZWFmKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmKC9eW2EtekEtWjAtOS1fIF17MX0kLy50ZXN0KGV2dC5rZXkpKSB7XG5cdFx0XHRcdHRoaXMua2V5U3RyaW5nICs9IGV2dC5rZXk7XG5cdFx0XHRcdHRoaXMudXBkYXRlQ3VycmVudExlYXZlcyh0aGlzLmtleVN0cmluZyk7XG5cdFx0XHR9XG5cdFx0XHRpZigoZXZ0LmtleSA9PT0gXCJCYWNrc3BhY2VcIiB8fCBldnQua2V5ID09PSBcIkRlbGV0ZVwiKSAmJiB0aGlzLmtleVN0cmluZy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdHRoaXMua2V5U3RyaW5nID0gdGhpcy5rZXlTdHJpbmcuc2xpY2UoMCAsLTEpO1xuXHRcdFx0XHRpZih0aGlzLmtleVN0cmluZyA9PT0gXCJcIikge1xuXHRcdFx0XHRcdHRoaXMuY3VycmVudExlYXZlcy5zcGxpY2UoMCwgdGhpcy5jdXJyZW50TGVhdmVzLmxlbmd0aCk7XG5cdFx0XHRcdFx0dGhpcy5idWlsZExlYXZlc0FycmF5KCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMudXBkYXRlQ3VycmVudExlYXZlcyh0aGlzLmtleVN0cmluZyk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGFjdGl2ZVdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmNiLCB0cnVlKTtcblx0fVxuXG5cdG9uT3BlbigpIHtcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblx0XHRjb250ZW50RWw/LnBhcmVudEVsZW1lbnQ/LnBhcmVudEVsZW1lbnQ/LmNsYXNzTGlzdC5hZGQoXCJ0YWItc3dpdGNoZXItbW9kYWxcIik7XG5cblx0XHR0aGlzLnJlZ2lzdGVyS2V5Qm9hcmRFdmVudCgpO1xuXHRcdHRoaXMuZ2V0QXZhaWxhYmxlTGVhdmVzKCk7XG5cdFx0dGhpcy5idWlsZExlYXZlc0FycmF5KCk7XG5cdH1cblxuXHRvbkNsb3NlKCkge1xuXHRcdGNvbnN0IHtjb250ZW50RWx9ID0gdGhpcztcblx0XHR0aGlzLmF2YWlsYWJsZUxlYXZlcy5zcGxpY2UoMCwgdGhpcy5hdmFpbGFibGVMZWF2ZXMubGVuZ3RoKTtcblx0XHR0aGlzLmN1cnJlbnRMZWF2ZXMuc3BsaWNlKDAsIHRoaXMuY3VycmVudExlYXZlcy5sZW5ndGgpO1xuXHRcdHRoaXMua2V5U3RyaW5nID0gXCJcIjtcblx0XHRhY3RpdmVXaW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5jYiwgdHJ1ZSk7XG5cblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblx0fVxufVxuIiwgIi8qKlxuICogRnVzZS5qcyB2Ni42LjIgLSBMaWdodHdlaWdodCBmdXp6eS1zZWFyY2ggKGh0dHA6Ly9mdXNlanMuaW8pXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIyIEtpcm8gUmlzayAoaHR0cDovL2tpcm8ubWUpXG4gKiBBbGwgUmlnaHRzIFJlc2VydmVkLiBBcGFjaGUgU29mdHdhcmUgTGljZW5zZSAyLjBcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqL1xuXG5mdW5jdGlvbiBpc0FycmF5KHZhbHVlKSB7XG4gIHJldHVybiAhQXJyYXkuaXNBcnJheVxuICAgID8gZ2V0VGFnKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xuICAgIDogQXJyYXkuaXNBcnJheSh2YWx1ZSlcbn1cblxuLy8gQWRhcHRlZCBmcm9tOiBodHRwczovL2dpdGh1Yi5jb20vbG9kYXNoL2xvZGFzaC9ibG9iL21hc3Rlci8uaW50ZXJuYWwvYmFzZVRvU3RyaW5nLmpzXG5jb25zdCBJTkZJTklUWSA9IDEgLyAwO1xuZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuICBsZXQgcmVzdWx0ID0gdmFsdWUgKyAnJztcbiAgcmV0dXJuIHJlc3VsdCA9PSAnMCcgJiYgMSAvIHZhbHVlID09IC1JTkZJTklUWSA/ICctMCcgOiByZXN1bHRcbn1cblxuZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IGJhc2VUb1N0cmluZyh2YWx1ZSlcbn1cblxuZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZydcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcidcbn1cblxuLy8gQWRhcHRlZCBmcm9tOiBodHRwczovL2dpdGh1Yi5jb20vbG9kYXNoL2xvZGFzaC9ibG9iL21hc3Rlci9pc0Jvb2xlYW4uanNcbmZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xuICByZXR1cm4gKFxuICAgIHZhbHVlID09PSB0cnVlIHx8XG4gICAgdmFsdWUgPT09IGZhbHNlIHx8XG4gICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSAnW29iamVjdCBCb29sZWFuXScpXG4gIClcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCdcbn1cblxuLy8gQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbHVlKSAmJiB2YWx1ZSAhPT0gbnVsbFxufVxuXG5mdW5jdGlvbiBpc0RlZmluZWQodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGxcbn1cblxuZnVuY3Rpb24gaXNCbGFuayh2YWx1ZSkge1xuICByZXR1cm4gIXZhbHVlLnRyaW0oKS5sZW5ndGhcbn1cblxuLy8gR2V0cyB0aGUgYHRvU3RyaW5nVGFnYCBvZiBgdmFsdWVgLlxuLy8gQWRhcHRlZCBmcm9tOiBodHRwczovL2dpdGh1Yi5jb20vbG9kYXNoL2xvZGFzaC9ibG9iL21hc3Rlci8uaW50ZXJuYWwvZ2V0VGFnLmpzXG5mdW5jdGlvbiBnZXRUYWcodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09IG51bGxcbiAgICA/IHZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgID8gJ1tvYmplY3QgVW5kZWZpbmVkXSdcbiAgICAgIDogJ1tvYmplY3QgTnVsbF0nXG4gICAgOiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpXG59XG5cbmNvbnN0IEVYVEVOREVEX1NFQVJDSF9VTkFWQUlMQUJMRSA9ICdFeHRlbmRlZCBzZWFyY2ggaXMgbm90IGF2YWlsYWJsZSc7XG5cbmNvbnN0IElOQ09SUkVDVF9JTkRFWF9UWVBFID0gXCJJbmNvcnJlY3QgJ2luZGV4JyB0eXBlXCI7XG5cbmNvbnN0IExPR0lDQUxfU0VBUkNIX0lOVkFMSURfUVVFUllfRk9SX0tFWSA9IChrZXkpID0+XG4gIGBJbnZhbGlkIHZhbHVlIGZvciBrZXkgJHtrZXl9YDtcblxuY29uc3QgUEFUVEVSTl9MRU5HVEhfVE9PX0xBUkdFID0gKG1heCkgPT5cbiAgYFBhdHRlcm4gbGVuZ3RoIGV4Y2VlZHMgbWF4IG9mICR7bWF4fS5gO1xuXG5jb25zdCBNSVNTSU5HX0tFWV9QUk9QRVJUWSA9IChuYW1lKSA9PiBgTWlzc2luZyAke25hbWV9IHByb3BlcnR5IGluIGtleWA7XG5cbmNvbnN0IElOVkFMSURfS0VZX1dFSUdIVF9WQUxVRSA9IChrZXkpID0+XG4gIGBQcm9wZXJ0eSAnd2VpZ2h0JyBpbiBrZXkgJyR7a2V5fScgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXJgO1xuXG5jb25zdCBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG5jbGFzcyBLZXlTdG9yZSB7XG4gIGNvbnN0cnVjdG9yKGtleXMpIHtcbiAgICB0aGlzLl9rZXlzID0gW107XG4gICAgdGhpcy5fa2V5TWFwID0ge307XG5cbiAgICBsZXQgdG90YWxXZWlnaHQgPSAwO1xuXG4gICAga2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGxldCBvYmogPSBjcmVhdGVLZXkoa2V5KTtcblxuICAgICAgdG90YWxXZWlnaHQgKz0gb2JqLndlaWdodDtcblxuICAgICAgdGhpcy5fa2V5cy5wdXNoKG9iaik7XG4gICAgICB0aGlzLl9rZXlNYXBbb2JqLmlkXSA9IG9iajtcblxuICAgICAgdG90YWxXZWlnaHQgKz0gb2JqLndlaWdodDtcbiAgICB9KTtcblxuICAgIC8vIE5vcm1hbGl6ZSB3ZWlnaHRzIHNvIHRoYXQgdGhlaXIgc3VtIGlzIGVxdWFsIHRvIDFcbiAgICB0aGlzLl9rZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAga2V5LndlaWdodCAvPSB0b3RhbFdlaWdodDtcbiAgICB9KTtcbiAgfVxuICBnZXQoa2V5SWQpIHtcbiAgICByZXR1cm4gdGhpcy5fa2V5TWFwW2tleUlkXVxuICB9XG4gIGtleXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2tleXNcbiAgfVxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuX2tleXMpXG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlS2V5KGtleSkge1xuICBsZXQgcGF0aCA9IG51bGw7XG4gIGxldCBpZCA9IG51bGw7XG4gIGxldCBzcmMgPSBudWxsO1xuICBsZXQgd2VpZ2h0ID0gMTtcbiAgbGV0IGdldEZuID0gbnVsbDtcblxuICBpZiAoaXNTdHJpbmcoa2V5KSB8fCBpc0FycmF5KGtleSkpIHtcbiAgICBzcmMgPSBrZXk7XG4gICAgcGF0aCA9IGNyZWF0ZUtleVBhdGgoa2V5KTtcbiAgICBpZCA9IGNyZWF0ZUtleUlkKGtleSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFoYXNPd24uY2FsbChrZXksICduYW1lJykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihNSVNTSU5HX0tFWV9QUk9QRVJUWSgnbmFtZScpKVxuICAgIH1cblxuICAgIGNvbnN0IG5hbWUgPSBrZXkubmFtZTtcbiAgICBzcmMgPSBuYW1lO1xuXG4gICAgaWYgKGhhc093bi5jYWxsKGtleSwgJ3dlaWdodCcpKSB7XG4gICAgICB3ZWlnaHQgPSBrZXkud2VpZ2h0O1xuXG4gICAgICBpZiAod2VpZ2h0IDw9IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKElOVkFMSURfS0VZX1dFSUdIVF9WQUxVRShuYW1lKSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwYXRoID0gY3JlYXRlS2V5UGF0aChuYW1lKTtcbiAgICBpZCA9IGNyZWF0ZUtleUlkKG5hbWUpO1xuICAgIGdldEZuID0ga2V5LmdldEZuO1xuICB9XG5cbiAgcmV0dXJuIHsgcGF0aCwgaWQsIHdlaWdodCwgc3JjLCBnZXRGbiB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUtleVBhdGgoa2V5KSB7XG4gIHJldHVybiBpc0FycmF5KGtleSkgPyBrZXkgOiBrZXkuc3BsaXQoJy4nKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVLZXlJZChrZXkpIHtcbiAgcmV0dXJuIGlzQXJyYXkoa2V5KSA/IGtleS5qb2luKCcuJykgOiBrZXlcbn1cblxuZnVuY3Rpb24gZ2V0KG9iaiwgcGF0aCkge1xuICBsZXQgbGlzdCA9IFtdO1xuICBsZXQgYXJyID0gZmFsc2U7XG5cbiAgY29uc3QgZGVlcEdldCA9IChvYmosIHBhdGgsIGluZGV4KSA9PiB7XG4gICAgaWYgKCFpc0RlZmluZWQob2JqKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICghcGF0aFtpbmRleF0pIHtcbiAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gcGF0aCBsZWZ0LCB3ZSd2ZSBhcnJpdmVkIGF0IHRoZSBvYmplY3Qgd2UgY2FyZSBhYm91dC5cbiAgICAgIGxpc3QucHVzaChvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQga2V5ID0gcGF0aFtpbmRleF07XG5cbiAgICAgIGNvbnN0IHZhbHVlID0gb2JqW2tleV07XG5cbiAgICAgIGlmICghaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UncmUgYXQgdGhlIGxhc3QgdmFsdWUgaW4gdGhlIHBhdGgsIGFuZCBpZiBpdCdzIGEgc3RyaW5nL251bWJlci9ib29sLFxuICAgICAgLy8gYWRkIGl0IHRvIHRoZSBsaXN0XG4gICAgICBpZiAoXG4gICAgICAgIGluZGV4ID09PSBwYXRoLmxlbmd0aCAtIDEgJiZcbiAgICAgICAgKGlzU3RyaW5nKHZhbHVlKSB8fCBpc051bWJlcih2YWx1ZSkgfHwgaXNCb29sZWFuKHZhbHVlKSlcbiAgICAgICkge1xuICAgICAgICBsaXN0LnB1c2godG9TdHJpbmcodmFsdWUpKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgYXJyID0gdHJ1ZTtcbiAgICAgICAgLy8gU2VhcmNoIGVhY2ggaXRlbSBpbiB0aGUgYXJyYXkuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB2YWx1ZS5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICAgIGRlZXBHZXQodmFsdWVbaV0sIHBhdGgsIGluZGV4ICsgMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocGF0aC5sZW5ndGgpIHtcbiAgICAgICAgLy8gQW4gb2JqZWN0LiBSZWN1cnNlIGZ1cnRoZXIuXG4gICAgICAgIGRlZXBHZXQodmFsdWUsIHBhdGgsIGluZGV4ICsgMSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIEJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IChzaW5jZSBwYXRoIHVzZWQgdG8gYmUgYSBzdHJpbmcpXG4gIGRlZXBHZXQob2JqLCBpc1N0cmluZyhwYXRoKSA/IHBhdGguc3BsaXQoJy4nKSA6IHBhdGgsIDApO1xuXG4gIHJldHVybiBhcnIgPyBsaXN0IDogbGlzdFswXVxufVxuXG5jb25zdCBNYXRjaE9wdGlvbnMgPSB7XG4gIC8vIFdoZXRoZXIgdGhlIG1hdGNoZXMgc2hvdWxkIGJlIGluY2x1ZGVkIGluIHRoZSByZXN1bHQgc2V0LiBXaGVuIGB0cnVlYCwgZWFjaCByZWNvcmQgaW4gdGhlIHJlc3VsdFxuICAvLyBzZXQgd2lsbCBpbmNsdWRlIHRoZSBpbmRpY2VzIG9mIHRoZSBtYXRjaGVkIGNoYXJhY3RlcnMuXG4gIC8vIFRoZXNlIGNhbiBjb25zZXF1ZW50bHkgYmUgdXNlZCBmb3IgaGlnaGxpZ2h0aW5nIHB1cnBvc2VzLlxuICBpbmNsdWRlTWF0Y2hlczogZmFsc2UsXG4gIC8vIFdoZW4gYHRydWVgLCB0aGUgbWF0Y2hpbmcgZnVuY3Rpb24gd2lsbCBjb250aW51ZSB0byB0aGUgZW5kIG9mIGEgc2VhcmNoIHBhdHRlcm4gZXZlbiBpZlxuICAvLyBhIHBlcmZlY3QgbWF0Y2ggaGFzIGFscmVhZHkgYmVlbiBsb2NhdGVkIGluIHRoZSBzdHJpbmcuXG4gIGZpbmRBbGxNYXRjaGVzOiBmYWxzZSxcbiAgLy8gTWluaW11bSBudW1iZXIgb2YgY2hhcmFjdGVycyB0aGF0IG11c3QgYmUgbWF0Y2hlZCBiZWZvcmUgYSByZXN1bHQgaXMgY29uc2lkZXJlZCBhIG1hdGNoXG4gIG1pbk1hdGNoQ2hhckxlbmd0aDogMVxufTtcblxuY29uc3QgQmFzaWNPcHRpb25zID0ge1xuICAvLyBXaGVuIGB0cnVlYCwgdGhlIGFsZ29yaXRobSBjb250aW51ZXMgc2VhcmNoaW5nIHRvIHRoZSBlbmQgb2YgdGhlIGlucHV0IGV2ZW4gaWYgYSBwZXJmZWN0XG4gIC8vIG1hdGNoIGlzIGZvdW5kIGJlZm9yZSB0aGUgZW5kIG9mIHRoZSBzYW1lIGlucHV0LlxuICBpc0Nhc2VTZW5zaXRpdmU6IGZhbHNlLFxuICAvLyBXaGVuIHRydWUsIHRoZSBtYXRjaGluZyBmdW5jdGlvbiB3aWxsIGNvbnRpbnVlIHRvIHRoZSBlbmQgb2YgYSBzZWFyY2ggcGF0dGVybiBldmVuIGlmXG4gIGluY2x1ZGVTY29yZTogZmFsc2UsXG4gIC8vIExpc3Qgb2YgcHJvcGVydGllcyB0aGF0IHdpbGwgYmUgc2VhcmNoZWQuIFRoaXMgYWxzbyBzdXBwb3J0cyBuZXN0ZWQgcHJvcGVydGllcy5cbiAga2V5czogW10sXG4gIC8vIFdoZXRoZXIgdG8gc29ydCB0aGUgcmVzdWx0IGxpc3QsIGJ5IHNjb3JlXG4gIHNob3VsZFNvcnQ6IHRydWUsXG4gIC8vIERlZmF1bHQgc29ydCBmdW5jdGlvbjogc29ydCBieSBhc2NlbmRpbmcgc2NvcmUsIGFzY2VuZGluZyBpbmRleFxuICBzb3J0Rm46IChhLCBiKSA9PlxuICAgIGEuc2NvcmUgPT09IGIuc2NvcmUgPyAoYS5pZHggPCBiLmlkeCA/IC0xIDogMSkgOiBhLnNjb3JlIDwgYi5zY29yZSA/IC0xIDogMVxufTtcblxuY29uc3QgRnV6enlPcHRpb25zID0ge1xuICAvLyBBcHByb3hpbWF0ZWx5IHdoZXJlIGluIHRoZSB0ZXh0IGlzIHRoZSBwYXR0ZXJuIGV4cGVjdGVkIHRvIGJlIGZvdW5kP1xuICBsb2NhdGlvbjogMCxcbiAgLy8gQXQgd2hhdCBwb2ludCBkb2VzIHRoZSBtYXRjaCBhbGdvcml0aG0gZ2l2ZSB1cC4gQSB0aHJlc2hvbGQgb2YgJzAuMCcgcmVxdWlyZXMgYSBwZXJmZWN0IG1hdGNoXG4gIC8vIChvZiBib3RoIGxldHRlcnMgYW5kIGxvY2F0aW9uKSwgYSB0aHJlc2hvbGQgb2YgJzEuMCcgd291bGQgbWF0Y2ggYW55dGhpbmcuXG4gIHRocmVzaG9sZDogMC42LFxuICAvLyBEZXRlcm1pbmVzIGhvdyBjbG9zZSB0aGUgbWF0Y2ggbXVzdCBiZSB0byB0aGUgZnV6enkgbG9jYXRpb24gKHNwZWNpZmllZCBhYm92ZSkuXG4gIC8vIEFuIGV4YWN0IGxldHRlciBtYXRjaCB3aGljaCBpcyAnZGlzdGFuY2UnIGNoYXJhY3RlcnMgYXdheSBmcm9tIHRoZSBmdXp6eSBsb2NhdGlvblxuICAvLyB3b3VsZCBzY29yZSBhcyBhIGNvbXBsZXRlIG1pc21hdGNoLiBBIGRpc3RhbmNlIG9mICcwJyByZXF1aXJlcyB0aGUgbWF0Y2ggYmUgYXRcbiAgLy8gdGhlIGV4YWN0IGxvY2F0aW9uIHNwZWNpZmllZCwgYSB0aHJlc2hvbGQgb2YgJzEwMDAnIHdvdWxkIHJlcXVpcmUgYSBwZXJmZWN0IG1hdGNoXG4gIC8vIHRvIGJlIHdpdGhpbiA4MDAgY2hhcmFjdGVycyBvZiB0aGUgZnV6enkgbG9jYXRpb24gdG8gYmUgZm91bmQgdXNpbmcgYSAwLjggdGhyZXNob2xkLlxuICBkaXN0YW5jZTogMTAwXG59O1xuXG5jb25zdCBBZHZhbmNlZE9wdGlvbnMgPSB7XG4gIC8vIFdoZW4gYHRydWVgLCBpdCBlbmFibGVzIHRoZSB1c2Ugb2YgdW5peC1saWtlIHNlYXJjaCBjb21tYW5kc1xuICB1c2VFeHRlbmRlZFNlYXJjaDogZmFsc2UsXG4gIC8vIFRoZSBnZXQgZnVuY3Rpb24gdG8gdXNlIHdoZW4gZmV0Y2hpbmcgYW4gb2JqZWN0J3MgcHJvcGVydGllcy5cbiAgLy8gVGhlIGRlZmF1bHQgd2lsbCBzZWFyY2ggbmVzdGVkIHBhdGhzICppZSBmb28uYmFyLmJheipcbiAgZ2V0Rm46IGdldCxcbiAgLy8gV2hlbiBgdHJ1ZWAsIHNlYXJjaCB3aWxsIGlnbm9yZSBgbG9jYXRpb25gIGFuZCBgZGlzdGFuY2VgLCBzbyBpdCB3b24ndCBtYXR0ZXJcbiAgLy8gd2hlcmUgaW4gdGhlIHN0cmluZyB0aGUgcGF0dGVybiBhcHBlYXJzLlxuICAvLyBNb3JlIGluZm86IGh0dHBzOi8vZnVzZWpzLmlvL2NvbmNlcHRzL3Njb3JpbmctdGhlb3J5Lmh0bWwjZnV6emluZXNzLXNjb3JlXG4gIGlnbm9yZUxvY2F0aW9uOiBmYWxzZSxcbiAgLy8gV2hlbiBgdHJ1ZWAsIHRoZSBjYWxjdWxhdGlvbiBmb3IgdGhlIHJlbGV2YW5jZSBzY29yZSAodXNlZCBmb3Igc29ydGluZykgd2lsbFxuICAvLyBpZ25vcmUgdGhlIGZpZWxkLWxlbmd0aCBub3JtLlxuICAvLyBNb3JlIGluZm86IGh0dHBzOi8vZnVzZWpzLmlvL2NvbmNlcHRzL3Njb3JpbmctdGhlb3J5Lmh0bWwjZmllbGQtbGVuZ3RoLW5vcm1cbiAgaWdub3JlRmllbGROb3JtOiBmYWxzZSxcbiAgLy8gVGhlIHdlaWdodCB0byBkZXRlcm1pbmUgaG93IG11Y2ggZmllbGQgbGVuZ3RoIG5vcm0gZWZmZWN0cyBzY29yaW5nLlxuICBmaWVsZE5vcm1XZWlnaHQ6IDFcbn07XG5cbnZhciBDb25maWcgPSB7XG4gIC4uLkJhc2ljT3B0aW9ucyxcbiAgLi4uTWF0Y2hPcHRpb25zLFxuICAuLi5GdXp6eU9wdGlvbnMsXG4gIC4uLkFkdmFuY2VkT3B0aW9uc1xufTtcblxuY29uc3QgU1BBQ0UgPSAvW14gXSsvZztcblxuLy8gRmllbGQtbGVuZ3RoIG5vcm06IHRoZSBzaG9ydGVyIHRoZSBmaWVsZCwgdGhlIGhpZ2hlciB0aGUgd2VpZ2h0LlxuLy8gU2V0IHRvIDMgZGVjaW1hbHMgdG8gcmVkdWNlIGluZGV4IHNpemUuXG5mdW5jdGlvbiBub3JtKHdlaWdodCA9IDEsIG1hbnRpc3NhID0gMykge1xuICBjb25zdCBjYWNoZSA9IG5ldyBNYXAoKTtcbiAgY29uc3QgbSA9IE1hdGgucG93KDEwLCBtYW50aXNzYSk7XG5cbiAgcmV0dXJuIHtcbiAgICBnZXQodmFsdWUpIHtcbiAgICAgIGNvbnN0IG51bVRva2VucyA9IHZhbHVlLm1hdGNoKFNQQUNFKS5sZW5ndGg7XG5cbiAgICAgIGlmIChjYWNoZS5oYXMobnVtVG9rZW5zKSkge1xuICAgICAgICByZXR1cm4gY2FjaGUuZ2V0KG51bVRva2VucylcbiAgICAgIH1cblxuICAgICAgLy8gRGVmYXVsdCBmdW5jdGlvbiBpcyAxL3NxcnQoeCksIHdlaWdodCBtYWtlcyB0aGF0IHZhcmlhYmxlXG4gICAgICBjb25zdCBub3JtID0gMSAvIE1hdGgucG93KG51bVRva2VucywgMC41ICogd2VpZ2h0KTtcblxuICAgICAgLy8gSW4gcGxhY2Ugb2YgYHRvRml4ZWQobWFudGlzc2EpYCwgZm9yIGZhc3RlciBjb21wdXRhdGlvblxuICAgICAgY29uc3QgbiA9IHBhcnNlRmxvYXQoTWF0aC5yb3VuZChub3JtICogbSkgLyBtKTtcblxuICAgICAgY2FjaGUuc2V0KG51bVRva2Vucywgbik7XG5cbiAgICAgIHJldHVybiBuXG4gICAgfSxcbiAgICBjbGVhcigpIHtcbiAgICAgIGNhY2hlLmNsZWFyKCk7XG4gICAgfVxuICB9XG59XG5cbmNsYXNzIEZ1c2VJbmRleCB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBnZXRGbiA9IENvbmZpZy5nZXRGbixcbiAgICBmaWVsZE5vcm1XZWlnaHQgPSBDb25maWcuZmllbGROb3JtV2VpZ2h0XG4gIH0gPSB7fSkge1xuICAgIHRoaXMubm9ybSA9IG5vcm0oZmllbGROb3JtV2VpZ2h0LCAzKTtcbiAgICB0aGlzLmdldEZuID0gZ2V0Rm47XG4gICAgdGhpcy5pc0NyZWF0ZWQgPSBmYWxzZTtcblxuICAgIHRoaXMuc2V0SW5kZXhSZWNvcmRzKCk7XG4gIH1cbiAgc2V0U291cmNlcyhkb2NzID0gW10pIHtcbiAgICB0aGlzLmRvY3MgPSBkb2NzO1xuICB9XG4gIHNldEluZGV4UmVjb3JkcyhyZWNvcmRzID0gW10pIHtcbiAgICB0aGlzLnJlY29yZHMgPSByZWNvcmRzO1xuICB9XG4gIHNldEtleXMoa2V5cyA9IFtdKSB7XG4gICAgdGhpcy5rZXlzID0ga2V5cztcbiAgICB0aGlzLl9rZXlzTWFwID0ge307XG4gICAga2V5cy5mb3JFYWNoKChrZXksIGlkeCkgPT4ge1xuICAgICAgdGhpcy5fa2V5c01hcFtrZXkuaWRdID0gaWR4O1xuICAgIH0pO1xuICB9XG4gIGNyZWF0ZSgpIHtcbiAgICBpZiAodGhpcy5pc0NyZWF0ZWQgfHwgIXRoaXMuZG9jcy5sZW5ndGgpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuaXNDcmVhdGVkID0gdHJ1ZTtcblxuICAgIC8vIExpc3QgaXMgQXJyYXk8U3RyaW5nPlxuICAgIGlmIChpc1N0cmluZyh0aGlzLmRvY3NbMF0pKSB7XG4gICAgICB0aGlzLmRvY3MuZm9yRWFjaCgoZG9jLCBkb2NJbmRleCkgPT4ge1xuICAgICAgICB0aGlzLl9hZGRTdHJpbmcoZG9jLCBkb2NJbmRleCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTGlzdCBpcyBBcnJheTxPYmplY3Q+XG4gICAgICB0aGlzLmRvY3MuZm9yRWFjaCgoZG9jLCBkb2NJbmRleCkgPT4ge1xuICAgICAgICB0aGlzLl9hZGRPYmplY3QoZG9jLCBkb2NJbmRleCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLm5vcm0uY2xlYXIoKTtcbiAgfVxuICAvLyBBZGRzIGEgZG9jIHRvIHRoZSBlbmQgb2YgdGhlIGluZGV4XG4gIGFkZChkb2MpIHtcbiAgICBjb25zdCBpZHggPSB0aGlzLnNpemUoKTtcblxuICAgIGlmIChpc1N0cmluZyhkb2MpKSB7XG4gICAgICB0aGlzLl9hZGRTdHJpbmcoZG9jLCBpZHgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9hZGRPYmplY3QoZG9jLCBpZHgpO1xuICAgIH1cbiAgfVxuICAvLyBSZW1vdmVzIHRoZSBkb2MgYXQgdGhlIHNwZWNpZmllZCBpbmRleCBvZiB0aGUgaW5kZXhcbiAgcmVtb3ZlQXQoaWR4KSB7XG4gICAgdGhpcy5yZWNvcmRzLnNwbGljZShpZHgsIDEpO1xuXG4gICAgLy8gQ2hhbmdlIHJlZiBpbmRleCBvZiBldmVyeSBzdWJzcXVlbnQgZG9jXG4gICAgZm9yIChsZXQgaSA9IGlkeCwgbGVuID0gdGhpcy5zaXplKCk7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgdGhpcy5yZWNvcmRzW2ldLmkgLT0gMTtcbiAgICB9XG4gIH1cbiAgZ2V0VmFsdWVGb3JJdGVtQXRLZXlJZChpdGVtLCBrZXlJZCkge1xuICAgIHJldHVybiBpdGVtW3RoaXMuX2tleXNNYXBba2V5SWRdXVxuICB9XG4gIHNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVjb3Jkcy5sZW5ndGhcbiAgfVxuICBfYWRkU3RyaW5nKGRvYywgZG9jSW5kZXgpIHtcbiAgICBpZiAoIWlzRGVmaW5lZChkb2MpIHx8IGlzQmxhbmsoZG9jKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgbGV0IHJlY29yZCA9IHtcbiAgICAgIHY6IGRvYyxcbiAgICAgIGk6IGRvY0luZGV4LFxuICAgICAgbjogdGhpcy5ub3JtLmdldChkb2MpXG4gICAgfTtcblxuICAgIHRoaXMucmVjb3Jkcy5wdXNoKHJlY29yZCk7XG4gIH1cbiAgX2FkZE9iamVjdChkb2MsIGRvY0luZGV4KSB7XG4gICAgbGV0IHJlY29yZCA9IHsgaTogZG9jSW5kZXgsICQ6IHt9IH07XG5cbiAgICAvLyBJdGVyYXRlIG92ZXIgZXZlcnkga2V5IChpLmUsIHBhdGgpLCBhbmQgZmV0Y2ggdGhlIHZhbHVlIGF0IHRoYXQga2V5XG4gICAgdGhpcy5rZXlzLmZvckVhY2goKGtleSwga2V5SW5kZXgpID0+IHtcbiAgICAgIGxldCB2YWx1ZSA9IGtleS5nZXRGbiA/IGtleS5nZXRGbihkb2MpIDogdGhpcy5nZXRGbihkb2MsIGtleS5wYXRoKTtcblxuICAgICAgaWYgKCFpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgbGV0IHN1YlJlY29yZHMgPSBbXTtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBbeyBuZXN0ZWRBcnJJbmRleDogLTEsIHZhbHVlIH1dO1xuXG4gICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCB7IG5lc3RlZEFyckluZGV4LCB2YWx1ZSB9ID0gc3RhY2sucG9wKCk7XG5cbiAgICAgICAgICBpZiAoIWlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlzU3RyaW5nKHZhbHVlKSAmJiAhaXNCbGFuayh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGxldCBzdWJSZWNvcmQgPSB7XG4gICAgICAgICAgICAgIHY6IHZhbHVlLFxuICAgICAgICAgICAgICBpOiBuZXN0ZWRBcnJJbmRleCxcbiAgICAgICAgICAgICAgbjogdGhpcy5ub3JtLmdldCh2YWx1ZSlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHN1YlJlY29yZHMucHVzaChzdWJSZWNvcmQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlLmZvckVhY2goKGl0ZW0sIGspID0+IHtcbiAgICAgICAgICAgICAgc3RhY2sucHVzaCh7XG4gICAgICAgICAgICAgICAgbmVzdGVkQXJySW5kZXg6IGssXG4gICAgICAgICAgICAgICAgdmFsdWU6IGl0ZW1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgO1xuICAgICAgICB9XG4gICAgICAgIHJlY29yZC4kW2tleUluZGV4XSA9IHN1YlJlY29yZHM7XG4gICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKHZhbHVlKSAmJiAhaXNCbGFuayh2YWx1ZSkpIHtcbiAgICAgICAgbGV0IHN1YlJlY29yZCA9IHtcbiAgICAgICAgICB2OiB2YWx1ZSxcbiAgICAgICAgICBuOiB0aGlzLm5vcm0uZ2V0KHZhbHVlKVxuICAgICAgICB9O1xuXG4gICAgICAgIHJlY29yZC4kW2tleUluZGV4XSA9IHN1YlJlY29yZDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMucmVjb3Jkcy5wdXNoKHJlY29yZCk7XG4gIH1cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBrZXlzOiB0aGlzLmtleXMsXG4gICAgICByZWNvcmRzOiB0aGlzLnJlY29yZHNcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlSW5kZXgoXG4gIGtleXMsXG4gIGRvY3MsXG4gIHsgZ2V0Rm4gPSBDb25maWcuZ2V0Rm4sIGZpZWxkTm9ybVdlaWdodCA9IENvbmZpZy5maWVsZE5vcm1XZWlnaHQgfSA9IHt9XG4pIHtcbiAgY29uc3QgbXlJbmRleCA9IG5ldyBGdXNlSW5kZXgoeyBnZXRGbiwgZmllbGROb3JtV2VpZ2h0IH0pO1xuICBteUluZGV4LnNldEtleXMoa2V5cy5tYXAoY3JlYXRlS2V5KSk7XG4gIG15SW5kZXguc2V0U291cmNlcyhkb2NzKTtcbiAgbXlJbmRleC5jcmVhdGUoKTtcbiAgcmV0dXJuIG15SW5kZXhcbn1cblxuZnVuY3Rpb24gcGFyc2VJbmRleChcbiAgZGF0YSxcbiAgeyBnZXRGbiA9IENvbmZpZy5nZXRGbiwgZmllbGROb3JtV2VpZ2h0ID0gQ29uZmlnLmZpZWxkTm9ybVdlaWdodCB9ID0ge31cbikge1xuICBjb25zdCB7IGtleXMsIHJlY29yZHMgfSA9IGRhdGE7XG4gIGNvbnN0IG15SW5kZXggPSBuZXcgRnVzZUluZGV4KHsgZ2V0Rm4sIGZpZWxkTm9ybVdlaWdodCB9KTtcbiAgbXlJbmRleC5zZXRLZXlzKGtleXMpO1xuICBteUluZGV4LnNldEluZGV4UmVjb3JkcyhyZWNvcmRzKTtcbiAgcmV0dXJuIG15SW5kZXhcbn1cblxuZnVuY3Rpb24gY29tcHV0ZVNjb3JlJDEoXG4gIHBhdHRlcm4sXG4gIHtcbiAgICBlcnJvcnMgPSAwLFxuICAgIGN1cnJlbnRMb2NhdGlvbiA9IDAsXG4gICAgZXhwZWN0ZWRMb2NhdGlvbiA9IDAsXG4gICAgZGlzdGFuY2UgPSBDb25maWcuZGlzdGFuY2UsXG4gICAgaWdub3JlTG9jYXRpb24gPSBDb25maWcuaWdub3JlTG9jYXRpb25cbiAgfSA9IHt9XG4pIHtcbiAgY29uc3QgYWNjdXJhY3kgPSBlcnJvcnMgLyBwYXR0ZXJuLmxlbmd0aDtcblxuICBpZiAoaWdub3JlTG9jYXRpb24pIHtcbiAgICByZXR1cm4gYWNjdXJhY3lcbiAgfVxuXG4gIGNvbnN0IHByb3hpbWl0eSA9IE1hdGguYWJzKGV4cGVjdGVkTG9jYXRpb24gLSBjdXJyZW50TG9jYXRpb24pO1xuXG4gIGlmICghZGlzdGFuY2UpIHtcbiAgICAvLyBEb2RnZSBkaXZpZGUgYnkgemVybyBlcnJvci5cbiAgICByZXR1cm4gcHJveGltaXR5ID8gMS4wIDogYWNjdXJhY3lcbiAgfVxuXG4gIHJldHVybiBhY2N1cmFjeSArIHByb3hpbWl0eSAvIGRpc3RhbmNlXG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRNYXNrVG9JbmRpY2VzKFxuICBtYXRjaG1hc2sgPSBbXSxcbiAgbWluTWF0Y2hDaGFyTGVuZ3RoID0gQ29uZmlnLm1pbk1hdGNoQ2hhckxlbmd0aFxuKSB7XG4gIGxldCBpbmRpY2VzID0gW107XG4gIGxldCBzdGFydCA9IC0xO1xuICBsZXQgZW5kID0gLTE7XG4gIGxldCBpID0gMDtcblxuICBmb3IgKGxldCBsZW4gPSBtYXRjaG1hc2subGVuZ3RoOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICBsZXQgbWF0Y2ggPSBtYXRjaG1hc2tbaV07XG4gICAgaWYgKG1hdGNoICYmIHN0YXJ0ID09PSAtMSkge1xuICAgICAgc3RhcnQgPSBpO1xuICAgIH0gZWxzZSBpZiAoIW1hdGNoICYmIHN0YXJ0ICE9PSAtMSkge1xuICAgICAgZW5kID0gaSAtIDE7XG4gICAgICBpZiAoZW5kIC0gc3RhcnQgKyAxID49IG1pbk1hdGNoQ2hhckxlbmd0aCkge1xuICAgICAgICBpbmRpY2VzLnB1c2goW3N0YXJ0LCBlbmRdKTtcbiAgICAgIH1cbiAgICAgIHN0YXJ0ID0gLTE7XG4gICAgfVxuICB9XG5cbiAgLy8gKGktMSAtIHN0YXJ0KSArIDEgPT4gaSAtIHN0YXJ0XG4gIGlmIChtYXRjaG1hc2tbaSAtIDFdICYmIGkgLSBzdGFydCA+PSBtaW5NYXRjaENoYXJMZW5ndGgpIHtcbiAgICBpbmRpY2VzLnB1c2goW3N0YXJ0LCBpIC0gMV0pO1xuICB9XG5cbiAgcmV0dXJuIGluZGljZXNcbn1cblxuLy8gTWFjaGluZSB3b3JkIHNpemVcbmNvbnN0IE1BWF9CSVRTID0gMzI7XG5cbmZ1bmN0aW9uIHNlYXJjaChcbiAgdGV4dCxcbiAgcGF0dGVybixcbiAgcGF0dGVybkFscGhhYmV0LFxuICB7XG4gICAgbG9jYXRpb24gPSBDb25maWcubG9jYXRpb24sXG4gICAgZGlzdGFuY2UgPSBDb25maWcuZGlzdGFuY2UsXG4gICAgdGhyZXNob2xkID0gQ29uZmlnLnRocmVzaG9sZCxcbiAgICBmaW5kQWxsTWF0Y2hlcyA9IENvbmZpZy5maW5kQWxsTWF0Y2hlcyxcbiAgICBtaW5NYXRjaENoYXJMZW5ndGggPSBDb25maWcubWluTWF0Y2hDaGFyTGVuZ3RoLFxuICAgIGluY2x1ZGVNYXRjaGVzID0gQ29uZmlnLmluY2x1ZGVNYXRjaGVzLFxuICAgIGlnbm9yZUxvY2F0aW9uID0gQ29uZmlnLmlnbm9yZUxvY2F0aW9uXG4gIH0gPSB7fVxuKSB7XG4gIGlmIChwYXR0ZXJuLmxlbmd0aCA+IE1BWF9CSVRTKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFBBVFRFUk5fTEVOR1RIX1RPT19MQVJHRShNQVhfQklUUykpXG4gIH1cblxuICBjb25zdCBwYXR0ZXJuTGVuID0gcGF0dGVybi5sZW5ndGg7XG4gIC8vIFNldCBzdGFydGluZyBsb2NhdGlvbiBhdCBiZWdpbm5pbmcgdGV4dCBhbmQgaW5pdGlhbGl6ZSB0aGUgYWxwaGFiZXQuXG4gIGNvbnN0IHRleHRMZW4gPSB0ZXh0Lmxlbmd0aDtcbiAgLy8gSGFuZGxlIHRoZSBjYXNlIHdoZW4gbG9jYXRpb24gPiB0ZXh0Lmxlbmd0aFxuICBjb25zdCBleHBlY3RlZExvY2F0aW9uID0gTWF0aC5tYXgoMCwgTWF0aC5taW4obG9jYXRpb24sIHRleHRMZW4pKTtcbiAgLy8gSGlnaGVzdCBzY29yZSBiZXlvbmQgd2hpY2ggd2UgZ2l2ZSB1cC5cbiAgbGV0IGN1cnJlbnRUaHJlc2hvbGQgPSB0aHJlc2hvbGQ7XG4gIC8vIElzIHRoZXJlIGEgbmVhcmJ5IGV4YWN0IG1hdGNoPyAoc3BlZWR1cClcbiAgbGV0IGJlc3RMb2NhdGlvbiA9IGV4cGVjdGVkTG9jYXRpb247XG5cbiAgLy8gUGVyZm9ybWFuY2U6IG9ubHkgY29tcHV0ZXIgbWF0Y2hlcyB3aGVuIHRoZSBtaW5NYXRjaENoYXJMZW5ndGggPiAxXG4gIC8vIE9SIGlmIGBpbmNsdWRlTWF0Y2hlc2AgaXMgdHJ1ZS5cbiAgY29uc3QgY29tcHV0ZU1hdGNoZXMgPSBtaW5NYXRjaENoYXJMZW5ndGggPiAxIHx8IGluY2x1ZGVNYXRjaGVzO1xuICAvLyBBIG1hc2sgb2YgdGhlIG1hdGNoZXMsIHVzZWQgZm9yIGJ1aWxkaW5nIHRoZSBpbmRpY2VzXG4gIGNvbnN0IG1hdGNoTWFzayA9IGNvbXB1dGVNYXRjaGVzID8gQXJyYXkodGV4dExlbikgOiBbXTtcblxuICBsZXQgaW5kZXg7XG5cbiAgLy8gR2V0IGFsbCBleGFjdCBtYXRjaGVzLCBoZXJlIGZvciBzcGVlZCB1cFxuICB3aGlsZSAoKGluZGV4ID0gdGV4dC5pbmRleE9mKHBhdHRlcm4sIGJlc3RMb2NhdGlvbikpID4gLTEpIHtcbiAgICBsZXQgc2NvcmUgPSBjb21wdXRlU2NvcmUkMShwYXR0ZXJuLCB7XG4gICAgICBjdXJyZW50TG9jYXRpb246IGluZGV4LFxuICAgICAgZXhwZWN0ZWRMb2NhdGlvbixcbiAgICAgIGRpc3RhbmNlLFxuICAgICAgaWdub3JlTG9jYXRpb25cbiAgICB9KTtcblxuICAgIGN1cnJlbnRUaHJlc2hvbGQgPSBNYXRoLm1pbihzY29yZSwgY3VycmVudFRocmVzaG9sZCk7XG4gICAgYmVzdExvY2F0aW9uID0gaW5kZXggKyBwYXR0ZXJuTGVuO1xuXG4gICAgaWYgKGNvbXB1dGVNYXRjaGVzKSB7XG4gICAgICBsZXQgaSA9IDA7XG4gICAgICB3aGlsZSAoaSA8IHBhdHRlcm5MZW4pIHtcbiAgICAgICAgbWF0Y2hNYXNrW2luZGV4ICsgaV0gPSAxO1xuICAgICAgICBpICs9IDE7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gUmVzZXQgdGhlIGJlc3QgbG9jYXRpb25cbiAgYmVzdExvY2F0aW9uID0gLTE7XG5cbiAgbGV0IGxhc3RCaXRBcnIgPSBbXTtcbiAgbGV0IGZpbmFsU2NvcmUgPSAxO1xuICBsZXQgYmluTWF4ID0gcGF0dGVybkxlbiArIHRleHRMZW47XG5cbiAgY29uc3QgbWFzayA9IDEgPDwgKHBhdHRlcm5MZW4gLSAxKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdHRlcm5MZW47IGkgKz0gMSkge1xuICAgIC8vIFNjYW4gZm9yIHRoZSBiZXN0IG1hdGNoOyBlYWNoIGl0ZXJhdGlvbiBhbGxvd3MgZm9yIG9uZSBtb3JlIGVycm9yLlxuICAgIC8vIFJ1biBhIGJpbmFyeSBzZWFyY2ggdG8gZGV0ZXJtaW5lIGhvdyBmYXIgZnJvbSB0aGUgbWF0Y2ggbG9jYXRpb24gd2UgY2FuIHN0cmF5XG4gICAgLy8gYXQgdGhpcyBlcnJvciBsZXZlbC5cbiAgICBsZXQgYmluTWluID0gMDtcbiAgICBsZXQgYmluTWlkID0gYmluTWF4O1xuXG4gICAgd2hpbGUgKGJpbk1pbiA8IGJpbk1pZCkge1xuICAgICAgY29uc3Qgc2NvcmUgPSBjb21wdXRlU2NvcmUkMShwYXR0ZXJuLCB7XG4gICAgICAgIGVycm9yczogaSxcbiAgICAgICAgY3VycmVudExvY2F0aW9uOiBleHBlY3RlZExvY2F0aW9uICsgYmluTWlkLFxuICAgICAgICBleHBlY3RlZExvY2F0aW9uLFxuICAgICAgICBkaXN0YW5jZSxcbiAgICAgICAgaWdub3JlTG9jYXRpb25cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoc2NvcmUgPD0gY3VycmVudFRocmVzaG9sZCkge1xuICAgICAgICBiaW5NaW4gPSBiaW5NaWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiaW5NYXggPSBiaW5NaWQ7XG4gICAgICB9XG5cbiAgICAgIGJpbk1pZCA9IE1hdGguZmxvb3IoKGJpbk1heCAtIGJpbk1pbikgLyAyICsgYmluTWluKTtcbiAgICB9XG5cbiAgICAvLyBVc2UgdGhlIHJlc3VsdCBmcm9tIHRoaXMgaXRlcmF0aW9uIGFzIHRoZSBtYXhpbXVtIGZvciB0aGUgbmV4dC5cbiAgICBiaW5NYXggPSBiaW5NaWQ7XG5cbiAgICBsZXQgc3RhcnQgPSBNYXRoLm1heCgxLCBleHBlY3RlZExvY2F0aW9uIC0gYmluTWlkICsgMSk7XG4gICAgbGV0IGZpbmlzaCA9IGZpbmRBbGxNYXRjaGVzXG4gICAgICA/IHRleHRMZW5cbiAgICAgIDogTWF0aC5taW4oZXhwZWN0ZWRMb2NhdGlvbiArIGJpbk1pZCwgdGV4dExlbikgKyBwYXR0ZXJuTGVuO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgYml0IGFycmF5XG4gICAgbGV0IGJpdEFyciA9IEFycmF5KGZpbmlzaCArIDIpO1xuXG4gICAgYml0QXJyW2ZpbmlzaCArIDFdID0gKDEgPDwgaSkgLSAxO1xuXG4gICAgZm9yIChsZXQgaiA9IGZpbmlzaDsgaiA+PSBzdGFydDsgaiAtPSAxKSB7XG4gICAgICBsZXQgY3VycmVudExvY2F0aW9uID0gaiAtIDE7XG4gICAgICBsZXQgY2hhck1hdGNoID0gcGF0dGVybkFscGhhYmV0W3RleHQuY2hhckF0KGN1cnJlbnRMb2NhdGlvbildO1xuXG4gICAgICBpZiAoY29tcHV0ZU1hdGNoZXMpIHtcbiAgICAgICAgLy8gU3BlZWQgdXA6IHF1aWNrIGJvb2wgdG8gaW50IGNvbnZlcnNpb24gKGkuZSwgYGNoYXJNYXRjaCA/IDEgOiAwYClcbiAgICAgICAgbWF0Y2hNYXNrW2N1cnJlbnRMb2NhdGlvbl0gPSArISFjaGFyTWF0Y2g7XG4gICAgICB9XG5cbiAgICAgIC8vIEZpcnN0IHBhc3M6IGV4YWN0IG1hdGNoXG4gICAgICBiaXRBcnJbal0gPSAoKGJpdEFycltqICsgMV0gPDwgMSkgfCAxKSAmIGNoYXJNYXRjaDtcblxuICAgICAgLy8gU3Vic2VxdWVudCBwYXNzZXM6IGZ1enp5IG1hdGNoXG4gICAgICBpZiAoaSkge1xuICAgICAgICBiaXRBcnJbal0gfD1cbiAgICAgICAgICAoKGxhc3RCaXRBcnJbaiArIDFdIHwgbGFzdEJpdEFycltqXSkgPDwgMSkgfCAxIHwgbGFzdEJpdEFycltqICsgMV07XG4gICAgICB9XG5cbiAgICAgIGlmIChiaXRBcnJbal0gJiBtYXNrKSB7XG4gICAgICAgIGZpbmFsU2NvcmUgPSBjb21wdXRlU2NvcmUkMShwYXR0ZXJuLCB7XG4gICAgICAgICAgZXJyb3JzOiBpLFxuICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbixcbiAgICAgICAgICBleHBlY3RlZExvY2F0aW9uLFxuICAgICAgICAgIGRpc3RhbmNlLFxuICAgICAgICAgIGlnbm9yZUxvY2F0aW9uXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFRoaXMgbWF0Y2ggd2lsbCBhbG1vc3QgY2VydGFpbmx5IGJlIGJldHRlciB0aGFuIGFueSBleGlzdGluZyBtYXRjaC5cbiAgICAgICAgLy8gQnV0IGNoZWNrIGFueXdheS5cbiAgICAgICAgaWYgKGZpbmFsU2NvcmUgPD0gY3VycmVudFRocmVzaG9sZCkge1xuICAgICAgICAgIC8vIEluZGVlZCBpdCBpc1xuICAgICAgICAgIGN1cnJlbnRUaHJlc2hvbGQgPSBmaW5hbFNjb3JlO1xuICAgICAgICAgIGJlc3RMb2NhdGlvbiA9IGN1cnJlbnRMb2NhdGlvbjtcblxuICAgICAgICAgIC8vIEFscmVhZHkgcGFzc2VkIGBsb2NgLCBkb3duaGlsbCBmcm9tIGhlcmUgb24gaW4uXG4gICAgICAgICAgaWYgKGJlc3RMb2NhdGlvbiA8PSBleHBlY3RlZExvY2F0aW9uKSB7XG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFdoZW4gcGFzc2luZyBgYmVzdExvY2F0aW9uYCwgZG9uJ3QgZXhjZWVkIG91ciBjdXJyZW50IGRpc3RhbmNlIGZyb20gYGV4cGVjdGVkTG9jYXRpb25gLlxuICAgICAgICAgIHN0YXJ0ID0gTWF0aC5tYXgoMSwgMiAqIGV4cGVjdGVkTG9jYXRpb24gLSBiZXN0TG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTm8gaG9wZSBmb3IgYSAoYmV0dGVyKSBtYXRjaCBhdCBncmVhdGVyIGVycm9yIGxldmVscy5cbiAgICBjb25zdCBzY29yZSA9IGNvbXB1dGVTY29yZSQxKHBhdHRlcm4sIHtcbiAgICAgIGVycm9yczogaSArIDEsXG4gICAgICBjdXJyZW50TG9jYXRpb246IGV4cGVjdGVkTG9jYXRpb24sXG4gICAgICBleHBlY3RlZExvY2F0aW9uLFxuICAgICAgZGlzdGFuY2UsXG4gICAgICBpZ25vcmVMb2NhdGlvblxuICAgIH0pO1xuXG4gICAgaWYgKHNjb3JlID4gY3VycmVudFRocmVzaG9sZCkge1xuICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBsYXN0Qml0QXJyID0gYml0QXJyO1xuICB9XG5cbiAgY29uc3QgcmVzdWx0ID0ge1xuICAgIGlzTWF0Y2g6IGJlc3RMb2NhdGlvbiA+PSAwLFxuICAgIC8vIENvdW50IGV4YWN0IG1hdGNoZXMgKHRob3NlIHdpdGggYSBzY29yZSBvZiAwKSB0byBiZSBcImFsbW9zdFwiIGV4YWN0XG4gICAgc2NvcmU6IE1hdGgubWF4KDAuMDAxLCBmaW5hbFNjb3JlKVxuICB9O1xuXG4gIGlmIChjb21wdXRlTWF0Y2hlcykge1xuICAgIGNvbnN0IGluZGljZXMgPSBjb252ZXJ0TWFza1RvSW5kaWNlcyhtYXRjaE1hc2ssIG1pbk1hdGNoQ2hhckxlbmd0aCk7XG4gICAgaWYgKCFpbmRpY2VzLmxlbmd0aCkge1xuICAgICAgcmVzdWx0LmlzTWF0Y2ggPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKGluY2x1ZGVNYXRjaGVzKSB7XG4gICAgICByZXN1bHQuaW5kaWNlcyA9IGluZGljZXM7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5mdW5jdGlvbiBjcmVhdGVQYXR0ZXJuQWxwaGFiZXQocGF0dGVybikge1xuICBsZXQgbWFzayA9IHt9O1xuXG4gIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwYXR0ZXJuLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgY29uc3QgY2hhciA9IHBhdHRlcm4uY2hhckF0KGkpO1xuICAgIG1hc2tbY2hhcl0gPSAobWFza1tjaGFyXSB8fCAwKSB8ICgxIDw8IChsZW4gLSBpIC0gMSkpO1xuICB9XG5cbiAgcmV0dXJuIG1hc2tcbn1cblxuY2xhc3MgQml0YXBTZWFyY2gge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwYXR0ZXJuLFxuICAgIHtcbiAgICAgIGxvY2F0aW9uID0gQ29uZmlnLmxvY2F0aW9uLFxuICAgICAgdGhyZXNob2xkID0gQ29uZmlnLnRocmVzaG9sZCxcbiAgICAgIGRpc3RhbmNlID0gQ29uZmlnLmRpc3RhbmNlLFxuICAgICAgaW5jbHVkZU1hdGNoZXMgPSBDb25maWcuaW5jbHVkZU1hdGNoZXMsXG4gICAgICBmaW5kQWxsTWF0Y2hlcyA9IENvbmZpZy5maW5kQWxsTWF0Y2hlcyxcbiAgICAgIG1pbk1hdGNoQ2hhckxlbmd0aCA9IENvbmZpZy5taW5NYXRjaENoYXJMZW5ndGgsXG4gICAgICBpc0Nhc2VTZW5zaXRpdmUgPSBDb25maWcuaXNDYXNlU2Vuc2l0aXZlLFxuICAgICAgaWdub3JlTG9jYXRpb24gPSBDb25maWcuaWdub3JlTG9jYXRpb25cbiAgICB9ID0ge31cbiAgKSB7XG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgbG9jYXRpb24sXG4gICAgICB0aHJlc2hvbGQsXG4gICAgICBkaXN0YW5jZSxcbiAgICAgIGluY2x1ZGVNYXRjaGVzLFxuICAgICAgZmluZEFsbE1hdGNoZXMsXG4gICAgICBtaW5NYXRjaENoYXJMZW5ndGgsXG4gICAgICBpc0Nhc2VTZW5zaXRpdmUsXG4gICAgICBpZ25vcmVMb2NhdGlvblxuICAgIH07XG5cbiAgICB0aGlzLnBhdHRlcm4gPSBpc0Nhc2VTZW5zaXRpdmUgPyBwYXR0ZXJuIDogcGF0dGVybi50b0xvd2VyQ2FzZSgpO1xuXG4gICAgdGhpcy5jaHVua3MgPSBbXTtcblxuICAgIGlmICghdGhpcy5wYXR0ZXJuLmxlbmd0aCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgYWRkQ2h1bmsgPSAocGF0dGVybiwgc3RhcnRJbmRleCkgPT4ge1xuICAgICAgdGhpcy5jaHVua3MucHVzaCh7XG4gICAgICAgIHBhdHRlcm4sXG4gICAgICAgIGFscGhhYmV0OiBjcmVhdGVQYXR0ZXJuQWxwaGFiZXQocGF0dGVybiksXG4gICAgICAgIHN0YXJ0SW5kZXhcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBsZW4gPSB0aGlzLnBhdHRlcm4ubGVuZ3RoO1xuXG4gICAgaWYgKGxlbiA+IE1BWF9CSVRTKSB7XG4gICAgICBsZXQgaSA9IDA7XG4gICAgICBjb25zdCByZW1haW5kZXIgPSBsZW4gJSBNQVhfQklUUztcbiAgICAgIGNvbnN0IGVuZCA9IGxlbiAtIHJlbWFpbmRlcjtcblxuICAgICAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICAgICAgYWRkQ2h1bmsodGhpcy5wYXR0ZXJuLnN1YnN0cihpLCBNQVhfQklUUyksIGkpO1xuICAgICAgICBpICs9IE1BWF9CSVRTO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVtYWluZGVyKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBsZW4gLSBNQVhfQklUUztcbiAgICAgICAgYWRkQ2h1bmsodGhpcy5wYXR0ZXJuLnN1YnN0cihzdGFydEluZGV4KSwgc3RhcnRJbmRleCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFkZENodW5rKHRoaXMucGF0dGVybiwgMCk7XG4gICAgfVxuICB9XG5cbiAgc2VhcmNoSW4odGV4dCkge1xuICAgIGNvbnN0IHsgaXNDYXNlU2Vuc2l0aXZlLCBpbmNsdWRlTWF0Y2hlcyB9ID0gdGhpcy5vcHRpb25zO1xuXG4gICAgaWYgKCFpc0Nhc2VTZW5zaXRpdmUpIHtcbiAgICAgIHRleHQgPSB0ZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLy8gRXhhY3QgbWF0Y2hcbiAgICBpZiAodGhpcy5wYXR0ZXJuID09PSB0ZXh0KSB7XG4gICAgICBsZXQgcmVzdWx0ID0ge1xuICAgICAgICBpc01hdGNoOiB0cnVlLFxuICAgICAgICBzY29yZTogMFxuICAgICAgfTtcblxuICAgICAgaWYgKGluY2x1ZGVNYXRjaGVzKSB7XG4gICAgICAgIHJlc3VsdC5pbmRpY2VzID0gW1swLCB0ZXh0Lmxlbmd0aCAtIDFdXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cblxuICAgIC8vIE90aGVyd2lzZSwgdXNlIEJpdGFwIGFsZ29yaXRobVxuICAgIGNvbnN0IHtcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgZGlzdGFuY2UsXG4gICAgICB0aHJlc2hvbGQsXG4gICAgICBmaW5kQWxsTWF0Y2hlcyxcbiAgICAgIG1pbk1hdGNoQ2hhckxlbmd0aCxcbiAgICAgIGlnbm9yZUxvY2F0aW9uXG4gICAgfSA9IHRoaXMub3B0aW9ucztcblxuICAgIGxldCBhbGxJbmRpY2VzID0gW107XG4gICAgbGV0IHRvdGFsU2NvcmUgPSAwO1xuICAgIGxldCBoYXNNYXRjaGVzID0gZmFsc2U7XG5cbiAgICB0aGlzLmNodW5rcy5mb3JFYWNoKCh7IHBhdHRlcm4sIGFscGhhYmV0LCBzdGFydEluZGV4IH0pID0+IHtcbiAgICAgIGNvbnN0IHsgaXNNYXRjaCwgc2NvcmUsIGluZGljZXMgfSA9IHNlYXJjaCh0ZXh0LCBwYXR0ZXJuLCBhbHBoYWJldCwge1xuICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24gKyBzdGFydEluZGV4LFxuICAgICAgICBkaXN0YW5jZSxcbiAgICAgICAgdGhyZXNob2xkLFxuICAgICAgICBmaW5kQWxsTWF0Y2hlcyxcbiAgICAgICAgbWluTWF0Y2hDaGFyTGVuZ3RoLFxuICAgICAgICBpbmNsdWRlTWF0Y2hlcyxcbiAgICAgICAgaWdub3JlTG9jYXRpb25cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoaXNNYXRjaCkge1xuICAgICAgICBoYXNNYXRjaGVzID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdG90YWxTY29yZSArPSBzY29yZTtcblxuICAgICAgaWYgKGlzTWF0Y2ggJiYgaW5kaWNlcykge1xuICAgICAgICBhbGxJbmRpY2VzID0gWy4uLmFsbEluZGljZXMsIC4uLmluZGljZXNdO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbGV0IHJlc3VsdCA9IHtcbiAgICAgIGlzTWF0Y2g6IGhhc01hdGNoZXMsXG4gICAgICBzY29yZTogaGFzTWF0Y2hlcyA/IHRvdGFsU2NvcmUgLyB0aGlzLmNodW5rcy5sZW5ndGggOiAxXG4gICAgfTtcblxuICAgIGlmIChoYXNNYXRjaGVzICYmIGluY2x1ZGVNYXRjaGVzKSB7XG4gICAgICByZXN1bHQuaW5kaWNlcyA9IGFsbEluZGljZXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG59XG5cbmNsYXNzIEJhc2VNYXRjaCB7XG4gIGNvbnN0cnVjdG9yKHBhdHRlcm4pIHtcbiAgICB0aGlzLnBhdHRlcm4gPSBwYXR0ZXJuO1xuICB9XG4gIHN0YXRpYyBpc011bHRpTWF0Y2gocGF0dGVybikge1xuICAgIHJldHVybiBnZXRNYXRjaChwYXR0ZXJuLCB0aGlzLm11bHRpUmVnZXgpXG4gIH1cbiAgc3RhdGljIGlzU2luZ2xlTWF0Y2gocGF0dGVybikge1xuICAgIHJldHVybiBnZXRNYXRjaChwYXR0ZXJuLCB0aGlzLnNpbmdsZVJlZ2V4KVxuICB9XG4gIHNlYXJjaCgvKnRleHQqLykge31cbn1cblxuZnVuY3Rpb24gZ2V0TWF0Y2gocGF0dGVybiwgZXhwKSB7XG4gIGNvbnN0IG1hdGNoZXMgPSBwYXR0ZXJuLm1hdGNoKGV4cCk7XG4gIHJldHVybiBtYXRjaGVzID8gbWF0Y2hlc1sxXSA6IG51bGxcbn1cblxuLy8gVG9rZW46ICdmaWxlXG5cbmNsYXNzIEV4YWN0TWF0Y2ggZXh0ZW5kcyBCYXNlTWF0Y2gge1xuICBjb25zdHJ1Y3RvcihwYXR0ZXJuKSB7XG4gICAgc3VwZXIocGF0dGVybik7XG4gIH1cbiAgc3RhdGljIGdldCB0eXBlKCkge1xuICAgIHJldHVybiAnZXhhY3QnXG4gIH1cbiAgc3RhdGljIGdldCBtdWx0aVJlZ2V4KCkge1xuICAgIHJldHVybiAvXj1cIiguKilcIiQvXG4gIH1cbiAgc3RhdGljIGdldCBzaW5nbGVSZWdleCgpIHtcbiAgICByZXR1cm4gL149KC4qKSQvXG4gIH1cbiAgc2VhcmNoKHRleHQpIHtcbiAgICBjb25zdCBpc01hdGNoID0gdGV4dCA9PT0gdGhpcy5wYXR0ZXJuO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlzTWF0Y2gsXG4gICAgICBzY29yZTogaXNNYXRjaCA/IDAgOiAxLFxuICAgICAgaW5kaWNlczogWzAsIHRoaXMucGF0dGVybi5sZW5ndGggLSAxXVxuICAgIH1cbiAgfVxufVxuXG4vLyBUb2tlbjogIWZpcmVcblxuY2xhc3MgSW52ZXJzZUV4YWN0TWF0Y2ggZXh0ZW5kcyBCYXNlTWF0Y2gge1xuICBjb25zdHJ1Y3RvcihwYXR0ZXJuKSB7XG4gICAgc3VwZXIocGF0dGVybik7XG4gIH1cbiAgc3RhdGljIGdldCB0eXBlKCkge1xuICAgIHJldHVybiAnaW52ZXJzZS1leGFjdCdcbiAgfVxuICBzdGF0aWMgZ2V0IG11bHRpUmVnZXgoKSB7XG4gICAgcmV0dXJuIC9eIVwiKC4qKVwiJC9cbiAgfVxuICBzdGF0aWMgZ2V0IHNpbmdsZVJlZ2V4KCkge1xuICAgIHJldHVybiAvXiEoLiopJC9cbiAgfVxuICBzZWFyY2godGV4dCkge1xuICAgIGNvbnN0IGluZGV4ID0gdGV4dC5pbmRleE9mKHRoaXMucGF0dGVybik7XG4gICAgY29uc3QgaXNNYXRjaCA9IGluZGV4ID09PSAtMTtcblxuICAgIHJldHVybiB7XG4gICAgICBpc01hdGNoLFxuICAgICAgc2NvcmU6IGlzTWF0Y2ggPyAwIDogMSxcbiAgICAgIGluZGljZXM6IFswLCB0ZXh0Lmxlbmd0aCAtIDFdXG4gICAgfVxuICB9XG59XG5cbi8vIFRva2VuOiBeZmlsZVxuXG5jbGFzcyBQcmVmaXhFeGFjdE1hdGNoIGV4dGVuZHMgQmFzZU1hdGNoIHtcbiAgY29uc3RydWN0b3IocGF0dGVybikge1xuICAgIHN1cGVyKHBhdHRlcm4pO1xuICB9XG4gIHN0YXRpYyBnZXQgdHlwZSgpIHtcbiAgICByZXR1cm4gJ3ByZWZpeC1leGFjdCdcbiAgfVxuICBzdGF0aWMgZ2V0IG11bHRpUmVnZXgoKSB7XG4gICAgcmV0dXJuIC9eXFxeXCIoLiopXCIkL1xuICB9XG4gIHN0YXRpYyBnZXQgc2luZ2xlUmVnZXgoKSB7XG4gICAgcmV0dXJuIC9eXFxeKC4qKSQvXG4gIH1cbiAgc2VhcmNoKHRleHQpIHtcbiAgICBjb25zdCBpc01hdGNoID0gdGV4dC5zdGFydHNXaXRoKHRoaXMucGF0dGVybik7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaXNNYXRjaCxcbiAgICAgIHNjb3JlOiBpc01hdGNoID8gMCA6IDEsXG4gICAgICBpbmRpY2VzOiBbMCwgdGhpcy5wYXR0ZXJuLmxlbmd0aCAtIDFdXG4gICAgfVxuICB9XG59XG5cbi8vIFRva2VuOiAhXmZpcmVcblxuY2xhc3MgSW52ZXJzZVByZWZpeEV4YWN0TWF0Y2ggZXh0ZW5kcyBCYXNlTWF0Y2gge1xuICBjb25zdHJ1Y3RvcihwYXR0ZXJuKSB7XG4gICAgc3VwZXIocGF0dGVybik7XG4gIH1cbiAgc3RhdGljIGdldCB0eXBlKCkge1xuICAgIHJldHVybiAnaW52ZXJzZS1wcmVmaXgtZXhhY3QnXG4gIH1cbiAgc3RhdGljIGdldCBtdWx0aVJlZ2V4KCkge1xuICAgIHJldHVybiAvXiFcXF5cIiguKilcIiQvXG4gIH1cbiAgc3RhdGljIGdldCBzaW5nbGVSZWdleCgpIHtcbiAgICByZXR1cm4gL14hXFxeKC4qKSQvXG4gIH1cbiAgc2VhcmNoKHRleHQpIHtcbiAgICBjb25zdCBpc01hdGNoID0gIXRleHQuc3RhcnRzV2l0aCh0aGlzLnBhdHRlcm4pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlzTWF0Y2gsXG4gICAgICBzY29yZTogaXNNYXRjaCA/IDAgOiAxLFxuICAgICAgaW5kaWNlczogWzAsIHRleHQubGVuZ3RoIC0gMV1cbiAgICB9XG4gIH1cbn1cblxuLy8gVG9rZW46IC5maWxlJFxuXG5jbGFzcyBTdWZmaXhFeGFjdE1hdGNoIGV4dGVuZHMgQmFzZU1hdGNoIHtcbiAgY29uc3RydWN0b3IocGF0dGVybikge1xuICAgIHN1cGVyKHBhdHRlcm4pO1xuICB9XG4gIHN0YXRpYyBnZXQgdHlwZSgpIHtcbiAgICByZXR1cm4gJ3N1ZmZpeC1leGFjdCdcbiAgfVxuICBzdGF0aWMgZ2V0IG11bHRpUmVnZXgoKSB7XG4gICAgcmV0dXJuIC9eXCIoLiopXCJcXCQkL1xuICB9XG4gIHN0YXRpYyBnZXQgc2luZ2xlUmVnZXgoKSB7XG4gICAgcmV0dXJuIC9eKC4qKVxcJCQvXG4gIH1cbiAgc2VhcmNoKHRleHQpIHtcbiAgICBjb25zdCBpc01hdGNoID0gdGV4dC5lbmRzV2l0aCh0aGlzLnBhdHRlcm4pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlzTWF0Y2gsXG4gICAgICBzY29yZTogaXNNYXRjaCA/IDAgOiAxLFxuICAgICAgaW5kaWNlczogW3RleHQubGVuZ3RoIC0gdGhpcy5wYXR0ZXJuLmxlbmd0aCwgdGV4dC5sZW5ndGggLSAxXVxuICAgIH1cbiAgfVxufVxuXG4vLyBUb2tlbjogIS5maWxlJFxuXG5jbGFzcyBJbnZlcnNlU3VmZml4RXhhY3RNYXRjaCBleHRlbmRzIEJhc2VNYXRjaCB7XG4gIGNvbnN0cnVjdG9yKHBhdHRlcm4pIHtcbiAgICBzdXBlcihwYXR0ZXJuKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHR5cGUoKSB7XG4gICAgcmV0dXJuICdpbnZlcnNlLXN1ZmZpeC1leGFjdCdcbiAgfVxuICBzdGF0aWMgZ2V0IG11bHRpUmVnZXgoKSB7XG4gICAgcmV0dXJuIC9eIVwiKC4qKVwiXFwkJC9cbiAgfVxuICBzdGF0aWMgZ2V0IHNpbmdsZVJlZ2V4KCkge1xuICAgIHJldHVybiAvXiEoLiopXFwkJC9cbiAgfVxuICBzZWFyY2godGV4dCkge1xuICAgIGNvbnN0IGlzTWF0Y2ggPSAhdGV4dC5lbmRzV2l0aCh0aGlzLnBhdHRlcm4pO1xuICAgIHJldHVybiB7XG4gICAgICBpc01hdGNoLFxuICAgICAgc2NvcmU6IGlzTWF0Y2ggPyAwIDogMSxcbiAgICAgIGluZGljZXM6IFswLCB0ZXh0Lmxlbmd0aCAtIDFdXG4gICAgfVxuICB9XG59XG5cbmNsYXNzIEZ1enp5TWF0Y2ggZXh0ZW5kcyBCYXNlTWF0Y2gge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwYXR0ZXJuLFxuICAgIHtcbiAgICAgIGxvY2F0aW9uID0gQ29uZmlnLmxvY2F0aW9uLFxuICAgICAgdGhyZXNob2xkID0gQ29uZmlnLnRocmVzaG9sZCxcbiAgICAgIGRpc3RhbmNlID0gQ29uZmlnLmRpc3RhbmNlLFxuICAgICAgaW5jbHVkZU1hdGNoZXMgPSBDb25maWcuaW5jbHVkZU1hdGNoZXMsXG4gICAgICBmaW5kQWxsTWF0Y2hlcyA9IENvbmZpZy5maW5kQWxsTWF0Y2hlcyxcbiAgICAgIG1pbk1hdGNoQ2hhckxlbmd0aCA9IENvbmZpZy5taW5NYXRjaENoYXJMZW5ndGgsXG4gICAgICBpc0Nhc2VTZW5zaXRpdmUgPSBDb25maWcuaXNDYXNlU2Vuc2l0aXZlLFxuICAgICAgaWdub3JlTG9jYXRpb24gPSBDb25maWcuaWdub3JlTG9jYXRpb25cbiAgICB9ID0ge31cbiAgKSB7XG4gICAgc3VwZXIocGF0dGVybik7XG4gICAgdGhpcy5fYml0YXBTZWFyY2ggPSBuZXcgQml0YXBTZWFyY2gocGF0dGVybiwge1xuICAgICAgbG9jYXRpb24sXG4gICAgICB0aHJlc2hvbGQsXG4gICAgICBkaXN0YW5jZSxcbiAgICAgIGluY2x1ZGVNYXRjaGVzLFxuICAgICAgZmluZEFsbE1hdGNoZXMsXG4gICAgICBtaW5NYXRjaENoYXJMZW5ndGgsXG4gICAgICBpc0Nhc2VTZW5zaXRpdmUsXG4gICAgICBpZ25vcmVMb2NhdGlvblxuICAgIH0pO1xuICB9XG4gIHN0YXRpYyBnZXQgdHlwZSgpIHtcbiAgICByZXR1cm4gJ2Z1enp5J1xuICB9XG4gIHN0YXRpYyBnZXQgbXVsdGlSZWdleCgpIHtcbiAgICByZXR1cm4gL15cIiguKilcIiQvXG4gIH1cbiAgc3RhdGljIGdldCBzaW5nbGVSZWdleCgpIHtcbiAgICByZXR1cm4gL14oLiopJC9cbiAgfVxuICBzZWFyY2godGV4dCkge1xuICAgIHJldHVybiB0aGlzLl9iaXRhcFNlYXJjaC5zZWFyY2hJbih0ZXh0KVxuICB9XG59XG5cbi8vIFRva2VuOiAnZmlsZVxuXG5jbGFzcyBJbmNsdWRlTWF0Y2ggZXh0ZW5kcyBCYXNlTWF0Y2gge1xuICBjb25zdHJ1Y3RvcihwYXR0ZXJuKSB7XG4gICAgc3VwZXIocGF0dGVybik7XG4gIH1cbiAgc3RhdGljIGdldCB0eXBlKCkge1xuICAgIHJldHVybiAnaW5jbHVkZSdcbiAgfVxuICBzdGF0aWMgZ2V0IG11bHRpUmVnZXgoKSB7XG4gICAgcmV0dXJuIC9eJ1wiKC4qKVwiJC9cbiAgfVxuICBzdGF0aWMgZ2V0IHNpbmdsZVJlZ2V4KCkge1xuICAgIHJldHVybiAvXicoLiopJC9cbiAgfVxuICBzZWFyY2godGV4dCkge1xuICAgIGxldCBsb2NhdGlvbiA9IDA7XG4gICAgbGV0IGluZGV4O1xuXG4gICAgY29uc3QgaW5kaWNlcyA9IFtdO1xuICAgIGNvbnN0IHBhdHRlcm5MZW4gPSB0aGlzLnBhdHRlcm4ubGVuZ3RoO1xuXG4gICAgLy8gR2V0IGFsbCBleGFjdCBtYXRjaGVzXG4gICAgd2hpbGUgKChpbmRleCA9IHRleHQuaW5kZXhPZih0aGlzLnBhdHRlcm4sIGxvY2F0aW9uKSkgPiAtMSkge1xuICAgICAgbG9jYXRpb24gPSBpbmRleCArIHBhdHRlcm5MZW47XG4gICAgICBpbmRpY2VzLnB1c2goW2luZGV4LCBsb2NhdGlvbiAtIDFdKTtcbiAgICB9XG5cbiAgICBjb25zdCBpc01hdGNoID0gISFpbmRpY2VzLmxlbmd0aDtcblxuICAgIHJldHVybiB7XG4gICAgICBpc01hdGNoLFxuICAgICAgc2NvcmU6IGlzTWF0Y2ggPyAwIDogMSxcbiAgICAgIGluZGljZXNcbiAgICB9XG4gIH1cbn1cblxuLy8gXHUyNzU3T3JkZXIgaXMgaW1wb3J0YW50LiBETyBOT1QgQ0hBTkdFLlxuY29uc3Qgc2VhcmNoZXJzID0gW1xuICBFeGFjdE1hdGNoLFxuICBJbmNsdWRlTWF0Y2gsXG4gIFByZWZpeEV4YWN0TWF0Y2gsXG4gIEludmVyc2VQcmVmaXhFeGFjdE1hdGNoLFxuICBJbnZlcnNlU3VmZml4RXhhY3RNYXRjaCxcbiAgU3VmZml4RXhhY3RNYXRjaCxcbiAgSW52ZXJzZUV4YWN0TWF0Y2gsXG4gIEZ1enp5TWF0Y2hcbl07XG5cbmNvbnN0IHNlYXJjaGVyc0xlbiA9IHNlYXJjaGVycy5sZW5ndGg7XG5cbi8vIFJlZ2V4IHRvIHNwbGl0IGJ5IHNwYWNlcywgYnV0IGtlZXAgYW55dGhpbmcgaW4gcXVvdGVzIHRvZ2V0aGVyXG5jb25zdCBTUEFDRV9SRSA9IC8gKyg/PSg/OlteXFxcIl0qXFxcIlteXFxcIl0qXFxcIikqW15cXFwiXSokKS87XG5jb25zdCBPUl9UT0tFTiA9ICd8JztcblxuLy8gUmV0dXJuIGEgMkQgYXJyYXkgcmVwcmVzZW50YXRpb24gb2YgdGhlIHF1ZXJ5LCBmb3Igc2ltcGxlciBwYXJzaW5nLlxuLy8gRXhhbXBsZTpcbi8vIFwiXmNvcmUgZ28kIHwgcmIkIHwgcHkkIHh5JFwiID0+IFtbXCJeY29yZVwiLCBcImdvJFwiXSwgW1wicmIkXCJdLCBbXCJweSRcIiwgXCJ4eSRcIl1dXG5mdW5jdGlvbiBwYXJzZVF1ZXJ5KHBhdHRlcm4sIG9wdGlvbnMgPSB7fSkge1xuICByZXR1cm4gcGF0dGVybi5zcGxpdChPUl9UT0tFTikubWFwKChpdGVtKSA9PiB7XG4gICAgbGV0IHF1ZXJ5ID0gaXRlbVxuICAgICAgLnRyaW0oKVxuICAgICAgLnNwbGl0KFNQQUNFX1JFKVxuICAgICAgLmZpbHRlcigoaXRlbSkgPT4gaXRlbSAmJiAhIWl0ZW0udHJpbSgpKTtcblxuICAgIGxldCByZXN1bHRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHF1ZXJ5Lmxlbmd0aDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICBjb25zdCBxdWVyeUl0ZW0gPSBxdWVyeVtpXTtcblxuICAgICAgLy8gMS4gSGFuZGxlIG11bHRpcGxlIHF1ZXJ5IG1hdGNoIChpLmUsIG9uY2UgdGhhdCBhcmUgcXVvdGVkLCBsaWtlIGBcImhlbGxvIHdvcmxkXCJgKVxuICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICBsZXQgaWR4ID0gLTE7XG4gICAgICB3aGlsZSAoIWZvdW5kICYmICsraWR4IDwgc2VhcmNoZXJzTGVuKSB7XG4gICAgICAgIGNvbnN0IHNlYXJjaGVyID0gc2VhcmNoZXJzW2lkeF07XG4gICAgICAgIGxldCB0b2tlbiA9IHNlYXJjaGVyLmlzTXVsdGlNYXRjaChxdWVyeUl0ZW0pO1xuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2gobmV3IHNlYXJjaGVyKHRva2VuLCBvcHRpb25zKSk7XG4gICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyAyLiBIYW5kbGUgc2luZ2xlIHF1ZXJ5IG1hdGNoZXMgKGkuZSwgb25jZSB0aGF0IGFyZSAqbm90KiBxdW90ZWQpXG4gICAgICBpZHggPSAtMTtcbiAgICAgIHdoaWxlICgrK2lkeCA8IHNlYXJjaGVyc0xlbikge1xuICAgICAgICBjb25zdCBzZWFyY2hlciA9IHNlYXJjaGVyc1tpZHhdO1xuICAgICAgICBsZXQgdG9rZW4gPSBzZWFyY2hlci5pc1NpbmdsZU1hdGNoKHF1ZXJ5SXRlbSk7XG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgc2VhcmNoZXIodG9rZW4sIG9wdGlvbnMpKTtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdHNcbiAgfSlcbn1cblxuLy8gVGhlc2UgZXh0ZW5kZWQgbWF0Y2hlcnMgY2FuIHJldHVybiBhbiBhcnJheSBvZiBtYXRjaGVzLCBhcyBvcHBvc2VkXG4vLyB0byBhIHNpbmdsIG1hdGNoXG5jb25zdCBNdWx0aU1hdGNoU2V0ID0gbmV3IFNldChbRnV6enlNYXRjaC50eXBlLCBJbmNsdWRlTWF0Y2gudHlwZV0pO1xuXG4vKipcbiAqIENvbW1hbmQtbGlrZSBzZWFyY2hpbmdcbiAqID09PT09PT09PT09PT09PT09PT09PT1cbiAqXG4gKiBHaXZlbiBtdWx0aXBsZSBzZWFyY2ggdGVybXMgZGVsaW1pdGVkIGJ5IHNwYWNlcy5lLmcuIGBeanNjcmlwdCAucHl0aG9uJCBydWJ5ICFqYXZhYCxcbiAqIHNlYXJjaCBpbiBhIGdpdmVuIHRleHQuXG4gKlxuICogU2VhcmNoIHN5bnRheDpcbiAqXG4gKiB8IFRva2VuICAgICAgIHwgTWF0Y2ggdHlwZSAgICAgICAgICAgICAgICAgfCBEZXNjcmlwdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IC0tLS0tLS0tLS0tIHwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gfCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB8XG4gKiB8IGBqc2NyaXB0YCAgIHwgZnV6enktbWF0Y2ggICAgICAgICAgICAgICAgfCBJdGVtcyB0aGF0IGZ1enp5IG1hdGNoIGBqc2NyaXB0YCAgICAgICB8XG4gKiB8IGA9c2NoZW1lYCAgIHwgZXhhY3QtbWF0Y2ggICAgICAgICAgICAgICAgfCBJdGVtcyB0aGF0IGFyZSBgc2NoZW1lYCAgICAgICAgICAgICAgICB8XG4gKiB8IGAncHl0aG9uYCAgIHwgaW5jbHVkZS1tYXRjaCAgICAgICAgICAgICAgfCBJdGVtcyB0aGF0IGluY2x1ZGUgYHB5dGhvbmAgICAgICAgICAgICB8XG4gKiB8IGAhcnVieWAgICAgIHwgaW52ZXJzZS1leGFjdC1tYXRjaCAgICAgICAgfCBJdGVtcyB0aGF0IGRvIG5vdCBpbmNsdWRlIGBydWJ5YCAgICAgICB8XG4gKiB8IGBeamF2YWAgICAgIHwgcHJlZml4LWV4YWN0LW1hdGNoICAgICAgICAgfCBJdGVtcyB0aGF0IHN0YXJ0IHdpdGggYGphdmFgICAgICAgICAgICB8XG4gKiB8IGAhXmVhcmxhbmdgIHwgaW52ZXJzZS1wcmVmaXgtZXhhY3QtbWF0Y2ggfCBJdGVtcyB0aGF0IGRvIG5vdCBzdGFydCB3aXRoIGBlYXJsYW5nYCB8XG4gKiB8IGAuanMkYCAgICAgIHwgc3VmZml4LWV4YWN0LW1hdGNoICAgICAgICAgfCBJdGVtcyB0aGF0IGVuZCB3aXRoIGAuanNgICAgICAgICAgICAgICB8XG4gKiB8IGAhLmdvJGAgICAgIHwgaW52ZXJzZS1zdWZmaXgtZXhhY3QtbWF0Y2ggfCBJdGVtcyB0aGF0IGRvIG5vdCBlbmQgd2l0aCBgLmdvYCAgICAgICB8XG4gKlxuICogQSBzaW5nbGUgcGlwZSBjaGFyYWN0ZXIgYWN0cyBhcyBhbiBPUiBvcGVyYXRvci4gRm9yIGV4YW1wbGUsIHRoZSBmb2xsb3dpbmdcbiAqIHF1ZXJ5IG1hdGNoZXMgZW50cmllcyB0aGF0IHN0YXJ0IHdpdGggYGNvcmVgIGFuZCBlbmQgd2l0aCBlaXRoZXJgZ29gLCBgcmJgLFxuICogb3JgcHlgLlxuICpcbiAqIGBgYFxuICogXmNvcmUgZ28kIHwgcmIkIHwgcHkkXG4gKiBgYGBcbiAqL1xuY2xhc3MgRXh0ZW5kZWRTZWFyY2gge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwYXR0ZXJuLFxuICAgIHtcbiAgICAgIGlzQ2FzZVNlbnNpdGl2ZSA9IENvbmZpZy5pc0Nhc2VTZW5zaXRpdmUsXG4gICAgICBpbmNsdWRlTWF0Y2hlcyA9IENvbmZpZy5pbmNsdWRlTWF0Y2hlcyxcbiAgICAgIG1pbk1hdGNoQ2hhckxlbmd0aCA9IENvbmZpZy5taW5NYXRjaENoYXJMZW5ndGgsXG4gICAgICBpZ25vcmVMb2NhdGlvbiA9IENvbmZpZy5pZ25vcmVMb2NhdGlvbixcbiAgICAgIGZpbmRBbGxNYXRjaGVzID0gQ29uZmlnLmZpbmRBbGxNYXRjaGVzLFxuICAgICAgbG9jYXRpb24gPSBDb25maWcubG9jYXRpb24sXG4gICAgICB0aHJlc2hvbGQgPSBDb25maWcudGhyZXNob2xkLFxuICAgICAgZGlzdGFuY2UgPSBDb25maWcuZGlzdGFuY2VcbiAgICB9ID0ge31cbiAgKSB7XG4gICAgdGhpcy5xdWVyeSA9IG51bGw7XG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgaXNDYXNlU2Vuc2l0aXZlLFxuICAgICAgaW5jbHVkZU1hdGNoZXMsXG4gICAgICBtaW5NYXRjaENoYXJMZW5ndGgsXG4gICAgICBmaW5kQWxsTWF0Y2hlcyxcbiAgICAgIGlnbm9yZUxvY2F0aW9uLFxuICAgICAgbG9jYXRpb24sXG4gICAgICB0aHJlc2hvbGQsXG4gICAgICBkaXN0YW5jZVxuICAgIH07XG5cbiAgICB0aGlzLnBhdHRlcm4gPSBpc0Nhc2VTZW5zaXRpdmUgPyBwYXR0ZXJuIDogcGF0dGVybi50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMucXVlcnkgPSBwYXJzZVF1ZXJ5KHRoaXMucGF0dGVybiwgdGhpcy5vcHRpb25zKTtcbiAgfVxuXG4gIHN0YXRpYyBjb25kaXRpb24oXywgb3B0aW9ucykge1xuICAgIHJldHVybiBvcHRpb25zLnVzZUV4dGVuZGVkU2VhcmNoXG4gIH1cblxuICBzZWFyY2hJbih0ZXh0KSB7XG4gICAgY29uc3QgcXVlcnkgPSB0aGlzLnF1ZXJ5O1xuXG4gICAgaWYgKCFxdWVyeSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNNYXRjaDogZmFsc2UsXG4gICAgICAgIHNjb3JlOiAxXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgeyBpbmNsdWRlTWF0Y2hlcywgaXNDYXNlU2Vuc2l0aXZlIH0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICB0ZXh0ID0gaXNDYXNlU2Vuc2l0aXZlID8gdGV4dCA6IHRleHQudG9Mb3dlckNhc2UoKTtcblxuICAgIGxldCBudW1NYXRjaGVzID0gMDtcbiAgICBsZXQgYWxsSW5kaWNlcyA9IFtdO1xuICAgIGxldCB0b3RhbFNjb3JlID0gMDtcblxuICAgIC8vIE9Sc1xuICAgIGZvciAobGV0IGkgPSAwLCBxTGVuID0gcXVlcnkubGVuZ3RoOyBpIDwgcUxlbjsgaSArPSAxKSB7XG4gICAgICBjb25zdCBzZWFyY2hlcnMgPSBxdWVyeVtpXTtcblxuICAgICAgLy8gUmVzZXQgaW5kaWNlc1xuICAgICAgYWxsSW5kaWNlcy5sZW5ndGggPSAwO1xuICAgICAgbnVtTWF0Y2hlcyA9IDA7XG5cbiAgICAgIC8vIEFORHNcbiAgICAgIGZvciAobGV0IGogPSAwLCBwTGVuID0gc2VhcmNoZXJzLmxlbmd0aDsgaiA8IHBMZW47IGogKz0gMSkge1xuICAgICAgICBjb25zdCBzZWFyY2hlciA9IHNlYXJjaGVyc1tqXTtcbiAgICAgICAgY29uc3QgeyBpc01hdGNoLCBpbmRpY2VzLCBzY29yZSB9ID0gc2VhcmNoZXIuc2VhcmNoKHRleHQpO1xuXG4gICAgICAgIGlmIChpc01hdGNoKSB7XG4gICAgICAgICAgbnVtTWF0Y2hlcyArPSAxO1xuICAgICAgICAgIHRvdGFsU2NvcmUgKz0gc2NvcmU7XG4gICAgICAgICAgaWYgKGluY2x1ZGVNYXRjaGVzKSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gc2VhcmNoZXIuY29uc3RydWN0b3IudHlwZTtcbiAgICAgICAgICAgIGlmIChNdWx0aU1hdGNoU2V0Lmhhcyh0eXBlKSkge1xuICAgICAgICAgICAgICBhbGxJbmRpY2VzID0gWy4uLmFsbEluZGljZXMsIC4uLmluZGljZXNdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYWxsSW5kaWNlcy5wdXNoKGluZGljZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0b3RhbFNjb3JlID0gMDtcbiAgICAgICAgICBudW1NYXRjaGVzID0gMDtcbiAgICAgICAgICBhbGxJbmRpY2VzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBPUiBjb25kaXRpb24sIHNvIGlmIFRSVUUsIHJldHVyblxuICAgICAgaWYgKG51bU1hdGNoZXMpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHtcbiAgICAgICAgICBpc01hdGNoOiB0cnVlLFxuICAgICAgICAgIHNjb3JlOiB0b3RhbFNjb3JlIC8gbnVtTWF0Y2hlc1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpbmNsdWRlTWF0Y2hlcykge1xuICAgICAgICAgIHJlc3VsdC5pbmRpY2VzID0gYWxsSW5kaWNlcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBOb3RoaW5nIHdhcyBtYXRjaGVkXG4gICAgcmV0dXJuIHtcbiAgICAgIGlzTWF0Y2g6IGZhbHNlLFxuICAgICAgc2NvcmU6IDFcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgcmVnaXN0ZXJlZFNlYXJjaGVycyA9IFtdO1xuXG5mdW5jdGlvbiByZWdpc3RlciguLi5hcmdzKSB7XG4gIHJlZ2lzdGVyZWRTZWFyY2hlcnMucHVzaCguLi5hcmdzKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlU2VhcmNoZXIocGF0dGVybiwgb3B0aW9ucykge1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gcmVnaXN0ZXJlZFNlYXJjaGVycy5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgIGxldCBzZWFyY2hlckNsYXNzID0gcmVnaXN0ZXJlZFNlYXJjaGVyc1tpXTtcbiAgICBpZiAoc2VhcmNoZXJDbGFzcy5jb25kaXRpb24ocGF0dGVybiwgb3B0aW9ucykpIHtcbiAgICAgIHJldHVybiBuZXcgc2VhcmNoZXJDbGFzcyhwYXR0ZXJuLCBvcHRpb25zKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgQml0YXBTZWFyY2gocGF0dGVybiwgb3B0aW9ucylcbn1cblxuY29uc3QgTG9naWNhbE9wZXJhdG9yID0ge1xuICBBTkQ6ICckYW5kJyxcbiAgT1I6ICckb3InXG59O1xuXG5jb25zdCBLZXlUeXBlID0ge1xuICBQQVRIOiAnJHBhdGgnLFxuICBQQVRURVJOOiAnJHZhbCdcbn07XG5cbmNvbnN0IGlzRXhwcmVzc2lvbiA9IChxdWVyeSkgPT5cbiAgISEocXVlcnlbTG9naWNhbE9wZXJhdG9yLkFORF0gfHwgcXVlcnlbTG9naWNhbE9wZXJhdG9yLk9SXSk7XG5cbmNvbnN0IGlzUGF0aCA9IChxdWVyeSkgPT4gISFxdWVyeVtLZXlUeXBlLlBBVEhdO1xuXG5jb25zdCBpc0xlYWYgPSAocXVlcnkpID0+XG4gICFpc0FycmF5KHF1ZXJ5KSAmJiBpc09iamVjdChxdWVyeSkgJiYgIWlzRXhwcmVzc2lvbihxdWVyeSk7XG5cbmNvbnN0IGNvbnZlcnRUb0V4cGxpY2l0ID0gKHF1ZXJ5KSA9PiAoe1xuICBbTG9naWNhbE9wZXJhdG9yLkFORF06IE9iamVjdC5rZXlzKHF1ZXJ5KS5tYXAoKGtleSkgPT4gKHtcbiAgICBba2V5XTogcXVlcnlba2V5XVxuICB9KSlcbn0pO1xuXG4vLyBXaGVuIGBhdXRvYCBpcyBgdHJ1ZWAsIHRoZSBwYXJzZSBmdW5jdGlvbiB3aWxsIGluZmVyIGFuZCBpbml0aWFsaXplIGFuZCBhZGRcbi8vIHRoZSBhcHByb3ByaWF0ZSBgU2VhcmNoZXJgIGluc3RhbmNlXG5mdW5jdGlvbiBwYXJzZShxdWVyeSwgb3B0aW9ucywgeyBhdXRvID0gdHJ1ZSB9ID0ge30pIHtcbiAgY29uc3QgbmV4dCA9IChxdWVyeSkgPT4ge1xuICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXMocXVlcnkpO1xuXG4gICAgY29uc3QgaXNRdWVyeVBhdGggPSBpc1BhdGgocXVlcnkpO1xuXG4gICAgaWYgKCFpc1F1ZXJ5UGF0aCAmJiBrZXlzLmxlbmd0aCA+IDEgJiYgIWlzRXhwcmVzc2lvbihxdWVyeSkpIHtcbiAgICAgIHJldHVybiBuZXh0KGNvbnZlcnRUb0V4cGxpY2l0KHF1ZXJ5KSlcbiAgICB9XG5cbiAgICBpZiAoaXNMZWFmKHF1ZXJ5KSkge1xuICAgICAgY29uc3Qga2V5ID0gaXNRdWVyeVBhdGggPyBxdWVyeVtLZXlUeXBlLlBBVEhdIDoga2V5c1swXTtcblxuICAgICAgY29uc3QgcGF0dGVybiA9IGlzUXVlcnlQYXRoID8gcXVlcnlbS2V5VHlwZS5QQVRURVJOXSA6IHF1ZXJ5W2tleV07XG5cbiAgICAgIGlmICghaXNTdHJpbmcocGF0dGVybikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKExPR0lDQUxfU0VBUkNIX0lOVkFMSURfUVVFUllfRk9SX0tFWShrZXkpKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBvYmogPSB7XG4gICAgICAgIGtleUlkOiBjcmVhdGVLZXlJZChrZXkpLFxuICAgICAgICBwYXR0ZXJuXG4gICAgICB9O1xuXG4gICAgICBpZiAoYXV0bykge1xuICAgICAgICBvYmouc2VhcmNoZXIgPSBjcmVhdGVTZWFyY2hlcihwYXR0ZXJuLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9ialxuICAgIH1cblxuICAgIGxldCBub2RlID0ge1xuICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgb3BlcmF0b3I6IGtleXNbMF1cbiAgICB9O1xuXG4gICAga2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gcXVlcnlba2V5XTtcblxuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICBub2RlLmNoaWxkcmVuLnB1c2gobmV4dChpdGVtKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG5vZGVcbiAgfTtcblxuICBpZiAoIWlzRXhwcmVzc2lvbihxdWVyeSkpIHtcbiAgICBxdWVyeSA9IGNvbnZlcnRUb0V4cGxpY2l0KHF1ZXJ5KTtcbiAgfVxuXG4gIHJldHVybiBuZXh0KHF1ZXJ5KVxufVxuXG4vLyBQcmFjdGljYWwgc2NvcmluZyBmdW5jdGlvblxuZnVuY3Rpb24gY29tcHV0ZVNjb3JlKFxuICByZXN1bHRzLFxuICB7IGlnbm9yZUZpZWxkTm9ybSA9IENvbmZpZy5pZ25vcmVGaWVsZE5vcm0gfVxuKSB7XG4gIHJlc3VsdHMuZm9yRWFjaCgocmVzdWx0KSA9PiB7XG4gICAgbGV0IHRvdGFsU2NvcmUgPSAxO1xuXG4gICAgcmVzdWx0Lm1hdGNoZXMuZm9yRWFjaCgoeyBrZXksIG5vcm0sIHNjb3JlIH0pID0+IHtcbiAgICAgIGNvbnN0IHdlaWdodCA9IGtleSA/IGtleS53ZWlnaHQgOiBudWxsO1xuXG4gICAgICB0b3RhbFNjb3JlICo9IE1hdGgucG93KFxuICAgICAgICBzY29yZSA9PT0gMCAmJiB3ZWlnaHQgPyBOdW1iZXIuRVBTSUxPTiA6IHNjb3JlLFxuICAgICAgICAod2VpZ2h0IHx8IDEpICogKGlnbm9yZUZpZWxkTm9ybSA/IDEgOiBub3JtKVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHJlc3VsdC5zY29yZSA9IHRvdGFsU2NvcmU7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1NYXRjaGVzKHJlc3VsdCwgZGF0YSkge1xuICBjb25zdCBtYXRjaGVzID0gcmVzdWx0Lm1hdGNoZXM7XG4gIGRhdGEubWF0Y2hlcyA9IFtdO1xuXG4gIGlmICghaXNEZWZpbmVkKG1hdGNoZXMpKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBtYXRjaGVzLmZvckVhY2goKG1hdGNoKSA9PiB7XG4gICAgaWYgKCFpc0RlZmluZWQobWF0Y2guaW5kaWNlcykgfHwgIW1hdGNoLmluZGljZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCB7IGluZGljZXMsIHZhbHVlIH0gPSBtYXRjaDtcblxuICAgIGxldCBvYmogPSB7XG4gICAgICBpbmRpY2VzLFxuICAgICAgdmFsdWVcbiAgICB9O1xuXG4gICAgaWYgKG1hdGNoLmtleSkge1xuICAgICAgb2JqLmtleSA9IG1hdGNoLmtleS5zcmM7XG4gICAgfVxuXG4gICAgaWYgKG1hdGNoLmlkeCA+IC0xKSB7XG4gICAgICBvYmoucmVmSW5kZXggPSBtYXRjaC5pZHg7XG4gICAgfVxuXG4gICAgZGF0YS5tYXRjaGVzLnB1c2gob2JqKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHRyYW5zZm9ybVNjb3JlKHJlc3VsdCwgZGF0YSkge1xuICBkYXRhLnNjb3JlID0gcmVzdWx0LnNjb3JlO1xufVxuXG5mdW5jdGlvbiBmb3JtYXQoXG4gIHJlc3VsdHMsXG4gIGRvY3MsXG4gIHtcbiAgICBpbmNsdWRlTWF0Y2hlcyA9IENvbmZpZy5pbmNsdWRlTWF0Y2hlcyxcbiAgICBpbmNsdWRlU2NvcmUgPSBDb25maWcuaW5jbHVkZVNjb3JlXG4gIH0gPSB7fVxuKSB7XG4gIGNvbnN0IHRyYW5zZm9ybWVycyA9IFtdO1xuXG4gIGlmIChpbmNsdWRlTWF0Y2hlcykgdHJhbnNmb3JtZXJzLnB1c2godHJhbnNmb3JtTWF0Y2hlcyk7XG4gIGlmIChpbmNsdWRlU2NvcmUpIHRyYW5zZm9ybWVycy5wdXNoKHRyYW5zZm9ybVNjb3JlKTtcblxuICByZXR1cm4gcmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4ge1xuICAgIGNvbnN0IHsgaWR4IH0gPSByZXN1bHQ7XG5cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgaXRlbTogZG9jc1tpZHhdLFxuICAgICAgcmVmSW5kZXg6IGlkeFxuICAgIH07XG5cbiAgICBpZiAodHJhbnNmb3JtZXJzLmxlbmd0aCkge1xuICAgICAgdHJhbnNmb3JtZXJzLmZvckVhY2goKHRyYW5zZm9ybWVyKSA9PiB7XG4gICAgICAgIHRyYW5zZm9ybWVyKHJlc3VsdCwgZGF0YSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YVxuICB9KVxufVxuXG5jbGFzcyBGdXNlIHtcbiAgY29uc3RydWN0b3IoZG9jcywgb3B0aW9ucyA9IHt9LCBpbmRleCkge1xuICAgIHRoaXMub3B0aW9ucyA9IHsgLi4uQ29uZmlnLCAuLi5vcHRpb25zIH07XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLm9wdGlvbnMudXNlRXh0ZW5kZWRTZWFyY2ggJiZcbiAgICAgICF0cnVlXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoRVhURU5ERURfU0VBUkNIX1VOQVZBSUxBQkxFKVxuICAgIH1cblxuICAgIHRoaXMuX2tleVN0b3JlID0gbmV3IEtleVN0b3JlKHRoaXMub3B0aW9ucy5rZXlzKTtcblxuICAgIHRoaXMuc2V0Q29sbGVjdGlvbihkb2NzLCBpbmRleCk7XG4gIH1cblxuICBzZXRDb2xsZWN0aW9uKGRvY3MsIGluZGV4KSB7XG4gICAgdGhpcy5fZG9jcyA9IGRvY3M7XG5cbiAgICBpZiAoaW5kZXggJiYgIShpbmRleCBpbnN0YW5jZW9mIEZ1c2VJbmRleCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihJTkNPUlJFQ1RfSU5ERVhfVFlQRSlcbiAgICB9XG5cbiAgICB0aGlzLl9teUluZGV4ID1cbiAgICAgIGluZGV4IHx8XG4gICAgICBjcmVhdGVJbmRleCh0aGlzLm9wdGlvbnMua2V5cywgdGhpcy5fZG9jcywge1xuICAgICAgICBnZXRGbjogdGhpcy5vcHRpb25zLmdldEZuLFxuICAgICAgICBmaWVsZE5vcm1XZWlnaHQ6IHRoaXMub3B0aW9ucy5maWVsZE5vcm1XZWlnaHRcbiAgICAgIH0pO1xuICB9XG5cbiAgYWRkKGRvYykge1xuICAgIGlmICghaXNEZWZpbmVkKGRvYykpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuX2RvY3MucHVzaChkb2MpO1xuICAgIHRoaXMuX215SW5kZXguYWRkKGRvYyk7XG4gIH1cblxuICByZW1vdmUocHJlZGljYXRlID0gKC8qIGRvYywgaWR4ICovKSA9PiBmYWxzZSkge1xuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLl9kb2NzLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICBjb25zdCBkb2MgPSB0aGlzLl9kb2NzW2ldO1xuICAgICAgaWYgKHByZWRpY2F0ZShkb2MsIGkpKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQXQoaSk7XG4gICAgICAgIGkgLT0gMTtcbiAgICAgICAgbGVuIC09IDE7XG5cbiAgICAgICAgcmVzdWx0cy5wdXNoKGRvYyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdHNcbiAgfVxuXG4gIHJlbW92ZUF0KGlkeCkge1xuICAgIHRoaXMuX2RvY3Muc3BsaWNlKGlkeCwgMSk7XG4gICAgdGhpcy5fbXlJbmRleC5yZW1vdmVBdChpZHgpO1xuICB9XG5cbiAgZ2V0SW5kZXgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX215SW5kZXhcbiAgfVxuXG4gIHNlYXJjaChxdWVyeSwgeyBsaW1pdCA9IC0xIH0gPSB7fSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGluY2x1ZGVNYXRjaGVzLFxuICAgICAgaW5jbHVkZVNjb3JlLFxuICAgICAgc2hvdWxkU29ydCxcbiAgICAgIHNvcnRGbixcbiAgICAgIGlnbm9yZUZpZWxkTm9ybVxuICAgIH0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICBsZXQgcmVzdWx0cyA9IGlzU3RyaW5nKHF1ZXJ5KVxuICAgICAgPyBpc1N0cmluZyh0aGlzLl9kb2NzWzBdKVxuICAgICAgICA/IHRoaXMuX3NlYXJjaFN0cmluZ0xpc3QocXVlcnkpXG4gICAgICAgIDogdGhpcy5fc2VhcmNoT2JqZWN0TGlzdChxdWVyeSlcbiAgICAgIDogdGhpcy5fc2VhcmNoTG9naWNhbChxdWVyeSk7XG5cbiAgICBjb21wdXRlU2NvcmUocmVzdWx0cywgeyBpZ25vcmVGaWVsZE5vcm0gfSk7XG5cbiAgICBpZiAoc2hvdWxkU29ydCkge1xuICAgICAgcmVzdWx0cy5zb3J0KHNvcnRGbik7XG4gICAgfVxuXG4gICAgaWYgKGlzTnVtYmVyKGxpbWl0KSAmJiBsaW1pdCA+IC0xKSB7XG4gICAgICByZXN1bHRzID0gcmVzdWx0cy5zbGljZSgwLCBsaW1pdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZvcm1hdChyZXN1bHRzLCB0aGlzLl9kb2NzLCB7XG4gICAgICBpbmNsdWRlTWF0Y2hlcyxcbiAgICAgIGluY2x1ZGVTY29yZVxuICAgIH0pXG4gIH1cblxuICBfc2VhcmNoU3RyaW5nTGlzdChxdWVyeSkge1xuICAgIGNvbnN0IHNlYXJjaGVyID0gY3JlYXRlU2VhcmNoZXIocXVlcnksIHRoaXMub3B0aW9ucyk7XG4gICAgY29uc3QgeyByZWNvcmRzIH0gPSB0aGlzLl9teUluZGV4O1xuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcblxuICAgIC8vIEl0ZXJhdGUgb3ZlciBldmVyeSBzdHJpbmcgaW4gdGhlIGluZGV4XG4gICAgcmVjb3Jkcy5mb3JFYWNoKCh7IHY6IHRleHQsIGk6IGlkeCwgbjogbm9ybSB9KSA9PiB7XG4gICAgICBpZiAoIWlzRGVmaW5lZCh0ZXh0KSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgeyBpc01hdGNoLCBzY29yZSwgaW5kaWNlcyB9ID0gc2VhcmNoZXIuc2VhcmNoSW4odGV4dCk7XG5cbiAgICAgIGlmIChpc01hdGNoKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgaXRlbTogdGV4dCxcbiAgICAgICAgICBpZHgsXG4gICAgICAgICAgbWF0Y2hlczogW3sgc2NvcmUsIHZhbHVlOiB0ZXh0LCBub3JtLCBpbmRpY2VzIH1dXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdHNcbiAgfVxuXG4gIF9zZWFyY2hMb2dpY2FsKHF1ZXJ5KSB7XG5cbiAgICBjb25zdCBleHByZXNzaW9uID0gcGFyc2UocXVlcnksIHRoaXMub3B0aW9ucyk7XG5cbiAgICBjb25zdCBldmFsdWF0ZSA9IChub2RlLCBpdGVtLCBpZHgpID0+IHtcbiAgICAgIGlmICghbm9kZS5jaGlsZHJlbikge1xuICAgICAgICBjb25zdCB7IGtleUlkLCBzZWFyY2hlciB9ID0gbm9kZTtcblxuICAgICAgICBjb25zdCBtYXRjaGVzID0gdGhpcy5fZmluZE1hdGNoZXMoe1xuICAgICAgICAgIGtleTogdGhpcy5fa2V5U3RvcmUuZ2V0KGtleUlkKSxcbiAgICAgICAgICB2YWx1ZTogdGhpcy5fbXlJbmRleC5nZXRWYWx1ZUZvckl0ZW1BdEtleUlkKGl0ZW0sIGtleUlkKSxcbiAgICAgICAgICBzZWFyY2hlclxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkeCxcbiAgICAgICAgICAgICAgaXRlbSxcbiAgICAgICAgICAgICAgbWF0Y2hlc1xuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbXVxuICAgICAgfVxuXG4gICAgICBjb25zdCByZXMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gbm9kZS5jaGlsZHJlbltpXTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZXZhbHVhdGUoY2hpbGQsIGl0ZW0sIGlkeCk7XG4gICAgICAgIGlmIChyZXN1bHQubGVuZ3RoKSB7XG4gICAgICAgICAgcmVzLnB1c2goLi4ucmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIGlmIChub2RlLm9wZXJhdG9yID09PSBMb2dpY2FsT3BlcmF0b3IuQU5EKSB7XG4gICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNcbiAgICB9O1xuXG4gICAgY29uc3QgcmVjb3JkcyA9IHRoaXMuX215SW5kZXgucmVjb3JkcztcbiAgICBjb25zdCByZXN1bHRNYXAgPSB7fTtcbiAgICBjb25zdCByZXN1bHRzID0gW107XG5cbiAgICByZWNvcmRzLmZvckVhY2goKHsgJDogaXRlbSwgaTogaWR4IH0pID0+IHtcbiAgICAgIGlmIChpc0RlZmluZWQoaXRlbSkpIHtcbiAgICAgICAgbGV0IGV4cFJlc3VsdHMgPSBldmFsdWF0ZShleHByZXNzaW9uLCBpdGVtLCBpZHgpO1xuXG4gICAgICAgIGlmIChleHBSZXN1bHRzLmxlbmd0aCkge1xuICAgICAgICAgIC8vIERlZHVwZSB3aGVuIGFkZGluZ1xuICAgICAgICAgIGlmICghcmVzdWx0TWFwW2lkeF0pIHtcbiAgICAgICAgICAgIHJlc3VsdE1hcFtpZHhdID0geyBpZHgsIGl0ZW0sIG1hdGNoZXM6IFtdIH07XG4gICAgICAgICAgICByZXN1bHRzLnB1c2gocmVzdWx0TWFwW2lkeF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBleHBSZXN1bHRzLmZvckVhY2goKHsgbWF0Y2hlcyB9KSA9PiB7XG4gICAgICAgICAgICByZXN1bHRNYXBbaWR4XS5tYXRjaGVzLnB1c2goLi4ubWF0Y2hlcyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByZXN1bHRzXG4gIH1cblxuICBfc2VhcmNoT2JqZWN0TGlzdChxdWVyeSkge1xuICAgIGNvbnN0IHNlYXJjaGVyID0gY3JlYXRlU2VhcmNoZXIocXVlcnksIHRoaXMub3B0aW9ucyk7XG4gICAgY29uc3QgeyBrZXlzLCByZWNvcmRzIH0gPSB0aGlzLl9teUluZGV4O1xuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcblxuICAgIC8vIExpc3QgaXMgQXJyYXk8T2JqZWN0PlxuICAgIHJlY29yZHMuZm9yRWFjaCgoeyAkOiBpdGVtLCBpOiBpZHggfSkgPT4ge1xuICAgICAgaWYgKCFpc0RlZmluZWQoaXRlbSkpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGxldCBtYXRjaGVzID0gW107XG5cbiAgICAgIC8vIEl0ZXJhdGUgb3ZlciBldmVyeSBrZXkgKGkuZSwgcGF0aCksIGFuZCBmZXRjaCB0aGUgdmFsdWUgYXQgdGhhdCBrZXlcbiAgICAgIGtleXMuZm9yRWFjaCgoa2V5LCBrZXlJbmRleCkgPT4ge1xuICAgICAgICBtYXRjaGVzLnB1c2goXG4gICAgICAgICAgLi4udGhpcy5fZmluZE1hdGNoZXMoe1xuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgdmFsdWU6IGl0ZW1ba2V5SW5kZXhdLFxuICAgICAgICAgICAgc2VhcmNoZXJcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChtYXRjaGVzLmxlbmd0aCkge1xuICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgIGlkeCxcbiAgICAgICAgICBpdGVtLFxuICAgICAgICAgIG1hdGNoZXNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzdWx0c1xuICB9XG4gIF9maW5kTWF0Y2hlcyh7IGtleSwgdmFsdWUsIHNlYXJjaGVyIH0pIHtcbiAgICBpZiAoIWlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cblxuICAgIGxldCBtYXRjaGVzID0gW107XG5cbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHZhbHVlLmZvckVhY2goKHsgdjogdGV4dCwgaTogaWR4LCBuOiBub3JtIH0pID0+IHtcbiAgICAgICAgaWYgKCFpc0RlZmluZWQodGV4dCkpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgaXNNYXRjaCwgc2NvcmUsIGluZGljZXMgfSA9IHNlYXJjaGVyLnNlYXJjaEluKHRleHQpO1xuXG4gICAgICAgIGlmIChpc01hdGNoKSB7XG4gICAgICAgICAgbWF0Y2hlcy5wdXNoKHtcbiAgICAgICAgICAgIHNjb3JlLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgdmFsdWU6IHRleHQsXG4gICAgICAgICAgICBpZHgsXG4gICAgICAgICAgICBub3JtLFxuICAgICAgICAgICAgaW5kaWNlc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgeyB2OiB0ZXh0LCBuOiBub3JtIH0gPSB2YWx1ZTtcblxuICAgICAgY29uc3QgeyBpc01hdGNoLCBzY29yZSwgaW5kaWNlcyB9ID0gc2VhcmNoZXIuc2VhcmNoSW4odGV4dCk7XG5cbiAgICAgIGlmIChpc01hdGNoKSB7XG4gICAgICAgIG1hdGNoZXMucHVzaCh7IHNjb3JlLCBrZXksIHZhbHVlOiB0ZXh0LCBub3JtLCBpbmRpY2VzIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXRjaGVzXG4gIH1cbn1cblxuRnVzZS52ZXJzaW9uID0gJzYuNi4yJztcbkZ1c2UuY3JlYXRlSW5kZXggPSBjcmVhdGVJbmRleDtcbkZ1c2UucGFyc2VJbmRleCA9IHBhcnNlSW5kZXg7XG5GdXNlLmNvbmZpZyA9IENvbmZpZztcblxue1xuICBGdXNlLnBhcnNlUXVlcnkgPSBwYXJzZTtcbn1cblxue1xuICByZWdpc3RlcihFeHRlbmRlZFNlYXJjaCk7XG59XG5cbmV4cG9ydCB7IEZ1c2UgYXMgZGVmYXVsdCB9O1xuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBTUEsUUFBSSxVQUFVLENBQUMsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFFBQVE7QUFHM2hJLFFBQUksVUFBVSxDQUFDLEtBQUssTUFBTSxNQUFNLE9BQU8sTUFBTSxNQUFNLE9BQU8sT0FBTyxRQUFRLE9BQU8sT0FBTyxPQUFPLFFBQVEsTUFBTSxRQUFRLFFBQVEsT0FBTyxPQUFPLFFBQVEsTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLFFBQVEsT0FBTyxNQUFNLE9BQU8sUUFBUSxPQUFPLFFBQVEsUUFBUSxTQUFTLFFBQVEsT0FBTyxRQUFRLFNBQVMsT0FBTyxTQUFTLFFBQVEsT0FBTyxRQUFRLFNBQVMsU0FBUyxVQUFVLFFBQVEsUUFBUSxRQUFRLE1BQU0sUUFBUSxPQUFPLE1BQU0sUUFBUSxPQUFPLE9BQU8sT0FBTyxNQUFNLE9BQU8sT0FBTyxRQUFRLE9BQU8sTUFBTSxPQUFPLFFBQVEsTUFBTSxRQUFRLFFBQVEsT0FBTyxRQUFRLE9BQU8sUUFBUSxPQUFPLE1BQU0sUUFBUSxPQUFPLE9BQU8sT0FBTyxLQUFLLE1BQU0sTUFBTSxPQUFPLE1BQU0sTUFBTSxPQUFPLFFBQVEsT0FBTyxPQUFPLFFBQVEsUUFBUSxNQUFNLE9BQU8sTUFBTSxNQUFNLE9BQU8sT0FBTyxRQUFRLE9BQU8sTUFBTSxPQUFPLE9BQU8sUUFBUSxRQUFRLE9BQU8sTUFBTSxPQUFPLFFBQVEsUUFBUSxTQUFTLE9BQU8sT0FBTyxPQUFPLE1BQU0sT0FBTyxPQUFPLFFBQVEsT0FBTyxNQUFNLE9BQU8sT0FBTyxRQUFRLE1BQU0sUUFBUSxPQUFPLE1BQU0sT0FBTyxRQUFRLFFBQVEsU0FBUyxPQUFPLE9BQU8sT0FBTyxNQUFNLE9BQU8sUUFBUSxTQUFTLFFBQVEsT0FBTyxPQUFPLFFBQVEsU0FBUyxPQUFPLE1BQU0sUUFBUSxPQUFPLE9BQU8sTUFBTSxPQUFPLE9BQU8sUUFBUSxPQUFPLE1BQU0sT0FBTyxRQUFRLFFBQVEsT0FBTyxNQUFNLE9BQU8sUUFBUSxRQUFRLFNBQVMsT0FBTyxPQUFPLE9BQU8sTUFBTSxPQUFPLE9BQU8sUUFBUSxPQUFPLE1BQU0sT0FBTyxRQUFRLE1BQU0sT0FBTyxRQUFRLFNBQVMsUUFBUSxPQUFPLE9BQU8sUUFBUSxPQUFPLE1BQU0sUUFBUSxPQUFPLE1BQU0sTUFBTSxRQUFRLE9BQU8sT0FBTyxPQUFPLEtBQUssTUFBTSxPQUFPLE9BQU8sUUFBUSxPQUFPLE1BQU0sT0FBTyxPQUFPLFFBQVEsTUFBTSxRQUFRLFFBQVEsT0FBTyxPQUFPLFFBQVEsT0FBTyxNQUFNLE9BQU8sTUFBTSxLQUFLLE1BQU0sT0FBTyxPQUFPLFFBQVEsT0FBTyxNQUFNLE9BQU8sT0FBTyxRQUFRLE1BQU0sUUFBUSxTQUFTLFFBQVEsT0FBTyxPQUFPLFFBQVEsT0FBTyxRQUFRLE9BQU8sTUFBTSxNQUFNLFFBQVEsT0FBTyxPQUFPLE9BQU8sS0FBSyxNQUFNLE1BQU0sT0FBTyxPQUFPLFFBQVEsT0FBTyxPQUFPLE9BQU8sUUFBUSxNQUFNLFFBQVEsUUFBUSxPQUFPLE9BQU8sUUFBUSxNQUFNLE9BQU8sTUFBTSxNQUFNLE9BQU8sUUFBUSxTQUFTLFFBQVEsT0FBTyxPQUFPLFFBQVEsU0FBUyxPQUFPLE1BQU0sUUFBUSxPQUFPLE9BQU8sT0FBTyxRQUFRLE9BQU8sTUFBTSxPQUFPLFFBQVEsTUFBTSxRQUFRLE9BQU8sTUFBTSxPQUFPLFFBQVEsT0FBTyxPQUFPLE9BQU8sTUFBTSxPQUFPLE9BQU8sUUFBUSxPQUFPLE1BQU0sT0FBTyxRQUFRLE9BQU8sUUFBUSxRQUFRLFNBQVMsUUFBUSxPQUFPLFFBQVEsU0FBUyxPQUFPLFFBQVEsT0FBTyxRQUFRLFNBQVMsU0FBUyxVQUFVLFFBQVEsUUFBUSxRQUFRLE1BQU0sUUFBUSxPQUFPLE1BQU0sUUFBUSxPQUFPLE9BQU8sT0FBTyxNQUFNLE9BQU8sT0FBTyxRQUFRLE9BQU8sTUFBTSxRQUFRLE1BQU0sUUFBUSxRQUFRLE9BQU8sUUFBUSxRQUFRLE9BQU8sTUFBTSxRQUFRLE9BQU8sT0FBTyxPQUFPLE1BQU0sT0FBTyxPQUFPLFFBQVEsT0FBTyxPQUFPLFFBQVEsTUFBTSxNQUFNLE1BQU0sT0FBTyxRQUFRLFNBQVMsUUFBUSxPQUFPLE9BQU8sUUFBUSxTQUFTLE9BQU8sTUFBTSxRQUFRLE9BQU8sT0FBTyxNQUFNLE9BQU8sUUFBUSxP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
